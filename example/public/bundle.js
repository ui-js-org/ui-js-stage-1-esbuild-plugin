var Dr=Object.freeze,xa=Object.defineProperty;var Tt=(l,c)=>Dr(xa(l,"raw",{value:Dr(c||l.slice())}));var Ta="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ba=(l=21)=>{let c="",t=l;for(;t--;)c+=Ta[Math.random()*64|0];return c},Ea=ba,xe=class extends Error{constructor(l){super(l),this.name="i.js \u2764\uFE0F  brackets parse ERROR"}};function va({open:l,close:c,pos:t,nodes:e},s,r){return{nodeType:"bracket",open:l,close:c,nodes:e,pos:Object.assign({},t,{end:s}),content:r.substring(t.start,s+1),innerContent:r.substring(t.start+1,s)}}function Pa(l){let c=new Map;return l.forEach(([t,e=t])=>c.set(t,e)),{quotes:c}}function La(l){let c={},t={};return l.forEach(([e,s])=>{t[e]=s,c[s]=e}),{opens:c,closes:t}}function Hn(l){let{text:c,parent:t,start:e,end:s,opt:r}=l;if(e===s&&!r.includeEmpty)return;let o=r.pairs.reduce((n,d)=>n.concat(d.split("")),[]).map(n=>"".concat(r.escape).concat(n)),a=n=>o.reduce((d,T)=>d.split(T).join(T[1]),n),i=t.pos.depth+1;t.nodes.push({nodeType:"text",pos:{start:e,end:s,depth:i},content:a(c.substring(e,s))})}var jn=l=>{let c=l.pop();if(c===void 0)throw new xe("LogicError :)");return c};function Dn(l,c){let e=Object.assign({pairs:["()","{}","[]"],nestMax:100,escape:"\\",skip:!1,includeEmpty:!1,quotes:['"',"'","`"]},c||{}),{pairs:s,nestMax:r,escape:o,skip:a}=e,{opens:i,closes:n}=La(s),{quotes:d}=Pa(e.quotes),T=[{nodeType:"root",nodes:[],pos:{start:0,end:0,depth:-1},content:l}],L=0,N=null,M=0;for(let Y=0;Y<l.length;Y++){let W=jn(T),B=l[Y],E=Y>0&&l[Y-1]===o;if(a&&["{","}","(",")","[","]"].includes(B)&&W.nodeType==="root")T.push(W);else if(a&&["{","(","["].includes(W.open)&&(B==="<"||B===">"))T.push(W);else if(E)T.push(W);else if(N!==null)N===B&&(N=null),T.push(W);else if(d.has(B))N=d.get(B),M=Y,T.push(W);else if(n[B]!==void 0){if(T.length>=r)throw new xe("over nest max limit. options: { nestMax: '".concat(e.nestMax,"' }"));Hn({text:l,parent:W,start:L,end:Y,opt:e}),T.push(W),T.push({nodeType:"bracket-open",pos:{start:Y,depth:W.pos.depth+1},open:B,close:n[B],nodes:[]}),L=Y+1}else if(i[B]!==void 0){if(W.nodeType==="root"||i[B]!==W.open)throw new xe("404 pair '".concat(i[B],"' :").concat(Y));let ft=jn(T);Hn({text:l,parent:W,start:L,end:Y,opt:e});let ht=va(W,Y,l);ft.nodes.push(ht),T.push(ft),L=Y+1}else T.push(W)}if(N!==null)throw new xe("unclosed quote ".concat(N,' near "...').concat(l.substring(L-20,L+30),'..."'));let P=jn(T);if(P.nodeType!=="root")throw new xe("404 pair '".concat(P.open,"' :").concat(P.pos.start));return Hn({text:l,parent:P,start:L,end:l.length,opt:e}),P.nodes}function wa(l){return[...l].reduce((c,t)=>(c.quote?(t===c.quote&&(c.quote=void 0),c.a[c.a.length-1]+=t):t==="="?c.a[c.a.length-1].length?c.a.push("="):c.a[c.a.length-1]="=":t===" "?c.a[c.a.length-1]!=="="&&c.a[c.a.length-1].length&&c.a.push(""):(['"',"'","`"].includes(t)&&(c.quote=t),c.a[c.a.length-1]+=t),c),{a:[""]}).a}function be(l,c="|",t=!1){let e=[...l].reduce((s,r)=>(s.quote?(r===s.quote&&(s.quote=void 0),s.a[s.a.length-1]+=r):r===c?s.a.push(""):(['"',"'","`"].includes(r)&&(s.quote=r),s.a[s.a.length-1]+=r),s),{a:[""]}).a;return t?e.filter(s=>s):e}function Sa(l,c="|"){var t=l.lastIndexOf(c);return[l.substr(0,t),l.substr(t+1)]}function kr(l){if(['"',"'"].includes(l[0])&&l[0]===l[l.length-1]){for(var c=1;c<l.length-1;){if(l[c]===l[0]&&l[c-1]!=="\\")return!1;c++}return!0}return!1}function Ma(l){return l.filter(c=>c.opts&&c.opts.length).forEach(c=>{c.opts2={};let t=c.opts.find(i=>i.type==="loop");if(t){let i=t.key;c.opts2.key=new Function("return ".concat(i))();let n=t.value.split(" as ");if(!n[1])throw"Alias for the loop not defined";let d=n[1].split(",");c.opts2.loop_fn=n[0].trim(),c.opts2.loop_alias=d[0].trim(),d[1]&&(c.opts2.loop_key_alias=d[1].trim())}let e=c.opts.find(i=>i.type==="text");e&&(kr(e.value)?c.opts2.text=e.value.substring(1,e.value.length-1):c.opts2.textFn=e.value);let s=c.opts.find(i=>i.type==="html");s&&(kr(s.value)?c.opts2.html=s.value.substring(1,s.value.length-1):c.opts2.htmlFn=s.value),["if","style","attrs","enterStyles","updateStyles","exitStyles","enterAttrs","updateAttrs","exitAttrs"].forEach(i=>{let n=c.opts.find(d=>d.type===i);n&&(c.opts2[i]=n.value)}),c.opts.filter(i=>i.type==="eventCallback").forEach(i=>{c.opts2.events||(c.opts2.events={});let n=i.key.substr(1);if(c.opts2.events[n])throw'ui.js compile error: Duplicate event name "'.concat(n,'"');i.value[0]==="("&&console.warn('"'.concat(i.key,'(" is deprecated. Use "').concat(i.key,'{" inside "').concat(c.content.length>40?c.content.substring(0,40)+"...":c.content,'" declaration')),i.value=i.value[0]==="("?i.value.substring(1,i.value.length-1).trim():i.value.trim(),i.value[0]==="{"?i.value=i.value.substring(0,i.value.length-1)+";this.render()}":i.value="("+i.value+")==this.render()",c.opts2.events[n]=i.value}),c.opts.filter(i=>i.type==="eventBind"||i.type==="eventBindSelfNamed").forEach(i=>{c.opts2.events||(c.opts2.events={});let n=i.key.substr(1);if(c.opts2.events[n])throw'ui.js compile error: Duplicate event name "'.concat(n,'"');c.opts2.events[n]=new Function("return (...args) => this.".concat(i.value,"(...args)"))()}),c.opts.filter(i=>i.type==="eventCallFunction").forEach(i=>{c.opts2.events||(c.opts2.events={});let n=i.key.substr(1);if(c.opts2.events[n])throw'ui.js compile error: Duplicate event name "'.concat(n,'"');c.opts2.events[n]="".concat(i.value).concat(i.args)})}),l.filter(c=>c.opts&&c.opts.length).forEach(c=>{c.opts2||(c.opts2={}),c.opts2.attrs2||(c.opts2.attrs2={},c.opts2.attrsB={},c.opts2.attrsR={}),c.opts.filter(r=>r.type==="booleanAttribute").forEach(r=>{c.opts2.attrs2[r.key]&&console.warn('ui.js compile warning: direct attibute "'.concat(r.key,'" override attrs({...').concat(r.key,'...}) declaration in tag ""!')),c.opts2.attrs2[r.key]=r.key,c.opts2.attrsB[r.key]=!0}),c.opts.filter(r=>r.type==="stringAttribute").forEach(r=>{c.opts2.attrs2[r.key]&&console.warn('ui.js compile warning: direct attibute "'.concat(r.key,'" override attrs({...').concat(r.key,'...}) declaration in tag ""!')),c.opts2.attrs2[r.key]=r.value}),c.opts.filter(r=>r.type==="jsAttribute").forEach(r=>{if(r.key[0]==="%"){var o=r.key.substr(1);c.opts2.attrsR[o]=r.value}else var o=r.key;c.opts2.attrs2[o]&&console.warn('ui.js compile warning: direct attibute "'.concat(o,'" override attrs({...').concat(o,'...}) declaration in tag ""!')),c.opts2.attrs2[o]=r.value.endsWith("%")?r.value:r})}),l.forEach(c=>{c.opts2&&c.opts2.attrs2&&!Object.keys(c.opts2.attrs2).length&&(delete c.opts2.attrs2,delete c.opts2.attrsB),c.opts2&&c.opts2.events&&!Object.keys(c.opts2.events).length&&delete c.opts2.events}),l}function kt({AAA:l,item:c,tag:t,a:e},s="enter",r="enterStyles"){if(e===s&&l.length){let o=l.shift().content;if(o[0]==="("){if(c.opts.find(a=>a.type===s))throw"ui.js template parse error: duplicate ".concat(s,'() inside "<').concat(t,'>" declaration');c.opts.push({type:r,value:o.slice(1,-1)})}else if(o[0]==="{"){if(s==="if")throw'ui.js template parse error: expected "if(..." but "if'.concat(o[0],'..." found inside "<').concat(t,'>"');if(c.opts.find(a=>a.type===s))throw"ui.js template parse error: duplicate ".concat(s,'() inside "<').concat(t,'>" declaration');c.opts.push({type:r,value:o.slice(1,-1)})}else throw'ui.js template parse error: expected "'.concat(s,'{..." but "').concat(s).concat(o[0],'..." found inside "<').concat(t,'>"');return!0}return!1}function Ca(l){return l.filter(c=>c.nodeType==="bracket"&&c.innerContent[0]!=="/").forEach(c=>{c.opts=[];let t=Dn(c.innerContent).map(s=>({nodeType:s.nodeType,content:s.content.trim()}));var e="";do{let s=t.shift();if(s.nodeType==="bracket")if(c.opts.length){let r=c.opts[c.opts.length-1];if(r.type==="jsAttribute")r.value+=s.content;else throw'ui.js template parse error: unxpected brackets "'.concat(s.content,'" at the end of <').concat(e,"> attributes")}else throw'ui.js template parse error: unxpected brackets "'.concat(s.content,'" at the end of <').concat(e,"> attributes");else if(s.nodeType==="text"){let r=wa(s.content);e||(e=r.shift());do{let o=r.shift();if(r[0]&&r[0][0]==="="){let a=r.shift().substr(1);if(o[0]==="@"){if(['"',"'","`"].includes(a[0]))throw"ui.js template parse error: quotes around ".concat(a," is prohibited");if(t.length&&t[0].nodeType==="bracket"&&!r.length){let i=t.shift();c.opts.push({type:"eventCallFunction",key:o,value:a,args:i.content})}else c.opts.push({type:"eventBind",key:o,value:a.endsWith("/")?a.substring(0,a.length-1):a})}else if(a.startsWith('"')&&a.endsWith('"')||a.startsWith("`")&&a.endsWith("`")||a.startsWith("'")&&a.endsWith("'"))c.opts.push({type:"stringAttribute",key:o,value:a.slice(1,-1)});else if(a.length)c.opts.push({type:"jsAttribute",key:o,value:a.endsWith("/")?a.substring(0,a.length-1):a});else{if(!t.length)throw'ui.js template parse error: unxpected end of attribute "...'.concat(o,'=" inside "<').concat(e,'>" declaration');let i=t.shift().content;i[0]==="{"?c.opts.push({type:"eueAttribute",key:o,value:i}):i[0]==="["?c.opts.push({type:"transitionAttribute",key:o,value:i}):c.opts.push({type:"jsAttribute",key:o,value:i.substring(1,i.length-1)})}}else if(o==="loop"&&t.length){let a=t.shift().content;if(a[0]==="("){if(c.opts.find(d=>d.type==="loop"))throw"ui.js template parse error: duplicate loop".concat(a,' inside "<').concat(e,'>" declaration');let[i,n]=Sa(a.slice(1,-1));if(n)c.opts.push({type:"loop",key:n,value:i});else throw'ui.js template parse error: non-keyed loop not supported yet. "loop'.concat(a,'" inside "<').concat(e,'>"')}else throw'ui.js template parse error: expected "loop(..." but "loop'.concat(a[0],'..." found inside "<').concat(e,'>" ')}else if(!kt({AAA:t,item:c,tag:e,a:o},"if","if")){if(!kt({AAA:t,item:c,tag:e,a:o},"style","style")){if(!kt({AAA:t,item:c,tag:e,a:o},"attrs","attrs")){if(!kt({AAA:t,item:c,tag:e,a:o},"enter","enterStyles")){if(!kt({AAA:t,item:c,tag:e,a:o},"update","updateStyles")){if(!kt({AAA:t,item:c,tag:e,a:o},"exit","exitStyles")){if(!kt({AAA:t,item:c,tag:e,a:o},"#enter","enterAttrs")){if(!kt({AAA:t,item:c,tag:e,a:o},"#update","updateAttrs")){if(!kt({AAA:t,item:c,tag:e,a:o},"#exit","exitAttrs")){if(o==="text"&&t.length){let a=t.shift().content;if(a[0]==="("){if(c.opts.find(i=>i.type==="text"))throw'ui.js template parse error: duplicate text{c} inside "<'.concat(e,'>" declaration');c.opts.push({type:"text",value:a.slice(1,-1)})}else throw'ui.js template parse error: expected "text(..." but "text{c[0]}..." found inside "<'.concat(e,'>"')}else if(o==="html"&&t.length){let a=t.shift().content;if(a[0]==="("){if(c.opts.find(i=>i.type==="html"))throw'ui.js template parse error: duplicate html{c} inside "<'.concat(e,'>" declaration');c.opts.push({type:"html",value:a.slice(1,-1)})}else throw'ui.js template parse error: expected "html(..." but "html{c[0]}..." found inside "<'.concat(e,'>"')}else if(o)if(o[0]==="@")if(!r.length&&t[0]&&t[0].nodeType==="bracket"){let a=t.shift();c.opts.push({type:"eventCallback",key:o,value:a.content})}else o.endsWith("/")?c.opts.push({type:"eventBindSelfNamed",key:o.trim().slice(0,-1),value:o.trim().slice(1,-1)}):c.opts.push({type:"eventBindSelfNamed",key:o.trim(),value:o.trim().slice(1)});else{if(o==="=")throw'ui.js template parse error: unxpected end of attribute "'.concat(o,'" inside "<').concat(e,'>" declaration');o!=="/"&&c.opts.push({type:"booleanAttribute",key:o.endsWith("/")?o.slice(0,-1):o})}}}}}}}}}}}while(r.length)}}while(t.length)}),Ma(l)}var gr={"!DOCTYPE":!0,"!doctype":!0,area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,menuitem:!0,param:!0,source:!0,track:!0,wbr:!0,circle:!0,ellipse:!0,line:!0,path:!0,polygon:!0,polyline:!0,rect:!0,stop:!0,use:!0},Aa=class extends Error{constructor(l){super(l),this.name="ui.js \u2764\uFE0F  syntax ERROR"}};function $n(l,c=[]){if(!c.length)return l;if(l[0]=="@"){if(l.length===1)throw"empty alias tag <@>";let t=c.find(e=>e.alias===l);if(t)l=t.name;else throw"alias <".concat(l,"> not defined")}return l}function Nn(l,c){let t=c.find(e=>e.name===l);return t?t.alias:l}function Oa(l,c){let t=[{children:[]}];if(t.last=()=>t[t.length-1],l.forEach(e=>{if(e.nodeType==="text"){var s=t[t.length-1];if(s.text)throw"children and text() attribute at the same time";s.children.push({tag:"#text",content:e.content})}else{var r=e.content.match(new RegExp("^<(@?[a-z][-a-z0-9]*)(\\s.*)?\\/>$","s"));if(r){var s=t[t.length-1];if(s.text)throw"children and text() attribute at the same time";s.children.push(Object.assign({tag:$n(r[1],c)},e.opts2))}else{var o=e.content.match(new RegExp("^<(@?[a-z][-a-z0-9]*)(\\s.*)?>$","s"));if(o)if(gr[o[1]]){let i=t[t.length-1];if(i.text)throw"children and text() attribute at the same time";i.children.push(Object.assign({tag:$n(o[1],c)},e.opts2))}else t.push(Object.assign({tag:$n(o[1],c),children:[]},e.opts2));else{var a=e.content.match(new RegExp("^<\\/(@?[a-z][-a-z0-9]*)(\\s.*)?>$","s"));if(a){if(gr[a[1]])throw"can't close self-closing tag \"</".concat(a[1],'>"');let i=t[t.length-2],n=t.pop();if(n.children.length===1&&n.children[0].tag==="#text"?(n.text=n.children[0].content,delete n.children):n.children.length||delete n.children,i){if(i.text)throw"children and text() attribute at the same time";let d=Nn(n.tag,c),T=Nn(a[1],c);if(d!==T)throw"the opening and closing tags are not the same <".concat(d,">...</").concat(T,">");i.children.push(n)}else throw!n.children||n.children[0].tag!==a[1]?"missing the opening tag for </".concat(a[1],">"):"closed twice tag <".concat(n.children[0].tag,">")}}}}}),t.length>1){let e=t.find(s=>s.tag);throw"Unclosed tag <".concat(Nn(e.tag,c),">")}return t[0].children}var Ha=Oa,ue={};ue.animate=function(l,c,t,e,s,r,o){if(typeof l!="number"||typeof c!="number"||typeof t!="number"||typeof e!="function")return;typeof s=="string"&&K[s]&&(s=K[s]),typeof s!="function"&&(s=K.linear),typeof r!="function"&&(r=function(){});var a=window.requestAnimationFrame||function(L){window.setTimeout(L,1e3/60)},i=!1,n=c-l;function d(L){if(!i){var N=(L||+new Date)-T;N>=0&&e(s(N,l,n,t)),N>=0&&N>=t?(e(c),r(o,c)):a(d)}}e(l);var T=window.performance&&window.performance.now?window.performance.now():+new Date;return a(d),{update:function(L,N,M){T=window.performance&&window.performance.now?window.performance.now():+new Date,l=L,c=N,n=c-l,typeof M=="string"&&K[M]&&(s=K[M])},cancel:function(){i=!0},last:c}};ue.animateCSS=function(l,c,t,e,s,r,o,a){var i=function(n){l.style[c]=n+t};return ue.animate(e,s,r,i,o,a)};ue.cancel=function(l){l&&l.cancel()};var K=ue.easings={};K.linear=function(l,c,t,e){return t*l/e+c};K.easeInQuad=function(l,c,t,e){return t*(l/=e)*l+c};K.easeOutQuad=function(l,c,t,e){return-t*(l/=e)*(l-2)+c};K.easeInOutQuad=function(l,c,t,e){return(l/=e/2)<1?t/2*l*l+c:-t/2*(--l*(l-2)-1)+c};K.easeInCubic=function(l,c,t,e){return t*(l/=e)*l*l+c};K.easeOutCubic=function(l,c,t,e){return t*((l=l/e-1)*l*l+1)+c};K.easeInOutCubic=function(l,c,t,e){return(l/=e/2)<1?t/2*l*l*l+c:t/2*((l-=2)*l*l+2)+c};K.easeInQuart=function(l,c,t,e){return t*(l/=e)*l*l*l+c};K.easeOutQuart=function(l,c,t,e){return-t*((l=l/e-1)*l*l*l-1)+c};K.easeInOutQuart=function(l,c,t,e){return(l/=e/2)<1?t/2*l*l*l*l+c:-t/2*((l-=2)*l*l*l-2)+c};K.easeInQuint=function(l,c,t,e){return t*(l/=e)*l*l*l*l+c};K.easeOutQuint=function(l,c,t,e){return t*((l=l/e-1)*l*l*l*l+1)+c};K.easeInOutQuint=function(l,c,t,e){return(l/=e/2)<1?t/2*l*l*l*l*l+c:t/2*((l-=2)*l*l*l*l+2)+c};K.easeInSine=function(l,c,t,e){return-t*Math.cos(l/e*(Math.PI/2))+t+c};K.easeOutSine=function(l,c,t,e){return t*Math.sin(l/e*(Math.PI/2))+c};K.easeInOutSine=function(l,c,t,e){return-t/2*(Math.cos(Math.PI*l/e)-1)+c};K.easeInExpo=function(l,c,t,e){return l==0?c:t*Math.pow(2,10*(l/e-1))+c};K.easeOutExpo=function(l,c,t,e){return l==e?c+t:t*(-Math.pow(2,-10*l/e)+1)+c};K.easeInOutExpo=function(l,c,t,e){return l==0?c:l==e?c+t:(l/=e/2)<1?t/2*Math.pow(2,10*(l-1))+c:t/2*(-Math.pow(2,-10*--l)+2)+c};K.easeInCirc=function(l,c,t,e){return-t*(Math.sqrt(1-(l/=e)*l)-1)+c};K.easeOutCirc=function(l,c,t,e){return t*Math.sqrt(1-(l=l/e-1)*l)+c};K.easeInOutCirc=function(l,c,t,e){return(l/=e/2)<1?-t/2*(Math.sqrt(1-l*l)-1)+c:t/2*(Math.sqrt(1-(l-=2)*l)+1)+c};K.easeInElastic=function(l,c,t,e){var s=0,r=t;if(l==0)return c;if((l/=e)==1)return c+t;if(s||(s=e*.3),r<Math.abs(t)){r=t;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(t/r);return-(r*Math.pow(2,10*(l-=1))*Math.sin((l*e-o)*(2*Math.PI)/s))+c};K.easeOutElastic=function(l,c,t,e){var s=0,r=t;if(l==0)return c;if((l/=e)==1)return c+t;if(s||(s=e*.3),r<Math.abs(t)){r=t;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(t/r);return r*Math.pow(2,-10*l)*Math.sin((l*e-o)*(2*Math.PI)/s)+t+c};K.easeInOutElastic=function(l,c,t,e){var s=0,r=t;if(l==0)return c;if((l/=e/2)==2)return c+t;if(s||(s=e*(.3*1.5)),r<Math.abs(t)){r=t;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(t/r);return l<1?-.5*(r*Math.pow(2,10*(l-=1))*Math.sin((l*e-o)*(2*Math.PI)/s))+c:r*Math.pow(2,-10*(l-=1))*Math.sin((l*e-o)*(2*Math.PI)/s)*.5+t+c};K.easeInBack=function(l,c,t,e,s){return s==null&&(s=1.70158),t*(l/=e)*l*((s+1)*l-s)+c};K.easeOutBack=function(l,c,t,e,s){return s==null&&(s=1.70158),t*((l=l/e-1)*l*((s+1)*l+s)+1)+c};K.easeInOutBack=function(l,c,t,e,s){return s==null&&(s=1.70158),(l/=e/2)<1?t/2*(l*l*(((s*=1.525)+1)*l-s))+c:t/2*((l-=2)*l*(((s*=1.525)+1)*l+s)+2)+c};K.easeInBounce=function(l,c,t,e){return t-K.easeOutBounce(e-l,0,t,e)+c};K.easeOutBounce=function(l,c,t,e){return(l/=e)<1/2.75?t*(7.5625*l*l)+c:l<2/2.75?t*(7.5625*(l-=1.5/2.75)*l+.75)+c:l<2.5/2.75?t*(7.5625*(l-=2.25/2.75)*l+.9375)+c:t*(7.5625*(l-=2.625/2.75)*l+.984375)+c};K.easeInOutBounce=function(l,c,t,e){return l<e/2?K.easeInBounce(l*2,0,t,e)*.5+c:K.easeOutBounce(l*2-e,0,t,e)*.5+t*.5+c};var It=ue,ja={},fe=ja,gt={duration:500};function zr(l,c,t){var e=l[c];if(c<t)for(;c<t;c++)l[c]=l[c+1];else for(;c>t;c--)l[c]=l[c-1];l[t]=e}function Ge(l,c){if(typeof fe[l.tag]=="function")var t=new fe[l.tag](c,l);else if(l.svg)var t=document.createElementNS("http://www.w3.org/2000/svg",l.tag);else var t=document.createElement(l.tag);return Object.assign(t,{_attrs:{},_styles:{},_attrsV:{},_styleV:{},_colors:{},_events:{}}),t}function $a(l,c,t){c._BASE_ELEMENT?t?l._childNodes.splice(l._childNodes.findIndex(e=>e===t)+1,0,c):l._childNodes.unshift(c):t?t.after(c):l.prepend(c)}function We(l,c){c._BASE_ELEMENT?l._childNodes.unshift(c):l.prepend(c)}function kn(l,c,t){var e,s=void 0,r="linear",o=void 0,a=void 0,i=void 0;if(typeof t=="object"){var n=t.duration||gt.duration,d=t.to;t.ease&&(r=t.ease),t.fn&&(o=t.fn),t.done&&(a=t.done),t.from!==void 0&&(s=t.from),t.default!==void 0&&(i=t.default)}else var n=gt.duration,d=t;if(s===void 0){var T=l.__rendererName?l.state[c]:l.getAttribute(c);s=T==null?i||0:Number(T)}It.cancel(l._attrs[c]),o?(s=((e=l._attrs[c])==null?void 0:e.last)||0,l._attrs[c]=It.animate(s,d,n,L=>{l.setAttribute(c,o(L))},r,a,l)):l._attrs[c]=It.animate(s,d,n,L=>{l.setAttribute(c,L)},r,a,l)}function Na(l,c,t){var e="linear",s=0;if(typeof t=="object"){var r=t.duration||gt.duration,o=t.to;t.ease&&(e=t.ease),t.delay&&(s=t.delay)}else var r=gt.duration,o=t;l._colors[c]=c+" "+r+"ms "+e+" "+s+"ms",clearTimeout(l._styles[c]),l._styles[c]=setTimeout(()=>{delete l._colors[c];var i=Object.values(l._colors).join(",");l._transition!=i&&(l._transition=i,l._transition?l.style.setProperty("transition",l._transition):l.style.removeProperty("transition"))},r+s);var a=Object.values(l._colors).join(",");l._transition!=a&&(l._transition=a,l._transition?l.style.setProperty("transition",l._transition):l.style.removeProperty("transition")),l.style.getPropertyValue(c)||l.style.setProperty(c,"#000000"),l.style.setProperty(c,getComputedStyle(l)[c]),setTimeout(()=>{l.style.setProperty(c,o)},0)}function us(l,c,t){if(["color","background","fill","stroke","background-color","border-color"].includes(c)){Na(l,c,t);return}var e="linear",s=void 0,r=void 0,o=0,a="",i=void 0,n=void 0;if(typeof t=="object"){if(typeof t.duration=="function"&&(t.duration=t.duration()),t.duration===0&&t.to){It.cancel(l._styles[c]),l.style.setProperty(c,t.to);return}var d=t.duration||gt.duration,T=t.to;t.from!==void 0&&(r=t.from),t.default!==void 0&&(n=t.default),t.ease&&(e=t.ease),t.done&&(s=t.done),t.threshold!==void 0&&(o=t.threshold),t.fn&&(i=t.fn)}else var d=gt.duration,T=t;var L=c.startsWith("--"),N=L?l.style.getPropertyValue(c):l.style[c];if(!N&&n&&(N=n),typeof T=="string"?["px","%","deg","vw","vh","em"].some(M=>{if(T.endsWith(M))return r!==void 0?r.endsWith(M)&&(r=Number(r.substring(0,r.length-M.length))):r=Number(N.substring(0,N.length-M.length)),T=Number(T.substring(0,T.length-M.length)),a=M,!0})||(T=Number(T)):r===void 0&&(r=Number(N)),o&&Math.abs(r-T)<o){It.cancel(l._styles[c]),l.style.setProperty(c,t.to);return}It.cancel(l._styles[c]),i?l._styles[c]=It.animate(r,T,d,M=>{l.style.setProperty(c,i(M+a))},e,s,l):l._styles[c]=It.animate(r,T,d,M=>{l.style.setProperty(c,M+a)},e,s,l)}function fs(l,c){return!!(l==="input"&&["checked","autofocus","readonly","required","disabled","multiple"].includes(c)||l==="option"&&["selected"].includes(c)||l==="button"&&["disabled","multiple"].includes(c))}function ps(l,c,t,e,s){return typeof s!="object"?(l.setAttribute(e,s),gt.duration):(kn(l,e,s),s.duration?s.duration:gt.duration)}function _s(l,c,t,e,s){return us(l,e,s),s.duration?s.duration:gt.duration}function Ua(l,c,t,e,s,r){var o=0,a=0;if(c.exitAttrs){var i=c.exitAttrs(t);typeof i=="object"&&(a=Object.entries(i).reduce((d,T)=>Math.max(ps(l,c,t,T[0],T[1]),d),0))}if(c.exitStyles){var n=c.exitStyles(t);typeof n=="object"&&(o=Object.entries(n).reduce((d,T)=>Math.max(_s(l,c,t,T[0],T[1]),d),0))}if(l.isExit=!0,o>0||a>0){let d=setTimeout(()=>r.Done.then(()=>{Ee(l),s.exit.delete(e)}),o>a?o:a);s.exit.set(e,{element:l,timeout:d});return}clearTimeout(s.exit[e]),Ee(l)}function Ra(l,c,t,e,s){var r=0,o=0;if(c.exitAttrs){var a=c.exitAttrs(t);typeof a=="object"&&(o=Object.entries(a).reduce((n,d)=>Math.max(ps(l,c,t,d[0],d[1]),n),0))}if(c.exitStyles){var i=c.exitStyles(t);typeof i=="object"&&(r=Object.entries(i).reduce((n,d)=>Math.max(_s(l,c,t,d[0],d[1]),n),0))}if(l.isExit=!0,r>0||o>0){let n=setTimeout(()=>e.Done.then(()=>{e.__i__[s]=!1,Ee(l)}),r>o?r:o);return e.__i__[s]={exit:n},!1}return clearTimeout(e.__i__[s]),e.__i__[s]=!1,Ee(l),!0}async function Ee(l){if(l.nodeName==="#text"){console.log("TEXT");return}if(l.__i__)for(let t of Object.values(l.__i__))clearTimeout(t.exit);for(let t of Object.values(l._attrs))t!=null&&t.cancel&&t.cancel();for(let t of Object.values(l._styles))t!=null&&t.cancel&&t.cancel();let c=l.__rendererName?l.document._childNodes:l.children;for(;c.length;){let t=c[c.length-1];await Ee(t)}await l.remove()}function Te(l,c,t,e,s,r,o){var a=s.keys,i=s.elements,n=s.exit,d=i.length,T=o.length,L=d>T?d:T,N=0,M=0,P=0;do{if(M<T){var Y=l.key(o[M],M);if(M>=d){d++,L=d>T?d:T;var W=n.get(Y);if(W){clearTimeout(W.timeout);var B=W.element;delete B.isExit,l.svg||(B.className=""),n.delete(Y)}else var B=Ge(l,c);if(e[l.loop_alias]=o[M],l.loop_key_alias&&(e[l.loop_key_alias]=M),qe(B,l,e,Et,W),M===0)if(n.size)for(let vt of n){vt[1].element.before(B);break}else t?t.after(B):We(c,B);else i[M-1].after(B);i.splice(M,0,B),B.key=Y,a[Y]=!0,M++;continue}else{var E=i[M].key;if(Y===E){e[l.loop_alias]=o[M],l.loop_key_alias&&(e[l.loop_key_alias]=M),l.Update_Tag(i[M],l,e,Et),M++;continue}else if(a[Y]){var ft=void 0,ht=void 0;let vt;for(var St=void 0,mt=M+1;mt<L;mt++)if(!ft&&mt<d&&i[mt].key===Y&&(ft=mt+1),!ht&&mt<T&&l.key(o[mt],mt)===E&&(ht=mt+1),ft&&ht){var dt=i[M];if(ft>=ht)vt=i[ft-1],c.insertBefore(vt,dt),e[l.loop_alias]=o[M],l.loop_key_alias&&(e[l.loop_key_alias]=M),l.Update_Tag(vt,l,e,Et),ft===ht?(mt-M>1&&(ft>=i.length?i[mt-1].after(dt):c.insertBefore(dt,i[ft])),i[M]=i[mt],i[mt]=dt):(zr(i,ft-1,M),N++),M++;else{vt=!0;var bt=ht-1+N;if(bt>=i.length)i[i.length-2].after(dt);else{if(!i[bt])throw 9999999999;c.insertBefore(dt,i[bt])}zr(i,M,(bt>d?d:bt)-1),e[l.loop_alias]=o[M],l.loop_key_alias&&(e[l.loop_key_alias]=M),l.Update_Tag(dt,l,e,Et)}break}if(vt)continue}else{d++,L=d>T?d:T;var W=n.get(Y);if(W)clearTimeout(W.timeout),B=W.element,delete B.isExit,l.svg||(B.className=""),n.delete(Y);else var B=Ge(l,c);e[l.loop_alias]=o[M],l.loop_key_alias&&(e[l.loop_key_alias]=M),qe(B,l,e,Et,W),M===0?t?t.after(B):We(c,B):i[M-1].after(B),i.splice(M,0,B),B.key=Y,a[Y]=!0,M++;continue}}}delete a[i[M].key],l.loop_key_alias&&(e[l.loop_key_alias]=M+P,P++),Ua(i[M],l,e,i[M].key,s,c),i.splice(M,1),d--,L=d>T?d:T}while(M<L);return s.length=i.length,n.size+s.length}function Ia(){return{ret_element:function(l,c,t,e){return l},children:function(l,c,t,e){e.UPDATE_Chidldren(l,c.children,t)},fn_text:function(l,c,t,e){var s=c.text(t);if(!l){console.log("NOT element.__lastText",l),console.trace();return}l.__lastText!==s&&(l.textContent=l.__lastText=s)},fn_html:function(l,c,t,e){var s=c.html(t);l.__lastHTML!==s&&(l.innerHTML=l.__lastHTML=s)},updateProps:function(l,c,t,e){c.updateProps(l,c,t,e)}}}function ms(l){var c=[],t=Ia();return l.tag==="#text"?(c.push(t.ret_element),c):(l.children?c.push(t.children):l.html?typeof l.html=="function"&&c.push(t.fn_html):l.text&&typeof l.text=="function"&&c.push(t.fn_text),l.updateProps&&(c=[...c,...l.updateProps]),c.push(t.ret_element),c)}function Ba(l,c,t,e,s,r){return c.Update_Tag(l.__rendererName?l._childNodes[s]:l.childNodes[s],c,t,Et),s+1}function Fa(l,c,t,e,s,r){let o=c.loop(t);if(!r||r.length===0){if(!r||r.exit.size===0)return o.length?e===0?(c.enter(c,l,void 0,t,e,o,Et),s+l.__i__[e].length):(c.enter(c,l,s===0?void 0:l.__rendererName?l._childNodes[s-1]:l.childNodes[s-1],t,e,o,Et),s+l.__i__[e].length):s;if(o.length){let a=Te(c,l,e===0||s===0?void 0:l.__rendererName?l._childNodes[s]:l.childNodes[s],t,r,e,o);return s+a}else return s+r.exit.size}else if(o.length){let a=Te(c,l,e===0||s===0?void 0:l.__rendererName?l._childNodes[s-1]:l.childNodes[s-1],t,r,e,o);return s+a}else{let a=Te(c,l,e===0||s===0?void 0:l.__rendererName?l._childNodes[s]:l.childNodes[s],t,r,e,o);return s+a}}function Da(l,c,t,e,s,r){if(r===!1)if(c.if(t)){let i=Ge(c,l);if(c.children)ve(i,c.children,t);else if(c.text){var o=typeof c.text=="function"?c.text(t):c.text;i.__lastText!==o&&(i.textContent=i.__lastText=o)}else if(c.html){var a=typeof c.html=="function"?c.html(t):c.html;i.__lastHTML!==a&&(i.innerHTML=i.__lastHTML=a)}return c.enterProps&&c.enterProps(i,c,t,Et),s===0?We(l,i):l.__rendererName?l._childNodes[s-1].after(i):l.childNodes[s-1].after(i),l.__i__[e]={exit:!1},s+1}else return s;else return c.if(t)?r.exit?(clearTimeout(r.exit),c.enterProps&&c.enterProps(l.__rendererName?l._childNodes[s]:l.childNodes[s],c,t,Et),l.__i__[e]={exit:!1},s+1):(c.Update_Tag(l.__rendererName?l._childNodes[s]:l.childNodes[s],c,t,Et),s+1):r.exit?s+1:Ra(l.__rendererName?l._childNodes[s]:l.childNodes[s],c,t,l,e)?s:s+1}function ka(l,c,t,e,s,r){if(r===!1||r.length===0)if(c.if(t)){let o=c.loop(t);return o.length?e===0?(c.enter(c,l,void 0,t,e,o,Et),s+l.__i__[e].length):(c.enter(c,l,s===0?void 0:l.__rendererName?l._childNodes[s-1]:l.childNodes[s-1],t,e,o,Et),s+l.__i__[e].length):s}else return s;else if(c.if(t)){let o=c.loop(t),a=Te(c,l,e===0&&s===0?void 0:l.__rendererName||l.__rendererName?l._childNodes[s]:l.childNodes[s],t,r,e,o);return s+a}else{if(r.length===0)return s+r.exit.size;{let o=Te(c,l,e===0&&s===0?void 0:l.__rendererName?l._childNodes[s]:l.childNodes[s],t,r,e,[]);return s+o}}}function hs(l,c,t){if(!l.isExit){var e=void 0;l.Done=new Promise(r=>e=r);var s=0;c.every((r,o)=>{if(!l.__i__)return console.groupCollapsed("Not initialized element!!! "+r.tag),console.dir(l),console.log("component",c),console.log("tag",r),console.trace(),console.groupEnd(),!1;let a=l.__i__[o];return r.tag==="#text"?(s++,!0):(r.hasOwnProperty("if")?r.loop?s=ka(l,r,t,o,s,a):s=Da(l,r,t,o,s,a):r.loop?s=Fa(l,r,t,o,s,a):s=Ba(l,r,t,o,s,a),!0)}),e()}}function ga(l,c,t,e){var s,r;if(l.tag==="input"&&t==="value")c._attrsV[t]!==e&&(c._attrsV[t]=e,c.value!=e&&(c.value=e));else if(t==="class"){if(typeof e=="object"&&e!==null)throw"Cannot do transition on class attribute";var o=e||void 0;c._attrsV[t]!==o&&(c._attrsV[t]=o,o?l.svg?c.setAttribute(t,o):c.className=o:c.removeAttribute(t))}else if(t==="style"){if(typeof e=="object"&&e!==null)throw"Cannot do transition on style attribute";var o=e||void 0;c._attrsV[t]!==o&&(c._attrsV[t]=o,o?c.setAttribute(t,o):c.removeAttribute(t))}else(typeof e=="object"||c._attrsV[t]!==e||Array.isArray(e))&&(fs(l.tag,t)?(c._attrsV[t]=e,l.tag==="input"&&l.attrs2.type==="radio"&&t==="checked"&&!l.attrsB[t]?l.attrs2.value?l.attrs2.value==e?(c.setAttribute(t,""),c[t]=t):(c.removeAttribute(t),c[t]=""):e?(c.setAttribute(t,""),c[t]=t):(c.removeAttribute(t),c[t]=""):e?c.setAttribute(t,"")||(c[t]=t):c.removeAttribute(t)||(c[t]="")):l.tag==="textarea"&&t==="value"?c.value=e:(!l.attrs3||!l.attrs3[t])&&typeof e=="object"?e!=null&&e.skip||c._attrsV[t]!==e.to&&(c._attrsV[t]=e.to,e!=null&&e.disabled?((s=c._attrs[t])!=null&&s.cancel&&c._attrs[t].cancel(),c.setAttribute(t,e.to)):kn(c,t,e)):c._attrsV[t]!==e&&(c._attrsV[t]=e,(r=c._attrs[t])!=null&&r.cancel&&c._attrs[t].cancel(),c.setAttribute(t,e)))}function za(){return{updateAttrs:function(l,c,t,e){Object.entries(c.updateAttrs(t)).forEach(([s,r])=>{e.updateAttribute(c,l,s,r)})},attrs3:function(l,c,t,e){Object.entries(c.attrs3).forEach(([s,r])=>{e.updateAttribute(c,l,s,typeof r=="function"?r(t):r)})},updateStyles:function(l,c,t,e){Object.entries(c.updateStyles(t)).forEach(([s,r])=>{var o;typeof r=="object"?l._styleV[s]!==r.to&&(r!=null&&r.skip||(l._styleV[s]=r.to,r!=null&&r.disabled?((o=l._styles[s])!=null&&o.cancel&&l._styles[s].cancel(),l.style.setProperty(s,r.to)):e.animateCSS(l,s,r))):l._styleV[s]!==r&&(l._styleV[s]=r,l.style.setProperty(s,r))})},style:function(l,c,t,e){Object.entries(c.style(t)).forEach(([s,r])=>{l._styleV[s]!==r&&(l._styleV[s]=r,l.style.setProperty(s,r))})},events:function(l,c,t,e){l.__datum={...t}}}}function ds(l){let c=[],t=za();return l.updateAttrs&&c.push(t.updateAttrs),l.attrs3&&c.push(t.attrs3),l.style&&c.push(t.style),l.updateStyles&&c.push(t.updateStyles),l.events&&c.push(t.events),c}var Va=(...l)=>l.filter(c=>typeof c=="function").reduce((c,t)=>c===null?t:function(...s){c.apply(this,s),t.apply(this,s)},null),Ya={createElement:Ge,insertElement:$a,prependElement:We,Enter_Children:ve,UPDATE_Chidldren:hs,Update_Tag:ms,animateAttr:kn,animateCSS:us,enterProps:ys,enterAttribute:Ga,updateProps:ds,updateAttribute:ga},Et=Ya;function Ga(l,c,t,e){var s;if(t==="class"){var r=e||void 0;c._attrsV[t]=r,r&&(l.svg?c.setAttribute(t,r):c.className=r)}else if(t==="style"){var r=e||void 0;c._attrsV[t]=r,r&&c.setAttribute(t,r)}else t==="id"?(c._attrsV[t]=e,c.id=e,c.setAttribute(t,e)):fs(l.tag,t)?l.tag==="input"&&l.attrs2.type==="radio"&&t==="checked"&&!l.attrsB[t]?l.attrs2.value?l.attrs2.value==e&&(c.setAttribute(t,""),c._attrsV[t]=e&&!0):e&&(c.setAttribute(t,""),c._attrsV[t]=e&&!0):(c._attrsV[t]=e&&!0,e&&c.setAttribute(t,"")):l.tag==="textarea"&&t==="value"?(c._attrsV[t]=e,c.innerHTML=e):((s=c._attrs[t])!=null&&s.cancel&&c._attrs[t].cancel(),c._attrsV[t]=e,c.setAttribute(t,e))}function Wa(){return{enterAttrs:function(l,c,t,e){Object.entries(c.enterAttrs(t)).forEach(([s,r])=>{var o;if(Array.isArray(r))throw"not implemented";typeof r=="object"?(l._attrsV[s]=r,e.animateAttr(l,s,r)):((o=l._attrs[s])!=null&&o.cancel&&l._attrs[s].cancel(),e.enterAttribute(c,l,s,r))})},attrs:function(l,c,t,e){var s=c.attrs?c.attrs(t):{};c.attrs2&&Object.entries(c.attrs2).forEach(([r,o])=>{s[r]=typeof o=="function"?o(t):o}),Object.entries(s).forEach(([r,o])=>{e.enterAttribute(c,l,r,o)})},enterStyles:function(l,c,t,e){Object.entries(c.enterStyles(t)).forEach(([s,r])=>{var o;if(Array.isArray(r))throw"not implemented";typeof r=="object"?(l._styleV[s]=r.to,e.animateCSS(l,s,r)):(l._styleV[s]=r,(o=l._styles[s])!=null&&o.cancel&&l._styles[s].cancel(),l.style.setProperty(s,r))})},style:function(l,c,t,e){Object.entries(c.style(t)).forEach(([s,r])=>{l._styleV[s]=r,l.style.setProperty(s,r)})},events:function(l,c,t,e){l.__datum={...t},Object.entries(c.events).forEach(([s,r])=>{l._events[s]=o=>r(o,l.__datum,l),l.addEventListener(s,l._events[s])})}}}function ys(l){let c=[],t=Wa();return l.enterAttrs&&c.push(t.enterAttrs),(l.attrs||l.attrs2)&&c.push(t.attrs),l.style&&c.push(t.style),l.enterStyles&&c.push(t.enterStyles),l.events&&c.push(t.events),c}function qa(l){return(c,t,e,s,r,o,a)=>{var i={},n=new Map,d=[],T=e;return o.forEach((L,N)=>{var M=a.createElement(c,t);M.key=c.key(L,N),i[M.key]=!0,d.push(M),s[c.loop_alias]=L,c.loop_key_alias&&(s[c.loop_key_alias]=N),c.enterProps&&c.enterProps(M,c,s,a),c.children?a.Enter_Children(M,c.children,s):(c.text&&(typeof c.text=="function"?M.textContent=M.__lastText=c.text(s):M.textContent=M.__lastText=c.text),c.html&&(typeof c.html=="function"?M.innerHTML=M.__lastHTML=c.html(s):M.innerHTML=M.__lastHTML=c.html)),N===0&&!T?a.prependElement(t,M):T.after(M),T=M}),t.__i__[r]={length:o.length,exit:n,elements:d,keys:i},T}}function Ja(l,c,t,e){l.__i__={},c.forEach((s,r)=>{if(s.if&&!s.if(t)){l.__i__[r]=!1;return}if(s.loop){if(s.loop(t).length)throw 123;l.__i__[r]=!1;return}else{let o=l.__rendererName?l._childNodes:l.children;qe(o[r],s,t,e,!0);return}})}function qe(l,c,t,e,s){return c.enterProps&&c.enterProps(l,c,t,e),c.children?s?Ja(l,c.children,t,e):ve(l,c.children,t):(c.text&&(typeof c.text=="function"?l.textContent=l.__lastText=c.text(t):l.textContent=l.__lastText=c.text),c.html&&(typeof c.html=="function"?l.innerHTML=l.__lastHTML=c.html(t):l.innerHTML=l.__lastHTML=c.html)),l}function Qa(l,c,t,e,s){return l.element=document.createTextNode(l.content),t?t.after(l.element):c.prepend(l.element),c.__i__[s]={exit:!1},l.element}function Xa(l){return(c,t,e,s,r,o,a)=>{var i=a.createElement(c,t);return c.enterProps&&c.enterProps(i,c,s,a),c.text&&(typeof c.text=="function"?i.textContent=i.__lastText=c.text(s):i.textContent=i.__lastText=c.text),c.html&&(typeof c.html=="function"?i.innerHTML=i.__lastHTML=c.html(s):i.innerHTML=i.__lastHTML=c.html),a.insertElement(t,i,e),t.__i__[r]={exit:!1},i}}function Ka(l){return(c,t,e,s,r,o,a)=>{var i=a.createElement(c,t);return c.enterProps&&c.enterProps(i,c,s,a),a.insertElement(t,i,e),a.Enter_Children(i,c.children,s),t.__i__[r]={exit:!1},i}}function ve(l,c,t){l.__i__={};var e;c.forEach((s,r)=>{if(s.if&&!s.if(t)){l.__i__[r]=!1;return}if(s.loop){let o=s.loop(t);if(o.length){e=s.enter(s,l,e,t,r,o,Et);return}else{l.__i__[r]=!1;return}}else{e=s.enter(s,l,e,t,r,void 0,Et);return}})}function Za(l){if(l.tag==="#text"){l.enter=Qa;return}l.enterProps=ys(l),l.updateProps=ds(l),l.Update_Tag=ms(l),l.loop?l.enter=qa(l):l.enter=l.children?Ka(l):Xa(l)}var tl=Object.getPrototypeOf(async function(){}).constructor,Un=tl,el=["svg","g","path","polygon","rect","circle","line","clipPath","cursor","defs","desc","ellipse","filter","font","glyph","image","text","textPath","animate","animateMotion","animateTransform"],ze=(l,c)=>new Function("return ({ ".concat(l.context.join(",")," }) => ").concat(l[c]))(),nl=(l,c)=>new Function("return ({ ".concat(l.context.join(",")," }) => ({").concat(l[c],"})"))(),Ve=(l,c,t)=>new Function("return (event, { ".concat(l.context.join(",")," }, element) => {setTimeout(()=>this.render(),0);").concat(c," = event.target.").concat(t,"} "))(),rl=(l,c)=>new Function("return async (event, { ".concat(l.context.join(",")," }, element) => ").concat(c))(),sl=(l,c)=>new Function("return ({ ".concat(l.context.join(",")," }) => ").concat(c.value+(c.args||"")))();function xs(l,c,t){return l.forEach((e,s)=>{el.includes(e.tag)&&(e.svg=!0),e.context=[...c],e.loop_alias&&(e.loop=ze(e,"loop_fn"),e.context.push(e.loop_alias),e.loop_key_alias&&e.context.push(e.loop_key_alias)),e.textFn&&(e.text=ze(e,"textFn"),delete e.textFn),e.htmlFn&&(e.html=ze(e,"htmlFn"),delete e.htmlFn),e.if&&(e.if=ze(e,"if")),["style","attrs","enterStyles","updateStyles","exitStyles","enterAttrs","updateAttrs","exitAttrs"].forEach(r=>{e[r]&&(e[r]=nl(e,r))}),e.events&&Object.entries(e.events).forEach(([r,o])=>{typeof o=="string"&&(e.events[r]=rl(e,o))}),e.attrsR&&Object.keys(e.attrsR).length&&Object.entries(e.attrsR).forEach(([r,o])=>{if(e.events||(e.events={}),e.events.input)throw"@input and reactive attr at the same time";e.tag==="input"?r==="value"?e.events.input=Ve(e,o,"value"):r==="checked"&&(e.attrs2.type==="checkbox"?e.events.input=Ve(e,o,"checked"):e.attrs2.type==="radio"&&(e.events.input=Ve(e,o,"value"))):e.tag==="textarea"&&r==="value"&&(e.events.input=Ve(e,o,"value"))}),e.attrs2&&(Object.keys(e.attrs2).length&&(e.attrs3={}),Object.entries(e.attrs2).forEach(([r,o])=>{typeof o=="object"&&o.type==="jsAttribute"&&(e.attrs3[r]=e.attrs2[r]=sl(e,o))}),Object.keys(e.attrs3).length||delete e.attrs3),Za(e),e.children&&xs(e.children,e.context,t)}),l}function il(l){return l.filter(c=>{if(c.nodeType==="bracket"){let t=c.innerContent.split(" ").join("");if(["","/","@","@/","/@"].includes(t))throw"Empty tag <".concat(t,">")}return!(c.nodeType==="text"&&!c.content.trim().length)})}function ol(l=""){return il(Dn(l,{skip:!0,pairs:["<>","{}","()","[]"]}))}function al(l,c=[],t=!1){return xs(Ha(Ca(ol(l)),c),["state"],t)}var ll="static|template|state|class|style|walt";function cl(l){return l.split(/\r\n|\n|\r/)}function ul(l,c){let t=l.match(new RegExp("^\\s*<!(".concat(c,")>\\s*$"),"i"));return t?t[1]:null}function fl(l,c){let t=l.match(new RegExp("^\\s*<!".concat(c,"\\s+([^>]*)>\\s*$"),"i"));return t?t[1]:null}async function pl(l){let c=cl(l),t={};var e=void 0,s=0;for(let r=0;r<c.length;r++){let o=c[r];if(!o.trim().length)continue;let a=ul(o,ll);if(!(!a&&["css","import","tag","renderer"].some(i=>{let n=fl(o,i);if(n)return e=i,t[e]||(t[e]=[]),t[i].push(e==="tag"?{value:n,line:r}:n),!0}))){if(!e&&!a){e="template",s=r,t.template="",t.template+="\n"+o;continue}if(a){if(e=a,!t[a])t[a]="";else throw"duplicate <!".concat(a,"> block at line ").concat(r);continue}else{if(["css","import","tag","renderer"].includes(e))if(!t.template)e="template",s=r,t.template="";else{if(o.trim().startsWith("//"))continue;throw'unexpected "'.concat(o.trim(),'" at line ').concat(r,". Template started at line ").concat(s)}t[e]+="\n"+o;continue}}}return t}function Xt(l){return['"',"'","`"].includes(l[0])&&l[0]==l[l.length-1]?l.substring(1,l.length-1).trim():l.trim()}function _l(l){let c={},t=be(l.value," ",!0).map(Xt);if(t.length>2)throw"excess arguments <!tag ".concat(l.value,"> at line ").concat(l.line);if(t.some(e=>!e))throw"empty argument <!tag ".concat(l.value,"> at line ").concat(l.line);if(t.length===1){if(t[0][0]==="@")throw"alias is present but path is not <!tag ".concat(l.value,"> at line ").concat(l.line);c.alias="@"+t[0].split("\\").pop().split("/").pop(),c.path=t[0]}else{if(t[0][0]!=="@")throw'missing alias identifier "@" <!tag '.concat(l.value,"> at line ").concat(l.line);c.alias=t[0],c.path=t[1]}return c}function ml(l){if(be(l," ",!0).length>1)throw"excess parameters <!import ".concat(l,">");return Xt(l)}function hl(l){let c=be(l," ",!0);if(c.length>2)throw"excess parameters <!renderer ".concat(l,">");if(c.length==2&&c[1]!=="html")throw"unknown second parameter <!renderer ".concat(l,">");return Xt(l)}function Ye(l){try{Function("var "+l)}catch(c){return!1}return!0}function dl(l){let c=be(l," ",!0);if(c.length<3)throw"not enough parameters <!import ".concat(l,">");if(c.length===3){if(c[1].toLowerCase()!=="from")throw"wrong parameters <!import ".concat(l,">");if(c[0].startsWith("{")&&c[0].endsWith("}")){let e=c[0].substring(1,c[0].length-1);if(!e.length)throw"wrong parameters <!import ".concat(l,">");if(!e.split(",").map(r=>r.trim()).every(Ye))throw"invalid variable name <!import ".concat(l,">");return{type:"object",import:c[0],path:Xt(c[2])}}else{if(!Ye(c[0]))throw"invalid variable name <!import ".concat(l,">");return{type:"var",import:c[0],path:Xt(c[2])}}}else{try{var t=Dn(l,{pairs:["{}"]})}catch(e){throw"invalid variable name <!import ".concat(l,">")}if(t.length>2)throw"wrong parameters <!import ".concat(l,">");if(t.length===1){if(t[0].nodeType==="bracket")throw"wrong parameters <!import ".concat(l,">");if(c[0]==="*"&&c[1].toLowerCase()==="as"&&c[3].toLowerCase()==="from"&&c.length===5){if(!Ye(c[2]))throw"invalid variable name <!import ".concat(l,">");return{type:"*",import:c[2],path:Xt(c[4])}}else throw"wrong parameters <!import ".concat(l,">")}else{let e=be(t[1].content," ",!0);if(e.length!==2||e[0].toLowerCase()!=="from"||!t[0].innerContent.trim().length)throw"wrong parameters <!import ".concat(l,">");let s=t[0].innerContent.split(",").map(r=>r.trim());if(!s.every(Ye))throw"invalid variable name <!import ".concat(l,">");return{type:"object",import:"{"+s.join(",")+"}",path:Xt(e[1])}}}}async function yl(l){let c=await pl(l);return c.tag&&(c.tag=c.tag.map(_l)),c.css&&(c.css=c.css.map(ml)),c.import&&(c.import=c.import.map(dl)),c.renderer&&(c.renderer=c.renderer.map(hl)),c}function xl(l){return["Update_Tag","enterProps","updateProps"].forEach(c=>{Array.isArray(l[c])&&(l[c].length?l[c]=Va(...l[c]):delete l[c])}),l}function Ts(l){l.forEach((c,t)=>{l[t]=xl(c),c.children&&Ts(c.children)})}var Tl=class{constructor({stiffness:l=300,damping:c=70,mass:t=10,delta:e=.01,target:s,current:r,callback:o,done:a}={}){this.stiffness=l,this.damping=c,this.delta=e,this.mass=t,this.callback=o,this.done=a,this.target=s||0,this.current=r||0,this.running=!1,this.velocity=0,this.acceleration=0,this.step()}set(l,c=!1){this.target=l,c?this.current=l:this.running||this.step()}stop(){cancelAnimationFrame(this.rafId),this.done&&this.done(this.current)}start(){this.step()}step(){if(this.isAtTarget())this.current=this.target,this.running=!1,this.done&&this.done(this.current);else{let l=this.lastFrameTime?Math.min(Math.max((Date.now()-this.lastFrameTime)/1e3,.008333333333333333),.03333333333333333):.016666666666666666;this.running=!0,this.advance(l),this.lastFrameTime=Date.now(),this.rafId=requestAnimationFrame(()=>this.step())}this.callback&&this.callback(this.current)}advance(l){let c=-this.stiffness*(this.current-this.target),t=-this.damping*this.velocity;this.acceleration=(c+t)/this.mass,this.velocity+=this.acceleration*l,this.current+=this.velocity*l}isAtTarget(){return Math.abs(this.target-this.current)<this.delta&&Math.abs(this.velocity)<=this.delta}},qr,Jr,Qr,Xr,Kr,Zr,ts,es,ns,rs,ss,is,os,as,ls,cs,bl=function(l){"use strict";var c=e,t=Object.prototype.hasOwnProperty;function e(){for(var p={},u=0;u<arguments.length;u++){var f=arguments[u];for(var _ in f)t.call(f,_)&&(p[_]=f[_])}return p}let s=p=>p;function r(p){function u(f){if(!Array.isArray(f))throw new Error("Transform must be used on an Array. Received "+JSON.stringify(f));let _=(()=>{let[b]=f;return b.Type in p&&typeof p[b.Type]=="function"?p[b.Type]:s})();if(_.length===2)return _(f,u);let[m,...h]=_(f),x=m.params.filter(Boolean).map(b=>u([b,...h]));return c(m,{params:x})}return u}function o(p){let u=f=>{if(f==null)return f;let _="*"in p&&typeof p["*"]=="function"?p["*"]:f.Type in p&&typeof p[f.Type]=="function"?p[f.Type]:s;if(_.length===2)return _(f,u);let m=_(f),h=m.params.map(u);return c(m,{params:h})};return u}var a={map:r,mapNode:o},i=a,n=i.map,d=i.mapNode,T=function(p){let u=f=>{if(f==null)return f;let{params:_}=f,m="*"in p&&typeof p["*"]=="function"?p["*"]:f.Type in p&&typeof p[f.Type]=="function"?p[f.Type]:()=>f;return m.length===2?(m(f,u),f):(m(f),_.forEach(u),f)};return u},L=T,N=function(p,u,f,_,m,h,x,b){if(u===void 0)throw new Error("invariant requires an error message argument");if(!p){var y;if(u===void 0)y=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var S=[f,_,m,h,x,b],v=0;y=new Error(u.replace(/%s/g,function(){return S[v++]})),y.name="Invariant Violation"}throw y.framesToPop=1,y}},M=N,P=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y(p){return p&&p.__esModule?p.default:p}function W(p,u){return u={exports:{}},p(u,u.exports),u.exports}var B=W(function(p,u){(function(f,_){_(u)})(P,function(f){let _={whitespace:/[ \t]+/,comment:[{match:/\/\/.*?$/},{match:/\/\*[^]*?\*\//,lineBreaks:!0}],number:[{match:/0[xX][0-9a-fA-F]+/},{match:/0[oO][0-9]+/},{match:/0[bB][01]+/},{match:/(?:[0-9]+(?:\.[0-9]+)?e-?[0-9]+)/},{match:/[0-9]+\.[0-9]+|[0-9]+/}],char:[{match:/'(?:\\['\\bfnrtv0]|[^'\\\n])'/,value:Qt=>Qt.slice(1,-1)}],string:[{match:/"(?:\\["\\rn]|[^"\\\n])*?"/,value:Qt=>Qt.slice(1,-1)},{match:/'(?:\\['\\bfnrtv0]|[^'\\\n])*?'/,value:Qt=>Qt.slice(1,-1)},{match:/`(?:\\['\\bfnrtv0]|[^'\\])*?`/,value:Qt=>Qt.slice(1,-1)}],identifier:{match:/[A-Za-z_$][A-Za-z0-9_$]*/,keywords:{keyword:["break","if","else","import","as","from","export","return","switch","case","default","const","let","for","continue","do","while","throw","function","global","module","type","lambda"],type:["i32","i64","f32","f64","bool"]}},punctuator:["+","++","-","--",">>",">>>","<<","=","==","+=","-=","=>","<=",">=","!=","%","*","/","^","&","~","|","!","**",":","(",")",".","{","}",",","[","]",";",">","<","?","||","&&","{","}","..."],newline:{match:/(?:\r\n|\r|\n)/,lineBreaks:!0}},m="Program",h="Keyword",x="Export",b="Import",y="Statement",S="IfThenElse",v="Select",w="Else",H="UnaryExpression",R="BinaryExpression",F="TernaryExpression",g="NumberLiteral",G="StringLiteral",nt="CharacterLiteral",tt="Punctuator",Rt="Identifier",_t="ArraySubscript",$="Constant",z="Type",V="ArrayType",J="DeclType",Q="GenericType",X="UserType",et="FunctionType",rt="Declaration",st="StaticDeclaration",at="StaticValueList",Lt="ImmutableDeclaration",wt="FunctionDeclaration",xt="ArrayDeclaration",le="IndirectFunctionCall",de="FunctionCall",Jt="Loop",ye="MemoryAssignment",lt="Assignment",Tr="AssignmentExpression",br="Param",yn="Typedef",xn="Struct",Tn="UnionType",bn="ReturnStatement",En="Sequence",vn="ObjectLiteral",Pn="Pair",Er="TypeCast",Ln="Break",wn="Comment",Sn="Sizeof",Mn="Spread",vr="Closure",Cn="Noop",Pr="ClosureType",An="Block",Lr="ObjectField",wr="FunctionIndex",Sr="FunctionIdentifier",Mr="FunctionPointer",Cr="FunctionArguments",Ar="FunctionResult",Or="FunctionLocals",Hr="NativeMethod",On="Unreachable",jr="Access",$r="i32",Nr="f32",Ur="i64",Rr="f64",Ir="Memory",Br="Table",Fr="bool";f.Program=m,f.Keyword=h,f.Export=x,f.Import=b,f.Statement=y,f.IfThenElse=S,f.Select=v,f.Else=w,f.UnaryExpression=H,f.BinaryExpression=R,f.TernaryExpression=F,f.NumberLiteral=g,f.StringLiteral=G,f.CharacterLiteral=nt,f.Punctuator=tt,f.Identifier=Rt,f.ArraySubscript=_t,f.Constant=$,f.Type=z,f.ArrayType=V,f.DeclType=J,f.GenericType=Q,f.UserType=X,f.FunctionType=et,f.Declaration=rt,f.StaticDeclaration=st,f.StaticValueList=at,f.ImmutableDeclaration=Lt,f.FunctionDeclaration=wt,f.ArrayDeclaration=xt,f.IndirectFunctionCall=le,f.FunctionCall=de,f.Loop=Jt,f.MemoryAssignment=ye,f.Assignment=lt,f.AssignmentExpression=Tr,f.Param=br,f.Typedef=yn,f.Struct=xn,f.UnionType=Tn,f.ReturnStatement=bn,f.Sequence=En,f.ObjectLiteral=vn,f.Pair=Pn,f.TypeCast=Er,f.Break=Ln,f.Comment=wn,f.Sizeof=Sn,f.Spread=Mn,f.Closure=vr,f.Noop=Cn,f.ClosureType=Pr,f.Block=An,f.ObjectField=Lr,f.FunctionIndex=wr,f.FunctionIdentifier=Sr,f.FunctionPointer=Mr,f.FunctionArguments=Cr,f.FunctionResult=Ar,f.FunctionLocals=Or,f.NativeMethod=Hr,f.Unreachable=On,f.Access=jr,f.i32=$r,f.f32=Nr,f.i64=Ur,f.f64=Rr,f.Memory=Ir,f.Table=Br,f.bool=Fr,f.builtinTypes={i32:$r,f32:Nr,i64:Ur,f64:Rr,Memory:Ir,Table:Br,bool:Fr},f.statements={Program:m,Export:x,Import:b,IfThenElse:S,Else:w,Declaration:rt,ImmutableDeclaration:Lt,FunctionDeclaration:wt,ArrayDeclaration:xt,Loop:Jt,MemoryAssignment:ye,Assignment:lt,Typedef:yn,Struct:xn,UnionType:Tn,ReturnStatement:bn,Sequence:En,ObjectLiteral:vn,Pair:Pn,Break:Ln,Comment:wn,Sizeof:Sn,Spread:Mn,Noop:Cn,Block:An,Unreachable:On},f.default={Program:m,Keyword:h,Export:x,Import:b,Statement:y,IfThenElse:S,Select:v,Else:w,UnaryExpression:H,BinaryExpression:R,TernaryExpression:F,NumberLiteral:g,StringLiteral:G,CharacterLiteral:nt,Punctuator:tt,Identifier:Rt,ArraySubscript:_t,Constant:$,Type:z,ArrayType:V,DeclType:J,GenericType:Q,UserType:X,FunctionType:et,Declaration:rt,ImmutableDeclaration:Lt,FunctionDeclaration:wt,ArrayDeclaration:xt,StaticDeclaration:st,StaticValueList:at,IndirectFunctionCall:le,FunctionCall:de,Loop:Jt,MemoryAssignment:ye,Assignment:lt,AssignmentExpression:Tr,Param:br,Typedef:yn,Struct:xn,UnionType:Tn,ReturnStatement:bn,Sequence:En,ObjectLiteral:vn,Pair:Pn,TypeCast:Er,Break:Ln,Comment:wn,Sizeof:Sn,Spread:Mn,Closure:vr,Access:jr,Noop:Cn,ClosureType:Pr,Block:An,ObjectField:Lr,FunctionIndex:wr,FunctionIdentifier:Sr,FunctionPointer:Mr,FunctionArguments:Cr,FunctionResult:Ar,FunctionLocals:Or,NativeMethod:Hr,Unreachable:On},f.tokens=_,Object.defineProperty(f,"__esModule",{value:!0})})}),E=Y(B),ft=B.tokens,ht=B.semantics,St=B.builtinTypes,mt=B.statements,dt=B.i32,bt=B.f32,vt=B.i64,Kt=B.f64,Ut=W(function(p){(function(u,f){p.exports?p.exports=f():u.moo=f()})(P,function(){var u=Object.prototype.hasOwnProperty,f=typeof Object.assign=="function"?Object.assign:function($,z){if($==null)throw new TypeError("Target cannot be null or undefined");$=Object($);for(var V=1;V<arguments.length;V++){var J=arguments[V];if(J!=null)for(var Q in J)u.call(J,Q)&&($[Q]=J[Q])}return $},_=typeof new RegExp().sticky=="boolean";function m($){return $&&$.constructor===RegExp}function h($){return $&&typeof $=="object"&&$.constructor!==RegExp&&!Array.isArray($)}function x($){return $.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function b($){var z=new RegExp("|"+$);return z.exec("").length-1}function y($){return"("+$+")"}function S($){var z=$.map(function(V){return"(?:"+V+")"}).join("|");return"(?:"+z+")"}function v($){if(typeof $=="string")return"(?:"+x($)+")";if(m($)){if($.ignoreCase)throw new Error("RegExp /i flag not allowed");if($.global)throw new Error("RegExp /g flag is implied");if($.sticky)throw new Error("RegExp /y flag is implied");if($.multiline)throw new Error("RegExp /m flag is implied");return $.source}else throw new Error("not a pattern: "+$)}function w($){for(var z=Object.getOwnPropertyNames($),V=[],J=0;J<z.length;J++){var Q=z[J],X=$[Q],et=Array.isArray(X)?X:[X],rt=[];et.forEach(function(st){h(st)?(rt.length&&V.push(R(Q,rt)),V.push(R(Q,st)),rt=[]):rt.push(st)}),rt.length&&V.push(R(Q,rt))}return V}function H($){for(var z=[],V=0;V<$.length;V++){var J=$[V];if(!J.name)throw new Error("Rule has no name: "+JSON.stringify(J));z.push(R(J.name,J))}return z}function R($,z){(typeof z!="object"||Array.isArray(z)||m(z))&&(z={match:z});var V=f({tokenType:$,lineBreaks:!!z.error,pop:!1,next:null,push:null,error:!1,value:null,getType:null},z),J=V.match;return V.match=Array.isArray(J)?J:J?[J]:[],V.match.sort(function(Q,X){return m(Q)&&m(X)?0:m(X)?-1:m(Q)?1:X.length-Q.length}),V.keywords&&(V.getType=nt(V.keywords)),V}function F($,z){$=Array.isArray($)?H($):w($);for(var V=null,J=[],Q=[],X=0;X<$.length;X++){var et=$[X];if(et.error){if(V)throw new Error("Multiple error rules not allowed: (for token '"+et.tokenType+"')");V=et}if(et.match.length!==0){J.push(et);var rt=S(et.match.map(v)),st=new RegExp(rt);if(st.test(""))throw new Error("RegExp matches empty string: "+st);var at=b(rt);if(at>0)throw new Error("RegExp has capture groups: "+st+"\nUse (?: \u2026 ) instead");if(!z&&(et.pop||et.push||et.next))throw new Error("State-switching options are not allowed in stateless lexers (for token '"+et.tokenType+"')");if(!et.lineBreaks&&st.test("\n"))throw new Error("Rule should declare lineBreaks: "+st);Q.push(y(rt))}}var Lt=_?"":"|(?:)",wt=_?"ym":"gm",xt=new RegExp(S(Q)+Lt,wt);return{regexp:xt,groups:J,error:V}}function g($){var z=F($);return new tt({start:z},"start")}function G($,z){var V=Object.getOwnPropertyNames($);z||(z=V[0]);for(var J=Object.create(null),Q=0;Q<V.length;Q++){var X=V[Q];J[X]=F($[X],!0)}for(var Q=0;Q<V.length;Q++)for(var et=J[V[Q]].groups,rt=0;rt<et.length;rt++){var st=et[rt],at=st&&(st.push||st.next);if(at&&!J[at])throw new Error("Missing state '"+at+"' (in token '"+st.tokenType+"' of state '"+V[Q]+"')");if(st&&st.pop&&+st.pop!=1)throw new Error("pop must be 1 (in token '"+st.tokenType+"' of state '"+V[Q]+"')")}return new tt(J,z)}function nt($){for(var z=Object.create(null),V=Object.create(null),J=Object.getOwnPropertyNames($),Q=0;Q<J.length;Q++){var X=J[Q],et=$[X],rt=Array.isArray(et)?et:[et];rt.forEach(function(xt){if((V[xt.length]=V[xt.length]||[]).push(xt),typeof xt!="string")throw new Error("keyword must be string (in keyword '"+X+"')");z[xt]=X})}function st(xt){return JSON.stringify(xt)}var at="";at+="(function(value) {\n",at+="switch (value.length) {\n";for(var Lt in V){var wt=V[Lt];at+="case "+Lt+":\n",at+="switch (value) {\n",wt.forEach(function(xt){var le=z[xt];at+="case "+st(xt)+": return "+st(le)+"\n"}),at+="}\n"}return at+="}\n",at+="})",(0,eval)(at)}var tt=function($,z){this.startState=z,this.states=$,this.buffer="",this.stack=[],this.reset()};tt.prototype.reset=function($,z){return this.buffer=$||"",this.index=0,this.line=z?z.line:1,this.col=z?z.col:1,this.setState(z?z.state:this.startState),this},tt.prototype.save=function(){return{line:this.line,col:this.col,state:this.state}},tt.prototype.setState=function($){if(!(!$||this.state===$)){this.state=$;var z=this.states[$];this.groups=z.groups,this.error=z.error||{lineBreaks:!0,shouldThrow:!0},this.re=z.regexp}},tt.prototype.popState=function(){this.setState(this.stack.pop())},tt.prototype.pushState=function($){this.stack.push(this.state),this.setState($)},tt.prototype._eat=_?function($){return $.exec(this.buffer)}:function($){var z=$.exec(this.buffer);return z[0].length===0?null:z},tt.prototype._getGroup=function($){if($===null)return-1;for(var z=this.groups.length,V=0;V<z;V++)if($[V+1]!==void 0)return V;throw new Error("oops")};function Rt(){return this.value}if(tt.prototype.next=function(){var $=this.re,z=this.buffer,V=$.lastIndex=this.index;if(V!==z.length){var J=this._eat($),Q=this._getGroup(J),X,et;Q===-1?(X=this.error,et=z.slice(V)):(et=J[0],X=this.groups[Q]);var rt=0;if(X.lineBreaks){var st=/\n/g,at=1;if(et==="\n")rt=1;else for(;st.exec(et);)rt++,at=st.lastIndex}var Lt={type:X.getType&&X.getType(et)||X.tokenType,value:X.value?X.value(et):et,text:et,toString:Rt,offset:V,lineBreaks:rt,line:this.line,col:this.col},wt=et.length;if(this.index+=wt,this.line+=rt,rt!==0?this.col=wt-at+1:this.col+=wt,X.shouldThrow)throw new Error(this.formatError(Lt,"invalid syntax"));return X.pop?this.popState():X.push?this.pushState(X.push):X.next&&this.setState(X.next),Lt}},typeof Symbol<"u"&&Symbol.iterator){var _t=function($){this.lexer=$};_t.prototype.next=function(){var $=this.lexer.next();return{value:$,done:!$}},_t.prototype[Symbol.iterator]=function(){return this},tt.prototype[Symbol.iterator]=function(){return new _t(this)}}return tt.prototype.formatError=function($,z){var V=$.value,J=$.offset,Q=$.lineBreaks?V.indexOf("\n"):V.length,X=Math.max(0,J-$.col+1),et=this.buffer.substring(X,J+Q);return z+=" at line "+$.line+" col "+$.col+":\n\n",z+="  "+et+"\n",z+="  "+Array($.col).join(" ")+"^",z},tt.prototype.clone=function(){return new tt(this.states,this.state)},tt.prototype.has=function($){for(var z in this.states)for(var V=this.states[z].groups,J=0;J<V.length;J++){var Q=V[J];if(Q.tokenType===$||Q.keywords&&u.call(Q.keywords,$))return!0}return!1},{compile:g,states:G,error:Object.freeze({error:!0})}})}),Ht=Array.prototype.slice,Ss=function(p){return Ht.call(p)},Ms=function(p){return Ht.call(p,1)},Xe=function(p,u,f){var _=f-u.length;switch(_){case 0:return function(){return $t(p,jt(u,arguments),f)};case 1:return function(m){return $t(p,jt(u,arguments),f)};case 2:return function(m,h){return $t(p,jt(u,arguments),f)};case 3:return function(m,h,x){return $t(p,jt(u,arguments),f)};case 4:return function(m,h,x,b){return $t(p,jt(u,arguments),f)};case 5:return function(m,h,x,b,y){return $t(p,jt(u,arguments),f)};case 6:return function(m,h,x,b,y,S){return $t(p,jt(u,arguments),f)};case 7:return function(m,h,x,b,y,S,v){return $t(p,jt(u,arguments),f)};case 8:return function(m,h,x,b,y,S,v,w){return $t(p,jt(u,arguments),f)};case 9:return function(m,h,x,b,y,S,v,w,H){return $t(p,jt(u,arguments),f)};case 10:return function(m,h,x,b,y,S,v,w,H,R){return $t(p,jt(u,arguments),f)};default:return Cs(p,u,_)}},jt=function(p,u){return p.concat(Ss(u))},Cs=function(p,u,f){var _=As(f),m="false||function("+_+"){ return processInvocation(fn, concatArgs(args, arguments)); }";return(0,eval)(m)},As=function(p){for(var u=[],f=0;f<p;f+=1)u.push("a"+f.toString());return u.join(",")},Os=function(p,u){return p.length>u?p.slice(0,u):p},$t=function(p,u,f){return u=Os(u,f),u.length===f?p.apply(null,u):Xe(p,u,f)},zt=function(p){return Xe(p,[],p.length)};zt.to=zt(function(p,u){return Xe(u,[],p)}),zt.adaptTo=zt(function(p,u){return zt.to(p,function(f){var _=Ms(arguments).concat(f);return u.apply(this,_)})}),zt.adapt=function(p){return zt.adaptTo(p.length,p)};var Le=zt;function D(p){return p[0]}function Hs(){let p=this.lexer,u=this.Syntax,{extendNode:f,drop:_,nth:m,nuller:h,nonEmpty:x,add:b,flatten:y,compose:S}=this.helpers,{node:v,binary:w,constant:H,identifier:R,statement:F,unary:g,ternary:G,subscript:nt,access:tt,fun:Rt,declaration:_t,call:$,struct:z,result:V,string:J,char:Q,typedef:X,voidFun:et,type:rt,arrayType:st,assignment:at,forLoop:Lt,whileLoop:wt,typeGeneric:xt,spread:le,builtinDecl:de,assignmentExpr:Jt,addressOf:ye}=this.nodes(p);return{Lexer:p,ParserRules:[{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","wschar"],postprocess:function(lt){return lt[0].concat([lt[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(lt){return null}},{name:"__$ebnf$1",symbols:["wschar"]},{name:"__$ebnf$1",symbols:["__$ebnf$1","wschar"],postprocess:function(lt){return lt[0].concat([lt[1]])}},{name:"__",symbols:["__$ebnf$1"],postprocess:function(lt){return null}},{name:"wschar",symbols:[/[ \t\n\v\f]/],postprocess:D},{name:"Struct",symbols:["TYPE","__","Identifier","_","EQUALS","_","Union","SEPARATOR"],postprocess:z},{name:"Struct",symbols:["TYPE","__","Identifier","_","EQUALS","_","NativeType","SEPARATOR"],postprocess:z},{name:"Union",symbols:["StructDefinition"],postprocess:D},{name:"Union",symbols:["StructDefinition","_","OR","_","Union"],postprocess:v(u.UnionType)},{name:"StructDefinition",symbols:["ArrayType"],postprocess:D},{name:"StructDefinition",symbols:["Identifier"],postprocess:D},{name:"StructDefinition",symbols:["LCB","_","StructBody","_","RCB"],postprocess:S(v(u.ObjectLiteral),y)},{name:"StructBody",symbols:["StructNameAndType"],postprocess:D},{name:"StructBody",symbols:["StructNameAndType","_","COMMA","_","StructBody"],postprocess:y},{name:"StructNameAndType",symbols:["Identifier","_","COLON","_","Type"],postprocess:v(u.Pair)},{name:"StructNameAndType",symbols:["AddressOf","_","COLON","_","Type"],postprocess:v(u.Pair)},{name:"AddressOf",symbols:["AND","Identifier"],postprocess:ye},{name:"TypeDef",symbols:["TYPE","__","Identifier","_","EQUALS","_","TypeDefinition","_","FATARROW","_","Type","_","SEPARATOR"],postprocess:S(X)},{name:"TypeDefinition",symbols:["LB","_","TypeList","_","RB"],postprocess:y},{name:"TypeDefinition",symbols:["LB","_","RB"],postprocess:y},{name:"TypeList",symbols:["Type"],postprocess:D},{name:"TypeList",symbols:["Type","_","COMMA","_","TypeList"],postprocess:y},{name:"_Type",symbols:["NativeType"],postprocess:D},{name:"_Type",symbols:["GenericType"],postprocess:D},{name:"_Type",symbols:["Identifier"],postprocess:D},{name:"ArrayType",symbols:["_Type","_","LSB","_","RSB"],postprocess:st},{name:"Type",symbols:["_Type"],postprocess:D},{name:"Type",symbols:["ArrayType"],postprocess:D},{name:"GenericType",symbols:["Identifier","LT","_","StaticObjectLiteral","_","GT"],postprocess:xt},{name:"StaticObjectLiteral",symbols:["LCB","_","RCB"],postprocess:S(v(u.ObjectLiteral))},{name:"StaticObjectLiteral",symbols:["LCB","_","StaticPropertyList","_","RCB"],postprocess:S(v(u.ObjectLiteral),y)},{name:"StaticPropertyValue",symbols:["Number"],postprocess:D},{name:"StaticPropertyValue",symbols:["Boolean"],postprocess:D},{name:"StaticPropertyValue",symbols:["StringLiteral"],postprocess:D},{name:"StaticProperty",symbols:["Identifier","_","COLON","_","StaticPropertyValue"],postprocess:v(u.Pair)},{name:"StaticPropertyList",symbols:["StaticProperty"],postprocess:D},{name:"StaticPropertyList",symbols:["StaticProperty","_","COMMA","_","StaticPropertyList"],postprocess:y},{name:"ObjectLiteral",symbols:["LCB","_","RCB"],postprocess:v(u.ObjectLiteral)},{name:"ObjectLiteral",symbols:["LCB","_","PropertyList","_","RCB"],postprocess:S(v(u.ObjectLiteral),y)},{name:"PropertyList",symbols:["Property"],postprocess:D},{name:"PropertyList",symbols:["Property","_","COMMA","_","PropertyList"],postprocess:y},{name:"Property",symbols:["Identifier","_","COLON","_","Ternary"],postprocess:v(u.Pair)},{name:"Property",symbols:["SPREAD","Identifier"],postprocess:le},{name:"Property",symbols:["Identifier"],postprocess:D},{name:"Import",symbols:["IMPORT","_","ImportDefinition","__","FROM","__","StringLiteral","_","SEPARATOR"],postprocess:v(u.Import)},{name:"ImportDefinition",symbols:["LCB","_","ImportAndTypeList","_","RCB"],postprocess:S(v(u.ObjectLiteral),y)},{name:"ImportAndTypeList",symbols:["ImportName"],postprocess:D},{name:"ImportAndTypeList",symbols:["ImportAndType"],postprocess:D},{name:"ImportAndTypeList",symbols:["ImportName","_","COMMA","_","ImportAndTypeList"],postprocess:y},{name:"ImportAndTypeList",symbols:["ImportAndType","_","COMMA","_","ImportAndTypeList"],postprocess:y},{name:"ImportAndType",symbols:["ImportName","_","COLON","_","Type"],postprocess:v(u.Pair)},{name:"ImportAndType",symbols:["ImportName","_","AS","_","Identifier"],postprocess:v(u.BinaryExpression,{value:"as"})},{name:"ImportAndType",symbols:["ImportAndType","_","AS","_","Identifier"],postprocess:v(u.BinaryExpression,{value:"as"})},{name:"ImportName",symbols:["Identifier"],postprocess:D},{name:"If",symbols:["IF","_","LB","_","Expression","_","RB","_","BranchBody"],postprocess:v(u.IfThenElse)},{name:"If",symbols:["IF","_","LB","_","Expression","_","RB","_","BranchBody","_","Else"],postprocess:v(u.IfThenElse)},{name:"Else",symbols:["ELSE","_","BranchBody"],postprocess:v(u.Else)},{name:"BranchBody",symbols:["Statement"],postprocess:D},{name:"BranchBody",symbols:["Block"],postprocess:D},{name:"For",symbols:["FOR","_","LB","_","ForArg","_","SEPARATOR","_","Expression","_","SEPARATOR","_","ForArg","_","RB","_","BranchBody"],postprocess:Lt},{name:"ForArg",symbols:["_Assignment"],postprocess:D},{name:"ForArg",symbols:["Ternary"],postprocess:D},{name:"While",symbols:["WHILE","_","LB","_","Expression","_","RB","_","BranchBody"],postprocess:wt},{name:"Break",symbols:["BREAK","_","SEPARATOR"],postprocess:v(u.Break)},{name:"Program",symbols:["_"],postprocess:S(v("Program",{value:"ROOT_NODE"}),y)},{name:"Program",symbols:["_","SourceElementList","_"],postprocess:S(v("Program",{value:"ROOT_NODE"}),y)},{name:"SourceElementList",symbols:["SourceElement"],postprocess:y},{name:"SourceElementList",symbols:["SourceElement","_","SourceElementList"],postprocess:S(_,y,y)},{name:"SourceElement",symbols:["Function"],postprocess:D},{name:"SourceElement",symbols:["GlobalDeclaration"],postprocess:D},{name:"SourceElement",symbols:["GlobalImmutableDeclaration"],postprocess:D},{name:"SourceElement",symbols:["StaticDeclaration"],postprocess:D},{name:"SourceElement",symbols:["Struct"],postprocess:D},{name:"SourceElement",symbols:["TypeDef"],postprocess:D},{name:"SourceElement",symbols:["Export"],postprocess:D},{name:"SourceElement",symbols:["Import"],postprocess:D},{name:"Statement",symbols:["ExpressionStatement"],postprocess:D},{name:"Statement",symbols:["Declaration"],postprocess:D},{name:"Statement",symbols:["ImmutableDeclaration"],postprocess:D},{name:"Statement",symbols:["Assignment"],postprocess:D},{name:"Statement",symbols:["If"],postprocess:D},{name:"Statement",symbols:["For"],postprocess:D},{name:"Statement",symbols:["While"],postprocess:D},{name:"Statement",symbols:["Break"],postprocess:D},{name:"Statement",symbols:["Unreachable"],postprocess:D},{name:"Statement",symbols:["ReturnStatement"],postprocess:D},{name:"Block",symbols:["LCB","_","RCB"],postprocess:v(u.Block)},{name:"Block",symbols:["LCB","_","StatementList","_","RCB"],postprocess:S(v(u.Block),y)},{name:"StatementList",symbols:["Statement"],postprocess:_},{name:"StatementList",symbols:["Statement","_","StatementList"],postprocess:y},{name:"Function",symbols:["FUNCTION","__","Identifier","_","FunctionParameters","_","Block"],postprocess:et},{name:"Function",symbols:["FUNCTION","__","Identifier","_","FunctionParameters","_","FunctionResult","_","Block"],postprocess:Rt},{name:"FunctionParameters",symbols:["LB","_","RB"],postprocess:v(u.FunctionArguments)},{name:"FunctionParameters",symbols:["LB","_","ParameterList","_","RB"],postprocess:S(v(u.FunctionArguments),y,y)},{name:"ParameterList",symbols:["NameAndType"],postprocess:D},{name:"ParameterList",symbols:["NameAndType","_","COMMA","_","ParameterList"],postprocess:y},{name:"NameAndType",symbols:["Identifier","_","COLON","_","DeclType"],postprocess:v(u.Pair)},{name:"DeclType",symbols:["Type"],postprocess:S(f({Type:u.DeclType}),m(0))},{name:"FunctionResult",symbols:["COLON","_","Type"],postprocess:S(V,_)},{name:"GlobalDeclaration",symbols:["LET","_","NameAndType","_","SEPARATOR"],postprocess:_t(u.Declaration)},{name:"GlobalDeclaration",symbols:["LET","_","NameAndType","_","EQUALS","_","Atom","_","SEPARATOR"],postprocess:_t(u.Declaration)},{name:"GlobalImmutableDeclaration",symbols:["CONST","_","Identifier","_","COLON","_","GenericType","_","SEPARATOR"],postprocess:de},{name:"GlobalImmutableDeclaration",symbols:["CONST","_","NameAndType","_","EQUALS","_","ObjectLiteral","_","SEPARATOR"],postprocess:_t(u.ImmutableDeclaration)},{name:"GlobalImmutableDeclaration",symbols:["CONST","_","NameAndType","_","EQUALS","_","Atom","_","SEPARATOR"],postprocess:_t(u.ImmutableDeclaration)},{name:"Declaration",symbols:["LET","_","NameAndType","_","EQUALS","_","Expression","_","SEPARATOR"],postprocess:_t(u.Declaration)},{name:"Declaration",symbols:["LET","_","NameAndType","_","SEPARATOR"],postprocess:_t(u.Declaration)},{name:"ImmutableDeclaration",symbols:["CONST","_","NameAndType","_","EQUALS","_","Expression","_","SEPARATOR"],postprocess:_t(u.ImmutableDeclaration)},{name:"ImmutableDeclaration",symbols:["CONST","_","NameAndType","_","EQUALS","_","ObjectLiteral","_","SEPARATOR"],postprocess:_t(u.ImmutableDeclaration)},{name:"ImmutableDeclaration",symbols:["CONST","_","Identifier","_","COLON","_","GenericType","_","SEPARATOR"],postprocess:de},{name:"StaticNameAndType",symbols:["Identifier","_","COLON","_","ArrayType"],postprocess:v(u.Pair)},{name:"StaticDeclaration",symbols:["CONST","_","StaticNameAndType","_","EQUALS","_","LSB","_","RSB","_","SEPARATOR"],postprocess:_t(u.StaticDeclaration)},{name:"StaticDeclaration",symbols:["CONST","_","StaticNameAndType","_","EQUALS","_","LSB","_","StaticValueList","_","RSB","_","SEPARATOR"],postprocess:S(_t(u.StaticDeclaration),y)},{name:"StaticValueList",symbols:["Atom"],postprocess:D},{name:"StaticValueList",symbols:["Atom","_","COMMA","_","StaticValueList"],postprocess:y},{name:"Unreachable",symbols:["THROW","_","SEPARATOR"],postprocess:v(u.Unreachable)},{name:"Unreachable",symbols:["THROW","_","Expression","_","SEPARATOR"],postprocess:v(u.Unreachable)},{name:"Pair",symbols:["Identifier","_","COLON","_","Identifier"],postprocess:v(u.Pair)},{name:"Export",symbols:["EXPORT","__","ImmutableDeclaration"],postprocess:v(u.Export,{value:"export"})},{name:"Export",symbols:["EXPORT","__","Function"],postprocess:v(u.Export,{value:"export"})},{name:"Export",symbols:["EXPORT","__","TypeDef"],postprocess:v(u.Export,{value:"export"})},{name:"Export",symbols:["EXPORT","__","Struct"],postprocess:v(u.Export,{value:"export"})},{name:"ReturnStatement",symbols:["RETURN","__","Expression","_","SEPARATOR"],postprocess:v(u.ReturnStatement)},{name:"ReturnStatement$subexpression$1",symbols:[{literal:";"}],postprocess:h},{name:"ReturnStatement",symbols:["RETURN","ReturnStatement$subexpression$1"],postprocess:v(u.ReturnStatement)},{name:"Assignment",symbols:["_Assignment","_","SEPARATOR"],postprocess:D},{name:"_Assignment",symbols:["Subscript","_","EQUALS","_","Expression"],postprocess:lt=>at(lt,"=")},{name:"_Assignment",symbols:["Subscript","_","PLSEQUALS","_","Expression"],postprocess:lt=>at(lt,"+=")},{name:"_Assignment",symbols:["Subscript","_","MINEQUALS","_","Expression"],postprocess:lt=>at(lt,"-=")},{name:"_Assignment",symbols:["Subscript","_","EQUALS","_","ObjectLiteral"],postprocess:lt=>at(lt,"=")},{name:"ExpressionStatement",symbols:["Call","_","SEPARATOR"],postprocess:D},{name:"Expression",symbols:["AssignmentExpression"],postprocess:D},{name:"AssignmentExpression",symbols:["Identifier","_","EQUALS","_","Ternary"],postprocess:lt=>Jt(lt,"=")},{name:"AssignmentExpression",symbols:["Identifier","_","PLSEQUALS","_","Ternary"],postprocess:lt=>Jt(lt,"+=")},{name:"AssignmentExpression",symbols:["Identifier","_","MINEQUALS","_","Ternary"],postprocess:lt=>Jt(lt,"-=")},{name:"AssignmentExpression",symbols:["Ternary"],postprocess:D},{name:"Ternary",symbols:["Ternary","_","QUESTION","_","TernaryPair"],postprocess:G},{name:"Ternary",symbols:["Binary"],postprocess:D},{name:"TernaryPair",symbols:["Expression","_","COLON","_","Expression"],postprocess:v(u.Pair)},{name:"Binary",symbols:["Logical"],postprocess:D},{name:"Logical",symbols:["Logical","_",{literal:"||"},"_","Bitwise"],postprocess:w},{name:"Logical",symbols:["Logical","_",{literal:"&&"},"_","Bitwise"],postprocess:w},{name:"Logical",symbols:["Bitwise"],postprocess:D},{name:"Bitwise",symbols:["Bitwise","_",{literal:"|"},"_","Sum"],postprocess:w},{name:"Bitwise",symbols:["Bitwise","_",{literal:"^"},"_","Sum"],postprocess:w},{name:"Bitwise",symbols:["Bitwise","_",{literal:"&"},"_","Sum"],postprocess:w},{name:"Bitwise",symbols:["Equality"],postprocess:D},{name:"Equality",symbols:["Equality","_",{literal:"=="},"_","Comparison"],postprocess:w},{name:"Equality",symbols:["Equality","_",{literal:"!="},"_","Comparison"],postprocess:w},{name:"Equality",symbols:["Comparison"],postprocess:D},{name:"Comparison",symbols:["Comparison","_",{literal:"<"},"_","Shift"],postprocess:w},{name:"Comparison",symbols:["Comparison","_",{literal:">"},"_","Shift"],postprocess:w},{name:"Comparison",symbols:["Comparison","_",{literal:"<="},"_","Shift"],postprocess:w},{name:"Comparison",symbols:["Comparison","_",{literal:">="},"_","Shift"],postprocess:w},{name:"Comparison",symbols:["Shift"],postprocess:D},{name:"Shift",symbols:["Shift","_",{literal:">>"},"_","Sum"],postprocess:w},{name:"Shift",symbols:["Shift","_",{literal:"<<"},"_","Sum"],postprocess:w},{name:"Shift",symbols:["Shift","_",{literal:">>>"},"_","Sum"],postprocess:w},{name:"Shift",symbols:["Sum"],postprocess:D},{name:"Sum",symbols:["Sum","_",{literal:"+"},"_","Product"],postprocess:w},{name:"Sum",symbols:["Sum","_",{literal:"-"},"_","Product"],postprocess:w},{name:"Sum",symbols:["Product"],postprocess:D},{name:"Product",symbols:["Product","_",{literal:"*"},"_","Typecast"],postprocess:w},{name:"Product",symbols:["Product","_",{literal:"/"},"_","Typecast"],postprocess:w},{name:"Product",symbols:["Product","_",{literal:"%"},"_","Typecast"],postprocess:w},{name:"Product",symbols:["Typecast"],postprocess:D},{name:"Typecast",symbols:["Expression","_","COLON","_","DeclType"],postprocess:v(u.Pair)},{name:"Typecast",symbols:["Expression","_","AS","_","DeclType"],postprocess:v(u.Pair)},{name:"Typecast",symbols:["Unary"],postprocess:D},{name:"Unary",symbols:[{literal:"!"},"Call"],postprocess:g},{name:"Unary",symbols:[{literal:"~"},"Call"],postprocess:g},{name:"Unary",symbols:[{literal:"-"},"Call"],postprocess:g},{name:"Unary",symbols:[{literal:"+"},"Call"],postprocess:g},{name:"Unary",symbols:[{literal:"++"},"Call"],postprocess:g},{name:"Unary",symbols:[{literal:"--"},"Call"],postprocess:g},{name:"Unary",symbols:["Call"],postprocess:D},{name:"Call",symbols:["Subscript","_","LB","_","ArgumentList","_","RB"],postprocess:S($,y)},{name:"Call",symbols:["Subscript","_","LB","_","RB"],postprocess:$},{name:"Call",symbols:["Subscript"],postprocess:D},{name:"ArgumentList",symbols:["Expression"],postprocess:D},{name:"ArgumentList",symbols:["NativeType"],postprocess:D},{name:"ArgumentList",symbols:["Expression","_","COMMA","_","ArgumentList"],postprocess:y},{name:"Subscript",symbols:["Access","LSB","_","Expression","_","RSB","Subscript"],postprocess:nt},{name:"Subscript",symbols:["Access","LSB","_","Expression","_","RSB"],postprocess:nt},{name:"Subscript",symbols:["Access"],postprocess:D},{name:"Access",symbols:["Access","DOT","Identifier"],postprocess:S(tt,_)},{name:"Access",symbols:["NativeType","DOT","Access"],postprocess:S(tt,_)},{name:"Access",symbols:["Grouping"],postprocess:D},{name:"Grouping",symbols:["LB","_","Expression","_","RB"],postprocess:m(2)},{name:"Grouping",symbols:["Atom"],postprocess:D},{name:"Atom",symbols:["Identifier"],postprocess:D},{name:"Atom",symbols:["StringLiteral"],postprocess:D},{name:"Atom",symbols:["CharacterLiteral"],postprocess:D},{name:"Atom",symbols:["Number"],postprocess:D},{name:"NativeType",symbols:[p.has("type")?{type:"type"}:rt],postprocess:rt},{name:"Identifier",symbols:[p.has("identifier")?{type:"identifier"}:R],postprocess:R},{name:"Number",symbols:[p.has("number")?{type:"number"}:number],postprocess:H},{name:"StringLiteral",symbols:[p.has("string")?{type:"string"}:J],postprocess:J},{name:"CharacterLiteral",symbols:[p.has("char")?{type:"char"}:Q],postprocess:Q},{name:"word",symbols:[/[a-zA-Z_]/],postprocess:D},{name:"word",symbols:["word",/[a-zA-Z0-9_]/],postprocess:b},{name:"digit",symbols:[/[0-9]/],postprocess:D},{name:"digit",symbols:["digit",/[0-9]/],postprocess:b},{name:"SEPARATOR",symbols:["_",{literal:";"}],postprocess:h},{name:"QUESTION",symbols:[{literal:"?"}],postprocess:h},{name:"COMMA",symbols:[{literal:","}],postprocess:h},{name:"AND",symbols:[{literal:"&"}],postprocess:h},{name:"DOT",symbols:[{literal:"."}],postprocess:h},{name:"LB",symbols:[{literal:"("}],postprocess:h},{name:"RB",symbols:[{literal:")"}],postprocess:h},{name:"LSB",symbols:[{literal:"["}],postprocess:h},{name:"RSB",symbols:[{literal:"]"}],postprocess:h},{name:"LCB",symbols:[{literal:"{"}],postprocess:h},{name:"RCB",symbols:[{literal:"}"}],postprocess:h},{name:"OR",symbols:[{literal:"|"}],postprocess:h},{name:"COLON",symbols:[{literal:":"}],postprocess:h},{name:"EQUALS",symbols:[{literal:"="}],postprocess:h},{name:"PLSEQUALS",symbols:[{literal:"+="}],postprocess:h},{name:"MINEQUALS",symbols:[{literal:"-="}],postprocess:h},{name:"GT",symbols:[{literal:">"}],postprocess:h},{name:"LT",symbols:[{literal:"<"}],postprocess:h},{name:"FATARROW",symbols:[{literal:"=>"}],postprocess:h},{name:"SPREAD",symbols:[{literal:"..."}],postprocess:h},{name:"FUNCTION",symbols:[{literal:"function"}],postprocess:h},{name:"LET",symbols:[{literal:"let"}],postprocess:h},{name:"CONST",symbols:[{literal:"const"}],postprocess:h},{name:"EXPORT",symbols:[{literal:"export"}],postprocess:h},{name:"IMPORT",symbols:[{literal:"import"}],postprocess:h},{name:"AS",symbols:[{literal:"as"}],postprocess:h},{name:"FROM",symbols:[{literal:"from"}],postprocess:h},{name:"RETURN",symbols:[{literal:"return"}],postprocess:h},{name:"TYPE",symbols:[{literal:"type"}],postprocess:h},{name:"IF",symbols:[{literal:"if"}],postprocess:h},{name:"ELSE",symbols:[{literal:"else"}],postprocess:h},{name:"FOR",symbols:[{literal:"for"}],postprocess:h},{name:"WHILE",symbols:[{literal:"while"}],postprocess:h},{name:"SWITCH",symbols:[{literal:"switch"}],postprocess:h},{name:"DO",symbols:[{literal:"do"}],postprocess:h},{name:"THROW",symbols:[{literal:"throw"}],postprocess:h},{name:"BREAK",symbols:[{literal:"break"}],postprocess:h}],ParserStart:"Program"}}function Vn(p){return p[0]}function Yn(){let p=this.Syntax,{flatten:u}=this.helpers,{node:f}=this.nodes(this.lexer);return{Lexer:void 0,ParserRules:[{name:"TypeList",symbols:["DefaultArgument"],postprocess:Vn},{name:"TypeList",symbols:["DefaultArgument","_","COMMA","_","TypeList"],postprocess:u},{name:"DefaultArgument",symbols:["Type","_","EQUALS","_","Atom"],postprocess:f(p.Assignment)},{name:"ParameterList",symbols:["DefaultFunctionArgument"],postprocess:Vn},{name:"ParameterList",symbols:["DefaultFunctionArgument","_","COMMA","_","ParameterList"],postprocess:u},{name:"DefaultFunctionArgument",symbols:["NameAndType","_","EQUALS","_","Atom"],postprocess:f(p.Assignment)}],ParserStart:"TypeList"}}var Gn=W(function(p){(function(u,f){p.exports?p.exports=f():u.nearley=f()})(P,function(){function u(b,y,S){return this.id=++u.highestId,this.name=b,this.symbols=y,this.postprocess=S,this}u.highestId=0,u.prototype.toString=function(b){function y(v){return v.literal?JSON.stringify(v.literal):v.type?"%"+v.type:v.toString()}var S=typeof b>"u"?this.symbols.map(y).join(" "):this.symbols.slice(0,b).map(y).join(" ")+" \u25CF "+this.symbols.slice(b).map(y).join(" ");return this.name+" \u2192 "+S};function f(b,y,S,v){this.rule=b,this.dot=y,this.reference=S,this.data=[],this.wantedBy=v,this.isComplete=this.dot===b.symbols.length}f.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},f.prototype.nextState=function(b){var y=new f(this.rule,this.dot+1,this.reference,this.wantedBy);return y.left=this,y.right=b,y.isComplete&&(y.data=y.build()),y},f.prototype.build=function(){var b=[],y=this;do b.push(y.right.data),y=y.left;while(y.left);return b.reverse(),b},f.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,x.fail))};function _(b,y){this.grammar=b,this.index=y,this.states=[],this.wants={},this.scannable=[],this.completed={}}_.prototype.process=function(b){for(var y=this.states,S=this.wants,v=this.completed,w=0;w<y.length;w++){var H=y[w];if(H.isComplete){if(H.finish(),H.data!==x.fail){for(var R=H.wantedBy,F=R.length;F--;){var g=R[F];this.complete(g,H)}if(H.reference===this.index){var G=H.rule.name;(this.completed[G]=this.completed[G]||[]).push(H)}}}else{var G=H.rule.symbols[H.dot];if(typeof G!="string"){this.scannable.push(H);continue}if(S[G]){if(S[G].push(H),v.hasOwnProperty(G))for(var nt=v[G],F=0;F<nt.length;F++){var tt=nt[F];this.complete(H,tt)}}else S[G]=[H],this.predict(G)}}},_.prototype.predict=function(b){for(var y=this.grammar.byName[b]||[],S=0;S<y.length;S++){var v=y[S],w=this.wants[b],H=new f(v,0,this.index,w);this.states.push(H)}},_.prototype.complete=function(b,y){var S=b.nextState(y);this.states.push(S)};function m(b,y){this.rules=b,this.start=y||this.rules[0].name;var S=this.byName={};this.rules.forEach(function(v){S.hasOwnProperty(v.name)||(S[v.name]=[]),S[v.name].push(v)})}m.fromCompiled=function(v,y){var S=v.Lexer;v.ParserStart&&(y=v.ParserStart,v=v.ParserRules);var v=v.map(function(H){return new u(H.name,H.symbols,H.postprocess)}),w=new m(v,y);return w.lexer=S,w};function h(){this.reset("")}h.prototype.reset=function(b,y){this.buffer=b,this.index=0,this.line=y?y.line:1,this.lastLineBreak=y?-y.col:0},h.prototype.next=function(){if(this.index<this.buffer.length){var b=this.buffer[this.index++];return b==="\n"&&(this.line+=1,this.lastLineBreak=this.index),{value:b}}},h.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},h.prototype.formatError=function(b,y){var S=this.buffer;if(typeof S=="string"){var v=S.indexOf("\n",this.index);v===-1&&(v=S.length);var w=S.substring(this.lastLineBreak,v),H=this.index-this.lastLineBreak;return y+=" at line "+this.line+" col "+H+":\n\n",y+="  "+w+"\n",y+="  "+Array(H).join(" ")+"^",y}else return y+" at index "+(this.index-1)};function x(b,y,S){if(b instanceof m)var v=b,S=y;else var v=m.fromCompiled(b,y);this.grammar=v,this.options={keepHistory:!1,lexer:v.lexer||new h};for(var w in S||{})this.options[w]=S[w];this.lexer=this.options.lexer,this.lexerState=void 0;var H=new _(v,0);this.table=[H],H.wants[v.start]=[],H.predict(v.start),H.process(),this.current=0}return x.fail={},x.prototype.feed=function(b){var y=this.lexer;y.reset(b,this.lexerState);for(var S;S=y.next();){var v=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var w=this.current+1,H=new _(this.grammar,w);this.table.push(H);for(var R=S.text!==void 0?S.text:S.value,F=y.constructor===h?S.value:S,g=v.scannable,G=g.length;G--;){var nt=g[G],tt=nt.rule.symbols[nt.dot];if(tt.test?tt.test(F):tt.type?tt.type===S.type:tt.literal===R){var Rt=nt.nextState({data:F,token:S,isToken:!0,reference:w-1});H.states.push(Rt)}}if(H.process(),H.states.length===0){var _t=this.lexer.formatError(S,"invalid syntax")+"\n";_t+="Unexpected "+(S.type?S.type+" token: ":""),_t+=JSON.stringify(S.value!==void 0?S.value:S)+"\n";var $=new Error(_t);throw $.offset=this.current,$.token=S,$}this.options.keepHistory&&(v.lexerState=y.save()),this.current++}return v&&(this.lexerState=y.save()),this.results=this.finish(),this},x.prototype.save=function(){var b=this.table[this.current];return b.lexerState=this.lexerState,b},x.prototype.restore=function(b){var y=b.index;this.current=y,this.table[y]=b,this.table.splice(y+1),this.lexerState=b.lexerState,this.results=this.finish()},x.prototype.rewind=function(b){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[b])},x.prototype.finish=function(){var b=[],y=this.grammar.start,S=this.table[this.table.length-1];return S.states.forEach(function(v){v.rule.name===y&&v.dot===v.rule.symbols.length&&v.reference===0&&v.data!==x.fail&&b.push(v)}),b.map(function(v){return v.data})},{Parser:x,Grammar:m,Rule:u}})}),js=Gn.Parser,$s=Gn.Grammar,Ns=(...p)=>p.reduce((u,f)=>(..._)=>u(f(..._))),I=Object.assign||function(p){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&(p[_]=f[_])}return p},Us=function(p,u){var f={};for(var _ in p)u.indexOf(_)>=0||Object.prototype.hasOwnProperty.call(p,_)&&(f[_]=p[_]);return f};let Z=Le((p,u)=>{let{meta:f}=p,_=Us(p,["meta"]);return I({},u,{meta:I({},u.meta,f)},_)}),Rs=p=>u=>u[p],Is=()=>null,Zt=p=>Array.isArray(p)?!!p.length:p!=null,Bs=p=>"".concat(p[0]).concat(p[1]),Fs=p=>p.reduce((u,f)=>(Array.isArray(f),u.concat(f)),[]),Pt=p=>p.filter(Zt);var Ds={nth:Rs,nuller:Is,nonEmpty:Zt,add:Bs,flatten:Fs,compose:Ns,drop:Pt,extendNode:Z};let ks=p=>{let{col:u,line:f}=p;return p.lines.length?{col:u,line:f,sourceLine:p.lines[p.line-1]}:{col:u,line:f,sourceLine:""}};function gs(p){let u=(m,h={})=>x=>{let b=x.filter(Zt),{value:y="",meta:S={}}=h,v=ks(p),w=b[b.length-1]&&b[b.length-1].range?b[b.length-1].range[1]:I({},v,{col:v.col+y.length});return{value:y,type:null,Type:m,toString(){},meta:S,range:[v,w],params:b}},f=m=>{let[h,x,b]=m.filter(Zt),y=E.BinaryExpression;return(x.value==="||"||x.value==="&&")&&(y=E.Select),u(y,{value:x.value})([h,b])},_=m=>{let[h]=Pt(m);return Z({type:h!=null&&h.value!=="void"?h.value:null},u(E.FunctionResult)(m))};return{node:u,binary:f,constant:m=>{let h=m[0].value;return Z({value:"".concat(h),type:h.toString().indexOf(".")!==-1?"f32":"i32"},u(E.Constant)([]))},identifier:m=>u("Identifier",{value:m.join("")})([]),unary:([m,h])=>{let x=[h];return m.value==="-"&&(x=[I({},h,{value:"0",Type:E.Constant,params:[],meta:{}}),h]),Z({value:m.value,params:x},u(E.UnaryExpression)([m,h]))},ternary:m=>Z({value:"?"},u(E.TernaryExpression)(m)),subscript:m=>{let[h,x]=m.filter(Zt);return Z({value:h.value,params:[h,x]},u(E.ArraySubscript)([h,x]))},access(m){return Z({value:m[0].value+"."+m[1].value},u(E.Access)(m))},fun:m=>{let[h,x,b,y]=m.filter(Zt);return I({},h,{Type:E.FunctionDeclaration,meta:[],params:[x,b,y]})},declaration:m=>h=>{let[x,...b]=Pt(h),[y,S]=x.params;return Z({value:y.value,type:S.value},u(m)(b))},call:m=>{let[h,...x]=Pt(m);return Z({value:h.value},u(E.FunctionCall)([h,...x]))},struct:m=>{let[h,...x]=Pt(m);return Z({value:h.value},u(E.Struct)(x))},result:_,string:m=>Z({value:m[0].value,type:"i32"},u(E.StringLiteral)([])),char(m){return Z({value:m[0].value,type:"i32"},u(E.CharacterLiteral)([]))},type(m){return Z({value:m[0].value,type:m[0].value,params:[]},u(E.Type)(m))},arrayType(m){let x=Pt(m)[0];return Z({value:x.value+"[]",type:x.type+"[]",params:[]},u(E.ArrayType)(m))},typeGeneric(m){let[h,x]=Pt(m);return Z({value:h.value,type:h.value,params:[x]},u(E.Type)(m))},typedef:m=>{let[h,x,b]=Pt(m);return Z({value:h.value,params:[u(E.FunctionArguments)(x),Z({type:b.value},u(E.FunctionResult)([b]))],type:b.type},u(E.Typedef)([h,x,_]))},voidFun:m=>{let h=Pt(m),[x,b,y]=h,S=Z({type:null},u(E.FunctionResult)([]));return Z({value:x.value,params:[b,S,y]},u(E.FunctionDeclaration)(h))},assignment(m,h){if(["-=","+="].includes(h)){let x=h[0],[b,y]=Pt(m),S=f([b,{value:x},y]);return u(E.Assignment,{value:"="})([b,S])}return u(E.Assignment,{value:h})(m)},assignmentExpr(m,h){if(["-=","+="].includes(h)){let x=h[0],[b,y]=Pt(m),S=f([b,{value:x},y]);return u(E.AssignmentExpression,{value:"="})([b,S])}return u(E.AssignmentExpression,{value:h})(m)},forLoop(m){let[h,x,b,...y]=Pt(m);return u(E.Loop)([h,x,...y,b])},whileLoop(m){let h=u(E.Noop)([]);return u(E.Loop)([h,...m])},spread(m){return u(E.Spread)(m)},builtinDecl(m){let[h,x]=Pt(m);return Z({value:h.value,type:x.value,params:[x]},u(E.ImmutableDeclaration)(m))},addressOf(m){let[h]=Pt(m);return Z({value:h.value,params:[]},u("AddressOf")(m))}}}function zs(){let p=Ut.compile(ft);return{current:null,lines:[],get line(){return p.line},get col(){return p.col},save(){return p.save()},reset(u,f){return this.lines=u.split("\n"),p.reset(u,f)},next(){let u=p.next();for(;u&&u.type==="comment";)u=p.next();return this.current=u,this.current},formatError(u){return p.formatError(u)},has(u){return p.has(u)}}}var Ke=Le(function(p,u){let f=[Hs,Yn,...p],_={lexer:zs(),nodes:gs,helpers:Ds,Syntax:E},m=f.slice(1).reduce((x,b)=>{let y=b.call(_);return I({},x,{ParserRules:x.ParserRules.concat(y.ParserRules)})},f[0].call(_)),h=new js($s.fromCompiled(m));return h.feed(u),M(h.results.length===1,"PANIC - Ambiguous Syntax! Number of productions (".concat(h.results.length,")")),h.results[0]});let Vs=p=>{let u,f=p.reduce((_,m)=>m(h=>_(h,u)),([_])=>_);return(_,m)=>(u=m,f(_,u))},Ys=p=>{let u=[],f=p.reduce((_,m)=>(Object.entries(m).forEach(([h,x])=>{if(h==="*"){u.push(x);return}_[h]==null&&(_[h]=[...u]),_[h].push(x)}),_),{});return Object.entries(f).reduce((_,[m,h])=>(_[m]=Vs(h),_),{})},Wn=Symbol("scope namespace"),qn=Symbol("signature");function Gs(p,u){return[...p,{[Wn]:u,[qn]:{result:null,arguments:null}}]}function Ws(p){return p.slice(0,-1)}function Jn(p){return p[p.length-1]}function qs(p,u,f){let _=Jn(p);return _&&(_[u]=f),_}function Js(p,u){let _=p.length-1;for(_;_>=0;_--){let m=p[_][u];if(m)return m}return null}function Qs(p,u){let f=Object.keys(p).indexOf(u);return f>-1?f:Object.keys(p).length}var Xs={enter:Gs,exit:Ws,add:qs,find:Js,current:Jn,index:Qs,namespace:Wn,signature:qn};let{enter:Ks,exit:Zs,add:ti,find:ei,current:ni,namespace:ri,signature:si,index:ii}=Xs;var Vt={enter:Ks,exit:Zs,add:ti,find:ei,current:ni,namespace:ri,index:ii,signature:si},Qn=Vt.enter,oi=Vt.exit,Wt=Vt.current,te=Vt.find,ai=Vt.add,Xn=Vt.index,Kn=Vt.namespace,ee=Vt.signature;let Bt="function/index",we="LOCAL_INDEX",Ft="global/index",Se="type/const",pe="TYPE_INDEX",li="OBJECT_SIZE",Ze="type/cast",tn="AST_METADATA",en="FUNCTION_METADATA",Yt=p=>{switch(p){case"i32":case"bool":return 0;case"i64":return 1;case"f32":return 2;case"f64":return 3;default:return-1}},nn=p=>{let u=p.params.reduce((_,{type:m})=>Yt(_)<Yt(m)?m:_,p.type),f=p.params.map(_=>_.type!=null&&Yt(_.type)!==Yt(u)?_.Type===E.Constant?Z({type:u},_):Z({type:u,value:_.value,Type:E.TypeCast,meta:{[Ze]:{to:u,from:_.type}},params:[_]},_):_);return I({},p,{params:f,type:u})};function ci(){return{semantics(){let p=u=>([f,_])=>{let m=Wt(_.scopes),h=Xn(m,f.value);return m[f.value]=Z({params:f.params.map(Z({type:f.type})),meta:I({},f.meta,{[m[Kn]]:h,[Se]:f.Type===E.ImmutableDeclaration}),Type:E.Declaration},f),u([m[f.value],_])};return{[E.Export]:u=>([f,_])=>{let m=u([f,_]),[h]=m.params;return _.exports[h.value]=h,m},[E.Declaration]:p,[E.ImmutableDeclaration]:p,[E.Select]:u=>([f,_],m)=>nn(I({},f,{params:f.params.map(h=>m([h,_]))})),[E.BinaryExpression]:u=>([f,_],m)=>nn(I({},f,{params:f.params.map(h=>m([h,_]))})),[E.Pair]:u=>(f,_)=>{let[m,h]=f,x=m.params.map(w=>_([w,h])),[b,y]=x,{type:S}=b,{value:v}=y;return I({},m,{type:v,value:b.value,Type:E.TypeCast,meta:I({},m.meta,{[Ze]:{to:v,from:S}}),params:[b]})},[E.Identifier]:u=>f=>{let[_,m]=f,h=te(m.scopes,_.value);return h?I({},_,{meta:I({},_.meta,h.meta),type:h.type}):_.value==="null"?I({},_,{value:"0",type:"i32",Type:E.Constant}):u(f)},[E.TernaryExpression]:u=>([f,_])=>u([nn(I({},f,{params:[...f.params[1].params,f.params[0]]})),_])}}}}function ui(){return{semantics(){return{"*":p=>function([u,...f],_){return I({},u,{params:u.params.map(h=>_([h,...f]))})}}}}}function fi(){return{semantics(){return{[E.Typedef]:p=>([u])=>u,[E.Program]:p=>u=>{let[f,_]=u,{types:m}=_,h=d({[E.Export]:(x,b)=>{let[y]=x.params;return y!=null&&[E.Typedef,E.Struct].includes(y.Type)?b(I({},y,{meta:I({},y.meta,{EXPORTED:!0})})):x},[E.Typedef]:(x,b)=>{let y=0,[S]=x.params,v=[];L({Assignment(H){let R=H.params[1];v.push(R)},Type(){y+=1}})(S);let w=I({},x,{meta:I({},x.meta,{FUNCTION_METADATA:{argumentsCount:y},DEFAULT_ARGUMENTS:v})});return m[x.value]=w,w}})(f);return p([h,_])}}}}}let pi={i64:63,f64:63,i32:31,f32:31},_i={i64:"0xffffffffffff",f64:"0xffffffffffff",i32:"0xffffff",f32:"0xffffff"};function mi(){return{semantics({stmt:p}){return{[E.UnaryExpression]:u=>(f,_)=>{let[m,h]=f,[x,b]=m.params.map(y=>_([y,h]));switch(m.value){case"!":let y=pi[x.type];return _([p(qr||(qr=Tt(["((("," >> ",") | ((~"," + 1) >> ",")) + 1);"])),x,y,x,y),h]);case"~":let S=_i[_([x,h]).type];return _([p(Jr||(Jr=Tt(["("," ^ ",");"])),x,S),h]);case"-":if(b.Type===E.Constant)return I({},b,{meta:I({},b.meta,{SIGN:-1})});default:return _([I({},m,{type:b.type,params:[I({},x,{type:b.type}),b],Type:E.BinaryExpression}),h])}}}}}}function hi(){return{semantics(){return{[E.FunctionDeclaration]:p=>([u,f],_)=>{f.scopes=Qn(f.scopes,we);let m=Wt(f.scopes),[h,x,b]=u.params,[y,S]=[h,x].map(w=>_([w,f])),v=I({},u,{type:m[ee].result,meta:I({},u.meta,{[Bt]:Object.keys(f.functions).length,[en]:{argumentsCount:m[ee].arguments.length,locals:Wt(f.scopes)}})});return f.functions[u.value]=v,v.params=[y,S,_([b,f])],f.scopes=oi(f.scopes),v},[E.FunctionResult]:p=>([u,f])=>{let _=Wt(f.scopes);return _[ee].result=u.type,u},[E.FunctionArguments]:p=>([u,f],_)=>{let m=Wt(f.scopes);return m[ee].arguments=[],d({[E.Pair]:(x,b)=>{let[y,S]=x.params,v=_([S,f]);return m[ee].arguments.push(x),_([I({},x,{value:y.value,type:v.value,params:[],Type:E.Declaration}),f]),I({},x,{params:[y,v]})}})(I({},u,{params:u.params.filter(Boolean)}))},[E.FunctionCall]:p=>([u,f])=>{let{functions:_}=f,m=Object.keys(_).indexOf(u.value);return p([I({},u,{type:_[u.value]!=null?_[u.value].type:null,meta:{[Bt]:m},params:u.params.slice(1)}),f])},[E.ReturnStatement]:p=>([u,f],_)=>{let m=Wt(f.scopes),[h]=u.params.map(y=>_([y,f])),{result:x}=m[ee];if(h!=null&&h.Type===E.Constant&&Yt(h.type)!==Yt(x))return I({},u,{type:x,params:[I({},h,{type:x})]});let b=h?h.type:null;return I({},u,{params:[h],type:b})}}}}}function di(){return{semantics:()=>({[E.Import]:p=>u=>{let[f,_]=u;return d({[E.BinaryExpression]:(m,h)=>{let[x,b]=m.params;if(x.Type!==E.Pair)return m;let[y,S]=x.params;return h(I({},x,{params:[I({},b,{meta:I({},y.meta,{AS:y.value})}),S]}))},[E.Pair]:(m,h)=>{let{types:x,functions:b}=_,[y,S]=m.params;if(x[S.value]!=null){let v=Object.keys(b).length,w=Object.keys(x).indexOf(S.value),H=I({},y,{id:y.value,type:x[S.value].type,meta:I({},y.meta,{[Bt]:v,[pe]:w,FUNCTION_METADATA:x[S.value].meta.FUNCTION_METADATA,DEFAULT_ARGUMENTS:x[S.value].meta.DEFAULT_ARGUMENTS})});return b[y.value]=H,I({},m,{params:[H,x[S.value]]})}if(["Table","Memory"].includes(S.value)){let v=S.value==="Memory"?"memories":"tables";_[v].push(y)}else{let v=Wt(_.scopes),w=Xn(v,y.value);ai(_.scopes,y.value,I({},y,{meta:{[v[Kn]]:w,[Se]:!0},type:S.type}))}return m}})(f)}})}}function yi(){return{semantics(){let p=u=>([f,_])=>f.type==="bool"?u([I({},f,{type:"i32"}),_]):u([f,_]);return{[E.Identifier]:u=>(f,_)=>{let[m,h]=f;return m.value==="true"||m.value==="false"?_([I({},m,{Type:E.Constant,value:m.value==="true"?"1":"0",type:"i32"}),h]):u(f)},[E.FunctionResult]:u=>([f,_])=>f.type==="bool"?u([I({},f,{type:"i32"}),_]):u([f,_]),[E.Declaration]:p,[E.ImmutableDeclaration]:p}}}}function Zn(p,u){let f=[null,u];return function(_){return f[0]=_,p(f)}}function xi(p,u){let f={},_=0;for(_;_<p.length;_++)f[p[_]]=u[p[_]];return f}let Ti={i32:2,f32:2,i64:3,f64:3},bi="i32";function Ei({stmt:p}){let u=h=>x=>{let[b,y]=x;if(!String(b.type).endsWith("[]"))return h(x);let S=Z({type:bi,meta:{TYPE_ARRAY:b.type.slice(0,-2)}},b);return h([S,y])};function f(h,x){let b=Ti[h.meta.TYPE_ARRAY]||2;return x.Type!==E.Constant||Number(x.value)?p(Qr||(Qr=Tt(["("," + ("," << ","));"])),h,x,b):p(Xr||(Xr=Tt(["(",");"])),h)}function _(h){return!(h.type==null||h.index==null)}function m([h,x]){let b=h.meta.TYPE_ARRAY,y=f(h,x);return{type:b,index:y,TYPE_ARRAY:h.meta.TYPE_ARRAY}}return{[E.Declaration]:u,[E.ImmutableDeclaration]:u,[E.Identifier]:h=>x=>{let[b,y]=x,S=te(y.scopes,b.value);return S&&S.meta.TYPE_ARRAY?h([Z(xi(["type","meta"],S),b),y]):h(x)},[E.Assignment]:h=>(x,b)=>{let[y,S]=x,[v,w]=y.params;if(v.Type!==E.ArraySubscript)return h(x);let H=Zn(b,S),R=m(v.params.map(H)),{type:F,index:g}=R;return M(_(R),"PANIC - Cannot assign to subscript of ".concat(v.value)),H(p(Kr||(Kr=Tt(["",".store(",", ",");"])),F,g,w))},[E.ArraySubscript]:h=>(x,b)=>{let[y,S]=x,v=Zn(b,S),w=m(y.params.map(v)),{type:H,index:R,TYPE_ARRAY:F}=w;return _(w)?Z({meta:{TYPE_ARRAY:F}},v(p(Zr||(Zr=Tt(["",".load(",");"])),H,R))):h(x)},[E.FunctionResult]:u}}function vi(){return{semantics:Ei}}let Pi=(p,u)=>{let f=p.memories[0];return f&&f.value===u.value};function Li(){return{semantics({stmt:p}){return{[E.ImmutableDeclaration]:u=>f=>{let[_,m]=f,{scopes:h,memories:x}=m;return!h.length<2&&_.type==="Memory"&&!x.length?(x.push(I({},_,{meta:I({},_.meta,{[Ft]:-1})})),x[0]):u(f)},[E.FunctionCall]:u=>(f,_)=>{let[m,h]=f,[x,...b]=m.params,[y={},S={}]=x.params,w={dataSize:_([p(ts||(ts=Tt(["i32.load(0);"]))),h]),grow:I({},y,{value:"grow_memory",params:b.map(H=>_([H,h])),Type:E.NativeMethod}),size:I({},y,{value:"current_memory",params:[],Type:E.NativeMethod})}[S.value];return x.Type===E.Access&&Pi(h,y)&&w?w:u(f)}}}}}let tr=p=>{let u=[];for(;;){let f=p&127;p=p>>7;let _=f&64;if(p===0&&!_||p===-1&&_){u.push(f);break}else u.push(f|128)}return u},wi=p=>{let u=[];for(;;){let f=p&127;if(p=p>>>7,p===0){u.push(f);break}u.push(f|128)}return u},Me=1,Ce=2,Ae=4,Oe=8,He=16,je=32,er=64,$e=128,Ne=256,Ue=512,Re=1024,Ie=2048,rn=4096,Mt=4,Si={[Me]:Mt,[Ce]:Mt*2,[Ae]:Mt,[Oe]:Mt*2,[Ie]:Mt,[Re]:Mt>>1,[Ne]:Mt>>2,[$e]:Mt>>2,[Ue]:Mt>>1,[He]:Mt,[je]:Mt,[er]:Mt},it=!0;var Dt={i32:Me,i64:Ce,f32:Ae,f64:Oe,anyfunc:He,func:je,block_type:er,i8:$e,u8:Ne,i16:Ue,u16:Re,u32:Ie,u64:rn,set:(p,u,f,_)=>{switch(p){case Me:return f.setInt32(u,_,it);case Ce:return f.setInt64(u,_,it);case Ae:return f.setFloat32(u,_,it);case Oe:return f.setFloat64(u,_,it);case He:return f.setUint32(u,_,it);case je:return f.setUint32(u,_,it);case $e:return f.setInt8(u,_,it);case Ne:return f.setUint8(u,_,it);case Ue:return f.setInt16(u,_,it);case Re:return f.setUint16(u,_,it);case Ie:return f.setUint32(u,_,it);case rn:return f.setUint64(u,_,it);default:return f.setUint8(u,_,it)}},get:(p,u,f)=>{switch(p){case Me:return f.getInt32(u,it);case Ce:return f.getInt64(u,it);case Ae:return f.getFloat32(u,it);case Oe:return f.getFloat64(u,it);case He:return f.getUint32(u,it);case je:return f.getUint32(u,it);case $e:return f.getInt8(u,it);case Ne:return f.getUint8(u,it);case Ue:return f.getInt16(u,it);case Re:return f.getUint16(u,it);case Ie:return f.getUint32(u,it);case rn:return f.getUint64(u,it);default:return f.getUint8(u,it)}},sizeof:Si},A=Dt.i32,U=Dt.i64,j=Dt.f32,ot=Dt.f64,ct=Dt.u8,sn=Dt.u32,nr=Dt.set,on=Dt.sizeof;class ut{constructor(){this.data=[],this.size=0}push(u,f,_){let m=0;switch(u){case"varuint7":case"varuint32":case"varint7":case"varint1":{f=wi(f),m=f.length,M(m,"Cannot write a value of size ".concat(m));break}case"varint32":{f=tr(f),m=f.length,M(m,"Cannot write a value of size ".concat(m));break}case"varint64":{f=tr(f),m=f.length,M(m,"Cannot write a value of size ".concat(m));break}default:m=on[u],M(m,"Cannot write a value of size ".concat(m,", type ").concat(u))}return this.data.push({type:u,value:f,debug:_}),this.size+=m,this}buffer(u=new ArrayBuffer(this.size)){let f=new DataView(u),_=0;return this.data.forEach(({type:m,value:h})=>{Array.isArray(h)?h.forEach(x=>nr(ct,_++,f,x)):(nr(m,_,f,h),_+=on[m])}),u}write(u){return u&&(this.data=this.data.concat(u.data),this.size+=u.size),this}}function*Mi(p,u){let f=0,_=0,m=0,h=u;for(;;){let b=p.getUint8(h,!0);if(f|=(b&127)<<m,h+=1,!(b&128))break;m+=7}let x=0;for(;_<f;){for(x=0,m=0;;){let b=p.getUint8(h,!0);if(x|=(b&127)<<m,h+=1,!(b&128))break;m+=7}_+=1,yield x}}function rr(p){let u=new ut,f=new ut;f.push("varuint32",p.length,p);let _=0;for(_=0;_<p.length;_++)f.push("varuint32",p.codePointAt(_),p[_]);return u.write(f),u}let Ci={"\\0":0,"\\a":7,"\\b":8,"\\t":9,"\\n":10,"\\v":11,"\\f":12,"\\r":13,"\\'":39},Ai={i64:8,f64:8,i32:4,f32:4};function Oi(p,u){let f=new ut,_=Dt[u];return p.forEach(m=>{f.push(_,m,String(m))}),f}function Hi(){let p=0;return{semantics:({stmt:u})=>({[E.StaticDeclaration]:f=>([_,m],h)=>{let{userTypes:x,statics:b}=m,y=String(_.type).slice(0,-2),S=Ai[y],v=_.params.reduce((H,R,F)=>{let g=h([R,m]);return H.OBJECT_SIZE+=S,H.TYPE_OBJECT[F]=F*S,H.OBJECT_KEY_TYPES[F]=y,H.VALUES.push(Number(g.value)),H},{OBJECT_SIZE:0,TYPE_OBJECT:{},OBJECT_KEY_TYPES:{},VALUES:[],STATIC:y}),w="__auto_gen_".concat(_.value,"_").concat(p);return p+=1,x[w]=I({},_,{value:w,Type:E.Type,meta:v,params:[]}),b[w]=Oi(v.VALUES,y),h([I({},_,{meta:v,type:w,Type:E.ImmutableDeclaration,params:[I({},_.params[0],{value:w,Type:E.StaticValueList})]}),m])},[E.ArraySubscript]:f=>([_,m],h)=>{let[x,b]=_.params.map(S=>h([S,m]));if(!x.meta.STATIC)return f([_,m]);let y={i32:2,f32:2,i64:3,f64:3}[x.meta.STATIC];return h([u(es||(es=Tt(["",".load("," + ("," << ","));"])),x.meta.STATIC,x,b,y),m])},[E.CharacterLiteral]:f=>([_,m],h)=>{let x=Ci[_.value]||_.value.codePointAt(0);return h([I({},_,{Type:"Constant",type:"i32",value:String(x)}),m])},[E.StringLiteral]:f=>_=>{let[m,h]=_,{statics:x}=h,{value:b}=m;return b in x||(x[b]=rr(b)),m}})}}function ji(){return{semantics(){return{[E.ImmutableDeclaration]:p=>function(u){let[f,_]=u;return!_.locals&&f.type==="Table"?I({},f,{meta:I({},f.meta,{[Ft]:-1})}):p(u)},[E.Identifier]:p=>function(u){let[f,_]=u,{functions:m,table:h,scopes:x}=_;return te(x,f.value)||!m[f.value]?p(u):(h[f.value]==null&&(h[f.value]=m[f.value]),I({},f,{type:"i32",meta:{[Bt]:m[f.value].meta[Bt]},value:Object.keys(h).indexOf(f.value),Type:E.FunctionPointer}))},[E.FunctionResult]:p=>(u,f)=>{let[_,m]=u,{types:h}=m;return h[_.type]?p([Z({type:"i32",meta:{ALIAS:_.type},params:_.params.map(x=>f([x,m]))},_),m]):p(u)},[E.FunctionCall]:p=>function(u,f){let[_,m]=u,{scopes:h,types:x}=m,b=te(h,_.value);if(!b)return p(u);let y=x[b.type],S=Object.keys(x).indexOf(b.type),v=[..._.params.slice(1),I({},b,{Type:E.Identifier})].map(w=>f([w,m]));return I({},_,{meta:I({},_.meta,b.meta,{[pe]:S}),type:y!=null?y.type:_.type,params:v,Type:E.IndirectFunctionCall})}}}}}let Be="i32",$i={i64:8,f64:8,i32:4,f32:4,["__DIRECT_ADDRESS__"]:4},Ni=p=>{let u={},f={},_=0;return L({[E.Pair]:m=>{let[h]=m.params,x=h.value,b=m.params[1].value;M(u[x]==null,"Duplicate key ".concat(x," not allowed in object type")),f[x]="".concat(h.Type==="AddressOf"?"&":"").concat(b),u[x]=_,_+=$i[b]||4}})(p),[u,_,f]},Ui=p=>(u,f)=>{let _=p(ns||(ns=Tt(["throw;"]))),m={load:Z({range:f.range},p(rs||(rs=Tt(["i32.load(",", ",");"])),_,_)),store:g=>Z({range:f.range},p(ss||(ss=Tt(["i32.store(",", ",");"])),_,g)),offset:_,type:"void"};if(u.meta.STRUCT_TYPE==null)return m;let h=u.meta.STRUCT_TYPE,x=h.meta.TYPE_OBJECT,b=h.meta.OBJECT_KEY_TYPES,y=x[f.value];if(y==null)return m;let S=b[f.value],v=S[0]==="&",w=y?p(is||(is=Tt(["("," + ",");"])),u,y):p(os||(os=Tt(["(",");"])),u),H=null,R=null;S!=null&&typeof S=="object"&&(H=S,S=Be),String(S).endsWith("[]")&&(R=S.slice(0,-2).replace("&",""),S="i32");let F=Z({range:u.range,meta:{STRUCT_TYPE:H,TYPE_ARRAY:R}});return{offset:w,type:S,store:g=>F(p(as||(as=Tt(["",".store(",", ",");"])),S,w,g)),load:F(v?w:p(ls||(ls=Tt(["",".load(",");"])),S,w))}};function Ri(){return{semantics({stmt:p}){let u=Ui(p);function f(m,h){let[x,b]=m,[y,S]=x.params,[v,w]=y.params,H=u(h([v,b]),w);return h([H.store(S),b])}function _(m,h){let[x,b]=m,[y,S]=x.params,v=h([y,b]),w=[];L({[E.Identifier]:(R,F)=>{let g=u(v,R);w.push({field:g,value:R})},[E.Pair]:(R,F)=>{let[g,G]=R.params,nt=u(v,g);w.push({field:nt,value:G})},[E.Spread]:(R,F)=>{let g=h([R.params[0],b]);Object.keys(g.meta.TYPE_OBJECT).forEach(G=>{let nt=u(v,{value:G,type:null,range:g.range}),tt=u(g,{value:G,type:null,range:g.range});w.push({field:nt,value:tt.load})})}})(S);let H=w.filter(({field:R})=>R!=null).map(R=>h([R.field.store(R.value),b]));return I({},y,{Type:E.Block,params:H})}return{[E.Struct]:m=>([h,x],b)=>{let{userTypes:y,aliases:S}=x,[v]=h.params,w=I({},h,{meta:I({},h.meta,{TYPE_OBJECT:{},OBJECT_SIZE:0,OBJECT_KEY_TYPES:{}})}),H=()=>{S[h.value]=v.value},R=(g,G)=>{let[nt,tt,Rt]=Ni(g);w.meta.TYPE_OBJECT=I({},w.meta.TYPE_OBJECT,nt),w.meta.OBJECT_SIZE+=tt,w.meta.OBJECT_KEY_TYPES=I({},w.meta.OBJECT_KEY_TYPES,Rt)};return{[E.Type]:H,[E.Identifier]:H,[E.ObjectLiteral]:()=>{R(h),y[w.value]=w},[E.UnionType]:()=>{L({[E.ObjectLiteral]:R,[E.ArrayType]:g=>{w.meta.TYPE_ARRAY=g.type.slice(0,-2)},[E.Identifier]:g=>{let G=y[b([g,x]).value];w.meta.TYPE_OBJECT=I({},w.meta.TYPE_OBJECT,G.meta.TYPE_OBJECT),w.meta.OBJECT_SIZE=Math.max(w.meta.OBJECT_SIZE,G.meta.OBJECT_SIZE),w.meta.OBJECT_KEY_TYPES=I({},w.meta.OBJECT_KEY_TYPES,G.meta.OBJECT_KEY_TYPES)}})(v),y[w.value]=w}}[v.Type](),w.meta.OBJECT_KEY_TYPES=Object.entries(w.meta.OBJECT_KEY_TYPES).reduce((g,[G,nt])=>(g[G]=y[nt]||nt,g),{}),w},[E.DeclType]:m=>(h,x)=>{let[b,y]=h,{aliases:S}=y;return S[b.value]?x([Z({value:S[b.value],type:S[b.value]},b),y]):m(h)},[E.FunctionResult]:m=>(h,x)=>{let[b,y]=h,{userTypes:S,aliases:v}=y;return v[b.type]?x([Z({type:v[b.type]},b),y]):S[String(b.type)]?m([Z({type:Be,meta:{STRUCT_TYPE:S[b.type]},params:b.params.map(w=>x([w,y]))},b),y]):m(h)},[E.Identifier]:m=>h=>{let[x,b]=h,{userTypes:y,scopes:S}=b,v=te(S,x.value);return v&&y[v.type]?I({},x,{meta:I({},x.meta,v.meta,y[v.type].meta,{STRUCT_TYPE:y[v.type]}),type:Be}):m(h)},[E.Access]:function(m){return(h,x)=>{let[b,y]=h,[S,v]=b.params,w=u(x([S,y]),v);return x([w.load,y])}},[E.Assignment]:m=>(h,x)=>{let[b]=h,[y,S]=b.params;return y.Type===E.Access?f(h,x):S.Type===E.ObjectLiteral?_(h,x):m(h)},[E.ArraySubscript]:m=>(h,x)=>{let[b,y]=h,S=m(h);if(y.userTypes[S.meta.TYPE_ARRAY]==null)return S;let[v,w]=b.params.map(H=>x([H,y]));return x([Z({type:Be,meta:{STRUCT_TYPE:y.userTypes[S.meta.TYPE_ARRAY]}},p(cs||(cs=Tt(["("," + ("," * sizeof(",")));"])),v,w,S.meta.TYPE_ARRAY)),y])}}}}}function Ii(){return{semantics(){return{[E.FunctionCall]:p=>(u,f)=>{let[_,m]=u,[h,...x]=_.params;if(h.Type===E.Access&&h.params[0]&&h.params[0].Type===E.Type){let[b,y]=h.params;return Z({value:"".concat(b.value,".").concat(y.value),type:b.value,params:x.map(S=>f([S,m])),Type:E.NativeMethod},_)}return p(u)},[E.Unreachable]:p=>([u])=>Z({value:"unreachable",params:[],Type:E.NativeMethod},u)}}}}function Bi(){return{grammar:Yn,semantics(){return{[E.FunctionDeclaration]:p=>u=>{let[f,_]=u,[m]=f.params,h=[];return L({Assignment:x=>{let[,b]=x.params;h.push(b)}})(m),p([I({},f,{meta:I({},f.meta,{DEFAULT_ARGUMENTS:h})}),_])},[E.FunctionCall]:p=>u=>{let[f,_]=u,{functions:m}=_,[h,...x]=f.params,b=m[h.value];if(!b)return p(u);let y=b.meta.FUNCTION_METADATA.argumentsCount,S=x.length,v=y-S;return v>0?p([I({},f,{params:[...f.params,...b.meta.DEFAULT_ARGUMENTS.slice(v-1)]}),_]):p(u)}}}}}let Fi={i64:8,f64:8,i32:4,f32:4};function Di(){return{semantics(){return{[E.FunctionCall]:p=>u=>{let[f,_]=u;if(f.value!=="sizeof")return p(u);let{scopes:m,userTypes:h,functions:x}=_,[,b]=f.params,y=te(m,b.value),{type:S=""}=y||{},v=h[b.value]||h[S],w=x[b.value];if(v!=null){let R=v.meta[li];return M(R,"Object size information is missing"),I({},f,{value:R,params:[],type:"i32",Type:E.Constant})}let H=y||w;return I({},f,{value:Fi[String(H?H.type:b.value)],type:"i32",params:[],Type:E.Constant})}}}}}let ki=()=>[ui().semantics,ci().semantics,di().semantics,fi().semantics,mi().semantics,hi().semantics,yi().semantics,vi().semantics,Li().semantics,Hi().semantics,ji().semantics,Ri().semantics,Ii().semantics,Di().semantics,Bi().semantics];function an(p,u,f){let _=[...ki(),...u],m=Ys(_.map(F=>F(f))),h={functions:{},types:{},userTypes:{},table:{},hoist:[],statics:{},path:[],scopes:Qn([],Ft),memories:[],tables:[],aliases:{},exports:{}},x=n(m)([p,h]),{functions:b,scopes:y,types:S,userTypes:v,statics:w,hoist:H,exports:R}=h;return I({},x,{meta:I({},x.meta,{[tn]:{functions:b,globals:y[0],types:S,userTypes:v,statics:w,exports:R}}),params:[...x.params,...H]})}function Nt(p,u,f,_,m){let h=f.start.line,x=f.start.col,b=f.end.col,y=f.end.sourceLine,S=new Array(b-x+1).join("^").padStart(f.start.col-1," ");return"\n"+y+"\n"+S+" ".concat(u,"\n")+p+"\n  at ".concat(m," (").concat(_,":").concat(h,":").concat(x,")")}let k={},gi=[],ln={},O=null,C=(p,u,f,_,m,h,x)=>{let b={result:p,first:u,second:f,size:_,code:m,name:h,text:x};return k[h]=b,gi[m]=b,ln[x]=b,b};C(O,O,O,0,0,"Unreachable","unreachable"),C(O,O,O,0,1,"Nop","nop"),C(O,O,O,0,2,"Block","block"),C(O,O,O,0,3,"Loop","loop"),C(O,O,O,0,4,"If","if"),C(O,O,O,0,5,"Else","else"),C(O,O,O,0,6,"Try","try"),C(O,O,O,0,7,"Catch","catch"),C(O,O,O,0,8,"Throw","throw"),C(O,O,O,0,9,"Rethrow","rethrow"),C(O,O,O,0,10,"CatchAll","catch_all"),C(O,O,O,0,11,"End","end"),C(O,O,O,0,12,"Br","br"),C(O,O,O,0,13,"BrIf","br_if"),C(O,O,O,0,14,"BrTable","br_table"),C(O,O,O,0,15,"Return","return"),C(O,O,O,0,16,"Call","call"),C(O,O,O,0,17,"CallIndirect","call_indirect"),C(O,O,O,0,26,"Drop","drop"),C(O,O,O,0,27,"Select","select"),C(O,O,O,0,32,"GetLocal","get_local"),C(O,O,O,0,33,"SetLocal","set_local"),C(O,O,O,0,34,"TeeLocal","tee_local"),C(O,O,O,0,35,"GetGlobal","get_global"),C(O,O,O,0,36,"SetGlobal","set_global"),C(A,A,O,4,40,"i32Load","i32.load"),C(U,A,O,8,41,"i64Load","i64.load"),C(j,A,O,4,42,"f32Load","f32.load"),C(ot,A,O,8,43,"f64Load","f64.load"),C(A,A,O,1,44,"i32Load8S","i32.load8_s"),C(A,A,O,1,45,"i32Load8U","i32.load8_u"),C(A,A,O,2,46,"i32Load16S","i32.load16_s"),C(A,A,O,2,47,"i32Load16U","i32.load16_u"),C(U,A,O,1,48,"i64Load8S","i64.load8_s"),C(U,A,O,1,49,"i64Load8U","i64.load8_u"),C(U,A,O,2,50,"i64Load16S","i64.load16_s"),C(U,A,O,2,51,"i64Load16U","i64.load16_u"),C(U,A,O,4,52,"i64Load32S","i64.load32_s"),C(U,A,O,4,53,"i64Load32U","i64.load32_u"),C(O,A,A,4,54,"i32Store","i32.store"),C(O,A,U,8,55,"i64Store","i64.store"),C(O,A,j,4,56,"f32Store","f32.store"),C(O,A,j,8,57,"f64Store","f64.store"),C(O,A,A,1,58,"i32Store8","i32.store8"),C(O,A,A,2,59,"i32Store16","i32.store16"),C(O,A,U,1,60,"i64Store8","i64.store8"),C(O,A,U,2,61,"i64Store16","i64.store16"),C(O,A,U,4,62,"i64Store32","i64.store32"),C(A,O,O,0,63,"CurrentMemory","current_memory"),C(A,A,O,0,64,"GrowMemory","grow_memory"),C(A,O,O,0,65,"i32Const","i32.const"),C(U,O,O,0,66,"i64Const","i64.const"),C(j,O,O,0,67,"f32Const","f32.const"),C(ot,O,O,0,68,"f64Const","f64.const"),C(A,A,O,0,69,"i32Eqz","i32.eqz"),C(A,A,A,0,70,"i32Eq","i32.eq"),C(A,A,A,0,71,"i32Ne","i32.ne"),C(A,A,A,0,72,"i32LtS","i32.lt_s"),C(A,A,A,0,73,"i32LtU","i32.lt_u"),C(A,A,A,0,74,"i32GtS","i32.gt_s"),C(A,A,A,0,75,"i32GtU","i32.gt_u"),C(A,A,A,0,76,"i32LeS","i32.le_s"),C(A,A,A,0,77,"i32LeU","i32.le_u"),C(A,A,A,0,78,"i32GeS","i32.ge_s"),C(A,A,A,0,79,"i32GeU","i32.ge_u"),C(A,U,O,0,80,"i64Eqz","i64.eqz"),C(A,U,U,0,81,"i64Eq","i64.eq"),C(A,U,U,0,82,"i64Ne","i64.ne"),C(A,U,U,0,83,"i64LtS","i64.lt_s"),C(A,U,U,0,84,"i64LtU","i64.lt_u"),C(A,U,U,0,85,"i64GtS","i64.gt_s"),C(A,U,U,0,86,"i64GtU","i64.gt_u"),C(A,U,U,0,87,"i64LeS","i64.le_s"),C(A,U,U,0,88,"i64LeU","i64.le_u"),C(A,U,U,0,89,"i64GeS","i64.ge_s"),C(A,U,U,0,90,"i64GeU","i64.ge_u"),C(A,j,j,0,91,"f32Eq","f32.eq"),C(A,j,j,0,92,"f32Ne","f32.ne"),C(A,j,j,0,93,"f32Lt","f32.lt"),C(A,j,j,0,94,"f32Gt","f32.gt"),C(A,j,j,0,95,"f32Le","f32.le"),C(A,j,j,0,96,"f32Ge","f32.ge"),C(A,j,j,0,97,"f64Eq","f64.eq"),C(A,j,j,0,98,"f64Ne","f64.ne"),C(A,j,j,0,99,"f64Lt","f64.lt"),C(A,j,j,0,100,"f64Gt","f64.gt"),C(A,j,j,0,101,"f64Le","f64.le"),C(A,j,j,0,102,"f64Ge","f64.ge"),C(A,A,O,0,103,"i32Clz","i32.clz"),C(A,A,O,0,104,"i32Ctz","i32.ctz"),C(A,A,O,0,105,"i32Popcnt","i32.popcnt"),C(A,A,A,0,106,"i32Add","i32.add"),C(A,A,A,0,107,"i32Sub","i32.sub"),C(A,A,A,0,108,"i32Mul","i32.mul"),C(A,A,A,0,109,"i32DivS","i32.div_s"),C(A,A,A,0,110,"i32DivU","i32.div_u"),C(A,A,A,0,111,"i32RemS","i32.rem_s"),C(A,A,A,0,112,"i32RemU","i32.rem_u"),C(A,A,A,0,113,"i32And","i32.and"),C(A,A,A,0,114,"i32Or","i32.or"),C(A,A,A,0,115,"i32Xor","i32.xor"),C(A,A,A,0,116,"i32Shl","i32.shl"),C(A,A,A,0,117,"i32ShrS","i32.shr_s"),C(A,A,A,0,118,"i32ShrU","i32.shr_u"),C(A,A,A,0,119,"i32Rotl","i32.rotl"),C(A,A,A,0,120,"i32Rotr","i32.rotr"),C(U,U,O,0,121,"i64Clz","i64.clz"),C(U,U,O,0,122,"i64Ctz","i64.ctz"),C(U,U,O,0,123,"i64Popcnt","i64.popcnt"),C(U,U,U,0,124,"i64Add","i64.add"),C(U,U,U,0,125,"i64Sub","i64.sub"),C(U,U,U,0,126,"i64Mul","i64.mul"),C(U,U,U,0,127,"i64DivS","i64.div_s"),C(U,U,U,0,128,"i64DivU","i64.div_u"),C(U,U,U,0,129,"i64RemS","i64.rem_s"),C(U,U,U,0,130,"i64RemU","i64.rem_u"),C(U,U,U,0,131,"i64And","i64.and"),C(U,U,U,0,132,"i64Or","i64.or"),C(U,U,U,0,133,"i64Xor","i64.xor"),C(U,U,U,0,134,"i64Shl","i64.shl"),C(U,U,U,0,135,"i64ShrS","i64.shr_s"),C(U,U,U,0,136,"i64ShrU","i64.shr_u"),C(U,U,U,0,137,"i64Rotl","i64.rotl"),C(U,U,U,0,138,"i64Rotr","i64.rotr"),C(j,j,j,0,139,"f32Abs","f32.abs"),C(j,j,j,0,140,"f32Neg","f32.neg"),C(j,j,j,0,141,"f32Ceil","f32.ceil"),C(j,j,j,0,142,"f32Floor","f32.floor"),C(j,j,j,0,143,"f32Trunc","f32.trunc"),C(j,j,j,0,144,"f32Nearest","f32.nearest"),C(j,j,j,0,145,"f32Sqrt","f32.sqrt"),C(j,j,j,0,146,"f32Add","f32.add"),C(j,j,j,0,147,"f32Sub","f32.sub"),C(j,j,j,0,148,"f32Mul","f32.mul"),C(j,j,j,0,149,"f32Div","f32.div"),C(j,j,j,0,150,"f32Min","f32.min"),C(j,j,j,0,151,"f32Max","f32.max"),C(j,j,j,0,152,"f32Copysign","f32.copysign"),C(j,j,j,0,153,"f32Abs","f64.abs"),C(j,j,j,0,154,"f32Neg","f64.neg"),C(j,j,j,0,155,"f32Ceil","f64.ceil"),C(j,j,j,0,156,"f32Floor","f64.floor"),C(j,j,j,0,157,"f32Trunc","f64.trunc"),C(j,j,j,0,158,"f32Nearest","f64.nearest"),C(j,j,j,0,159,"f32Sqrt","f64.sqrt"),C(ot,ot,ot,0,160,"f64Add","f64.add"),C(ot,ot,ot,0,161,"f64Sub","f64.sub"),C(ot,ot,ot,0,162,"f64Mul","f64.mul"),C(ot,ot,ot,0,163,"f64Div","f64.div"),C(ot,ot,ot,0,164,"f64Min","f64.min"),C(ot,ot,ot,0,165,"f64Max","f64.max"),C(ot,ot,ot,0,166,"f64Copysign","f64.copysign"),C(A,U,O,0,167,"i32Wrapi64","i32.wrap/i64"),C(A,j,O,0,168,"i32TruncSf32","i32.trunc_s/f32"),C(A,j,O,0,169,"i32TruncUf32","i32.trunc_u/f32"),C(A,j,O,0,170,"i32TruncSf64","i32.trunc_s/f64"),C(A,j,O,0,171,"i32TruncUf64","i32.trunc_u/f64"),C(U,A,O,0,172,"i64ExtendSi32","i64.extend_s/i32"),C(U,A,O,0,173,"i64ExtendUi32","i64.extend_u/i32"),C(U,j,O,0,174,"i64TruncSf32","i64.trunc_s/f32"),C(U,j,O,0,175,"i64TruncUf32","i64.trunc_u/f32"),C(U,j,O,0,176,"i64TruncSf64","i64.trunc_s/f64"),C(U,j,O,0,177,"i64TruncUf64","i64.trunc_u/f64"),C(j,A,O,0,178,"f32ConvertSi32","f32.convert_s/i32"),C(j,A,O,0,179,"f32ConvertUi32","f32.convert_u/i32"),C(j,U,O,0,180,"f32ConvertSi64","f32.convert_s/i64"),C(j,U,O,0,181,"f32ConvertUi64","f32.convert_u/i64"),C(j,j,O,0,182,"f32Demotef64","f32.demote/f64"),C(j,A,O,0,183,"f64ConvertSi32","f64.convert_s/i32"),C(j,A,O,0,184,"f64ConvertUi32","f64.convert_u/i32"),C(j,U,O,0,185,"f64ConvertSi64","f64.convert_s/i64"),C(j,U,O,0,186,"f64ConvertUi64","f64.convert_u/i64"),C(j,j,O,0,187,"f64Promotef32","f64.promote/f32"),C(A,j,O,0,188,"i32Reinterpretf32","i32.reinterpret/f32"),C(U,j,O,0,189,"i64Reinterpretf64","i64.reinterpret/f64"),C(j,A,O,0,190,"f32Reinterpreti32","f32.reinterpret/i32"),C(j,U,O,0,191,"f32Reinterpreti64","f64.reinterpret/i64");let sr=(p,u)=>{let f=p[0];return["i32","bool"].includes(p)&&u==="i64"?k.i32Wrapi64:p==="i64"&&["i32","bool"].includes(u)?k.i64ExtendSi32:p==="f32"&&u==="f64"?k.f32Demotef64:p==="f64"&&u==="f32"?k.f64Promotef32:k[p+(f==="f"?"ConvertS":"TruncS")+u]},ir=({type:p,value:u})=>({"+":k[String(p)+"Add"],"-":k[String(p)+"Sub"],"*":k[String(p)+"Mul"],"/":k[String(p)+"DivS"]||k[String(p)+"Div"],"%":k[String(p)+"RemS"]||k[String(p)+"RemU"],"==":k[String(p)+"Eq"],"!=":k[String(p)+"Ne"],">":k[String(p)+"Gt"]||k[String(p)+"GtS"],"<":k[String(p)+"Lt"]||k[String(p)+"LtS"],"<=":k[String(p)+"Le"]||k[String(p)+"LeS"],">=":k[String(p)+"Ge"]||k[String(p)+"GeS"],"?":k.If,":":k.Else,"&":k[String(p)+"And"],"|":k[String(p)+"Or"],"^":k[String(p)+"Xor"],">>":k[String(p)+"ShrS"],">>>":k[String(p)+"ShrU"],"<<":k[String(p)+"Shl"]})[u],ne=127,re=126,se=125,ie=124,or=112,ar=96,zi={i32:ne,i64:re,f32:se,f64:ie},Fe=p=>{switch(p){case re:return"i64";case se:return"f32";case ie:return"f64";case ar:return"func";case or:return"anyfunc";case ne:default:return"i32"}},cn=p=>{let u={};return L({[E.Pair]:({params:f})=>{let[{value:_},{value:m}]=f;u[_]=parseInt(m)}})(p),u},Vi=p=>{let u=p.value||"??",f=p.type,_=ir({value:u,type:f||"i32"});return f?_.text:_.text.replace("i32","??")},lr=p=>{let u=[];return L({[E.Pair]:(f,_)=>{u.push("".concat(f.params[0].value," ").concat(f.params[1].value))},[E.Type]:f=>{u.push(f.value)}})(p),u.length?" param("+u.join(" ")+")":""},cr=p=>p==null?"":" (result "+(p.type||"??")+")",ur=p=>{let[u,f]=p.params;return"(type "+p.value+" (func".concat(lr(u)).concat(cr(f),"))")},Gt=(p,u,{value:f,params:_})=>{_.filter(Boolean).length?(p("(".concat(f),2),_.forEach(u),p(")",0,-2)):p("(".concat(f,")"),0,0)},Yi=p=>({[E.Import]:(u,f)=>{let[_,m]=u.params;L({[E.Pair]:({params:h},x)=>{let{value:b}=h[0],y=h[1];if(y.value==="Memory"){let S=cn(y);p('(import "'.concat(m.value,'" "').concat(b,'" (memory ').concat(S.initial).concat(S.max?S.max:"","))"))}else p('(import "'.concat(m.value,'" "').concat(b,'" ').concat(ur(y),")"))},[E.Identifier]:(h,x)=>{let{value:b}=h;p('(import "'.concat(m.value,'" "').concat(b,'" (type ??))'))}})(_)},[E.Export]:(u,f)=>{p("(export",2),u.params.forEach(f),p(")",0,-2)},[E.GenericType]:(u,f)=>{p(";; Pseudo type",0,0),p("(type-generic "+u.value+")",0,0)},[E.FunctionCall]:({value:u,params:f},_)=>{Gt(p,_,{value:"call ".concat(u),params:f})},[E.Block]:({params:u},f)=>{Gt(p,f,{value:"block",params:u})},[E.NativeMethod]:(u,f)=>{Gt(p,f,u)},[E.BinaryExpression]:(u,f)=>{let _=Vi(u);Gt(p,f,{value:_,params:u.params})},[E.ArraySubscript]:({params:u},f)=>{p(";; unparsed",0,0),Gt(p,f,{value:"subscript",params:u})},[E.Typedef]:(u,f)=>{p(ur(u))},[E.Struct]:(u,f)=>{p(";; Pseudo struct type",0,0),Gt(p,f,{value:"type-struct "+u.value,params:u.params})},[E.Identifier]:u=>{let f=u.meta[Ft]!=null?"global":"local";p("(get_".concat(f," ").concat(u.value,")"))},[E.Constant]:u=>{p("(".concat(String(u.type),".const ").concat(u.value,")"))},[E.FunctionPointer]:u=>{p("(".concat(String(u.type),".table_pointer ").concat(u.value,")"))},[E.FunctionDeclaration]:(u,f)=>{let[_,m,...h]=u.params;p("(func ".concat(u.value).concat(lr(_)).concat(cr(m)),2),h.forEach(f),p(")",0,-2)},[E.ReturnStatement]:({params:u},f)=>{Gt(p,f,{value:"return",params:u})},[E.Declaration]:(u,f)=>{p("(local "+u.value+" "+String(u.type),2,0),u.params.forEach(f),p(")",0,-2)},[E.ImmutableDeclaration]:(u,f)=>{let _=u.meta[Ft]!=null?"global":"local";if(u.type==="Memory"){let m=cn(u);p("(memory ".concat(m.initial).concat(m.max?" ".concat(m.max):"",")"))}else p("(".concat(_," ")+u.value+" "+String(u.type),2,0),u.params.forEach(f),p(")",0,-2)},[E.StringLiteral]:u=>{p('; string "'.concat(u.value,'"'),0,0),p("(i32.const ??)",0,0)},[E.Type]:u=>{p(u.value)},[E.TypeCast]:(u,f)=>{let _=u.params[0],m=sr(String(u.type),_.type);p("("+m.text,2),u.params.forEach(f),p(")",0,-2)},[E.Access]:({params:u},f)=>{p(";; unparsed",0,0),Gt(p,f,{value:"access",params:u})},[E.MemoryAssignment]:(u,f)=>{p("("+String(u.type)+".store",2,0),u.params.forEach(f),p(")",0,-2)},[E.Assignment]:(u,f)=>{let[_,...m]=u.params,h=_.meta[Ft]!=null?"global":"local";p("(set_".concat(h," ").concat(_.value),2),[E.ArraySubscript,E.Access].includes(_.Type)&&f(_),m.forEach(f),p(")",0,-2)},[E.TernaryExpression]:(u,f)=>{let[_,m,h]=u.params;p("(select",2),f(_),f(m),f(h),p(")",0,-2)},[E.IfThenElse]:(u,f)=>{let[_,m,...h]=u.params;p("(if",2),f(_),p("(then",2),f(m),p(")",0,-2),h.length>0&&(p("(else",2),h.forEach(f),p(")",0,-2)),p(")",0,-2)},[E.ObjectLiteral]:(u,f)=>{}}),fr=p=>{if(p==null)return"";let u=0,f=[],_=[];return L(Yi((x,b=0,y=0)=>{u+=y,_.push(x),f.push(u+x.length),u+=b}))(p),_.reduce((x,b,y)=>(x+=b.padStart(f[y]," ")+"\n",x),"")},pr=Le((p,u)=>{let f=u.meta[we],_=u.meta[Ft],m=f!=null?f:_;M(m!=null,"Undefined index for scope Operation. Possibly missing metadata. op: ".concat(JSON.stringify(p)," node: ").concat(fr(u)));let h=f!=null?p+"Local":p+"Global",x=[Number(m)];return{kind:k[h],params:x,debug:"".concat(u.value,"<").concat(u.meta.ALIAS||u.type,">")}}),Gi=p=>{switch(p){case St.f32:return se;case St.f64:return ie;case St.i64:return re;case St.i32:default:return ne}},_e=p=>typeof p=="string"&&St[p]!=null,_r=p=>({mutable:p.meta[Se]?0:1,type:Gi(p.type)}),Wi=pr("Set"),mr=pr("Get"),De="global";function un(p,{filename:u}){let f=p.meta[tn];if(f==null)throw new Error("Missing AST metadata!");let{types:_,functions:m,userTypes:h}=f,x=[];L({[E.Import]:(y,S)=>{L({[E.BinaryExpression]:(v,w)=>{let[H,R]=v.range;x.push(Nt("Using an 'as' import without a type.","A type for original import "+v.params[0].value+" is not defined nor could it be inferred.",{start:H,end:R},u,De))},[E.Identifier]:(v,w)=>{let[H,R]=v.range;x.push(Nt("Infered type not supplied.","Looks like you'd like to infer a type, but it was never provided by a linker. Non-concrete types cannot be compiled.",{start:H,end:R},u,De))},[E.Pair]:(v,w)=>{let H=v.params[1];if(!_e(H.value)&&_[H.value]==null){let[R,F]=H.range;x.push(Nt("Undefined Type ".concat(H.value),"Invalid Import. ".concat(H.value," type does not exist"),{start:R,end:F},u,De))}}})(y)},[E.Struct]:(y,S)=>{},[E.ImmutableDeclaration]:(y,S)=>{},[E.Declaration]:(y,S)=>{let[v,w]=y.range;!_e(y.type)&&!_[y.type]&&!h[y.type]&&x.push(Nt('Unknown type used in a declaration, "'.concat(String(y.type),'"'),"Variables must be assigned with a known type.",{start:v,end:w},u,De))},[E.FunctionDeclaration]:(y,S)=>{let v="".concat(y.value,"()");L({[E.Declaration]:(w,H)=>{let[R,F]=w.range;!_e(w.type)&&!_[w.type]&&!h[w.type]&&x.push(Nt('Unknown type used in a declartion, "'.concat(String(w.type),'"'),"Variables must be assigned with a known type.",{start:R,end:F},u,v))},[E.Assignment]:w=>{let[H]=w.params,[R,F]=w.range;H.meta[Se]&&x.push(Nt("Cannot reassign a const variable ".concat(H.value),"const variables cannot be reassigned, use let instead.",{start:R,end:F},u,v))},[E.ArraySubscript]:w=>{let[H]=w.params,[R,F]=w.range;x.push(Nt("Invalid subscript target","Expected array type for ".concat(H.value,", received ").concat(H.type),{start:R,end:F},u,v))},[E.NativeMethod]:(w,H)=>{let{value:R}=w,[F={},g]=w.params,[G,nt]=w.range;F.value==="unreachable"&&(R.includes("store")||R.includes("load"))&&x.push(Nt("Cannot generate property access",'Cannot assign "'.concat(g.value,'". Key is "').concat(F.value,'"'),{start:G,end:nt},u,v))},[E.ReturnStatement]:(w,H)=>{if(w.params.map(H),y.type==null)return;let[R]=w.params,[F]=w.range,g=R!=null?R.range[1]:w.range[1],G=w.type;Yt(G)!==Yt(y.type)&&x.push(Nt("Missing return value","Inconsistent return value. Expected "+y.type+" received "+String(G),{start:F,end:g},u,v))},[E.FunctionCall]:(w,H)=>{if(m[w.value]==null){let[R,F]=w.range;x.push(Nt("Undefined function reference","".concat(w.value," is not defined."),{start:R,end:F},u,v))}},[E.IndirectFunctionCall]:(w,H)=>{let R=w.params[w.params.length-1],F=_[R.type];if(!_e(R.type)&&F==null){let[g,G]=w.range;x.push(Nt("Cannot make an indirect call without a valid function type","".concat(R.value," has type ").concat(String(R.type)," which is not defined. Indirect calls must have pre-defined types."),{start:g,end:G},u,v))}}})(y)}})(p);let b=x.length;if(b>0){let y=x.reduce((S,v)=>S+"\n".concat(v,"\n"),"Cannot generate WebAssembly for ".concat(u,". ").concat(b," problems.\n"));throw new Error(y)}}let pt=(p,u)=>(Array.isArray(u)?p=[...p,...u]:p.push(u),p),qi=(p,u)=>{let f=p.params.map(yt(u)).reduce(pt,[]),_=p.meta[Bt];return f.push({kind:k.Call,params:[_],debug:"".concat(p.value,"<").concat(p.type?p.type:"void",">")}),f},Ji=(p,u)=>{let f=p.params.map(yt(u)).reduce(pt,[]),_=p.meta[we],m=p.meta[pe];return M(_!=null,"Undefined local index, not a valid function pointer"),M(m!=null,"Variable is not of a valid function pointer type"),[...f,{kind:k.CallIndirect,params:[m,0]}]},Qi=(p,u)=>{let f=p.params.map(yt(u)).reduce(pt,[]);return f.push({kind:ir(I({},p,{type:p.type})),params:[]}),f},Xi=(p,u)=>{let f=p.params.map(yt(u)).reduce(pt,[]);return f.push({kind:k.Select,params:[]}),f},Ki=(p,u)=>{let f=yt(u),[_,m,...h]=p.params;return[...[_].map(f).reduce(pt,[]),{kind:k.If,params:[64]},...[m].map(f).reduce(pt,[]),...h.map(f).reduce(pt,[]),{kind:k.End,params:[]}]},Zi=p=>[{kind:k.i32Const,params:[Number(p.value)]}],to=p=>{let u=p.params.filter(Boolean).map(yt(null)).reduce(pt,[]);return u.push({kind:k.Return,params:[]}),u},eo=(p,u)=>[p].map(yt(u)).reduce(pt,[]),no=(p,u)=>{let f=p.params[0];if(f){let _=p.meta[we],m=_e(p.type)?p.type:dt;return[...eo(I({},f,{type:m}),u),{kind:k.SetLocal,params:[_],debug:"".concat(p.value,"<").concat(String(p.type),">")}]}return[]},ro=p=>{let[u,f]=p.params,_=[f].map(yt(null)).reduce(pt,[]);return _.push(Wi(u)),_},so=p=>{let[u,f]=p.params,_=[f].map(yt(null)).reduce(pt,[]);return _.push({kind:k.TeeLocal,params:[Number(u.meta.LOCAL_INDEX)],debug:"".concat(u.value,"<").concat(String(u.meta.ALIAS||u.type),">")}),_},io=(p,u)=>{let f=[],_=yt(u),[m,h,...x]=p.params;return f.push.apply(f,[m].map(_).reduce(pt,[])),f.push({kind:k.Block,params:[64]}),f.push({kind:k.Loop,params:[64]}),f.push.apply(f,[h].map(_).reduce(pt,[])),f.push({kind:k.i32Eqz,params:[]}),f.push({kind:k.BrIf,params:[1]}),f.push.apply(f,x.map(_).reduce(pt,[])),f.push({kind:k.Br,params:[0]}),f.push({kind:k.End,params:[]}),f.push({kind:k.End,params:[]}),f},oo=(p,u)=>{let f=p.meta[Ze];M(f,"Cannot generate typecast for node: ".concat(JSON.stringify(p)));let{to:_,from:m}=f;return[...p.params.map(yt(u)).reduce(pt,[]),{kind:sr(_,m),params:[]}]},ao=()=>[{kind:k.Br,params:[2]}];function lo(){return[]}let co=(p,u)=>p.params.map(yt(u)).reduce(pt,[]),uo=(p,u)=>[{kind:k.Else,params:[]},...p.params.map(yt(u)).reduce(pt,[])],fo=(p,u)=>{let[f,_]=p.params,m={kind:k.Select,params:[]},h=[f].map(yt(u)).reduce(pt,[]);return p.value==="&&"?[...[_].map(yt(u)).reduce(pt,[]),{kind:k.i32Const,params:[0]},...h,m]:[...h,...[_].map(yt(u)).reduce(pt,[]),...h,m]},hr={load8_s:0,load8_u:0,store8:0,load16_s:1,load16_u:1,store16:1,store32:2,load32_s:2,load32_u:2,store:2,load:2},po={grow_memory:0,current_memory:0},_o=(p,u)=>{let f=p.params.map(yt(u)).reduce(pt,[]),_=p.value.split(".").pop();if(hr[_]==null)f.push({kind:ln[p.value],params:[po[p.value]]});else{let m=hr[_];f.push({kind:ln[p.value],params:[m,0]})}return f},mo=p=>{let u=k[String(p.type)+"Const"],f=(p.meta.SIGN||1)*Number(p.value);return[{kind:u,params:[f]}]},ho={[E.FunctionCall]:qi,[E.IndirectFunctionCall]:Ji,[E.Constant]:mo,[E.BinaryExpression]:Qi,[E.TernaryExpression]:Xi,[E.IfThenElse]:Ki,[E.Else]:uo,[E.Select]:fo,[E.Block]:co,[E.Identifier]:mr,[E.FunctionIdentifier]:mr,[E.FunctionPointer]:Zi,[E.ReturnStatement]:to,[E.Declaration]:no,[E.Assignment]:ro,[E.AssignmentExpression]:so,[E.Loop]:io,[E.Break]:ao,[E.TypeCast]:oo,[E.Noop]:lo,[E.NativeMethod]:_o},yt=Le((p,u)=>{let f=ho[u.Type];return M(f,"Unsupported Syntax Token. ".concat(u.Type,' "').concat(u.value,'"')),f(u,p)}),yo=p=>({functionIndex:p}),fn=0,ke=1,ge=2,me=3,xo={Memory:ge,Table:ke};function To(p){let u=p.meta[Bt],f=p.meta[Ft];if(f!=null){let _=xo[String(p.type)]||me;return{index:[ge,ke].includes(_)?0:f,kind:_,field:p.value}}return{index:u,kind:fn,field:p.value}}let bo=p=>{let u={max:0,initial:0};return L({[E.Pair]:({params:f})=>{let[{value:_},{value:m}]=f;u[_]=parseInt(m)}})(p),u};function Eo(p){let u={max:0,initial:0,type:"element"};return L({[E.Pair]:({params:f})=>{let[{value:_},{value:m}]=f;switch(_){case"initial":u.initial=parseInt(m);break;case"element":u.type=m;break;case"max":u.max=parseInt(m);break}}})(p),u}let vo=p=>{let u=_r(p),[f]=p.params;if(f!=null){let{value:_}=f;switch(u.type){case se:case ie:u.init=parseFloat(_);break;case ne:case re:default:u.init=parseInt(_)}}return u},Po=p=>{switch(p){case"Memory":return ge;case"Table":return ke;case"i32":case"f32":case"i64":case"f64":return me;default:return fn}},Lo=p=>{let u=p.value;return p.meta.AS!=null?p.meta.AS:u};function wo(p){let[u,f]=p.params,{value:_}=f,m=[];return L({[E.Pair]:(h,x)=>{let[b,y]=h.params,S=Lo(b),{value:v}=y,w=Po(v),H=(()=>{let F=y.meta[pe];return F||null})(),R=v==="Memory"?cn(y):{};m.push(I({module:_,field:S,global:w===me,kind:w,type:zi[v],typeIndex:H},R))}})(u),m}let oe=p=>{switch(p){case"f32":return se;case"f64":return ie;case"i64":return re;case"i32":case"Function":default:return ne}},dr=p=>{let[u]=p.params,f=p.type?oe(p.type):null,_=[];return L({[E.Pair]:m=>{let h=m.params[1];M(h,"Undefined type in a argument expression"),_.push(oe(h.value))}})(u),{params:_,result:f,id:p.value}};function So(p){let u=p.value;M(typeof u=="string","Generator: A type must have a valid string identifier, node: ".concat(JSON.stringify(p)));let[f,_]=p.params,m=[];return L({[E.DeclType]:(h,x)=>{m.push(oe(h.value))},[E.Type]:(h,x)=>{m.push(oe(h.value))},[E.Identifier]:(h,x)=>{m.push(oe(h.value))}})(f),{id:u,params:m,result:_.type&&_.type!=="void"?oe(_.type):null}}function Mo(p,u){let f=u,_={},m=Object.entries(p).reduce((x,[b,y])=>(x.push({offset:Number(f),data:y}),_[b]=f,f+=y.size,x),[]),h=new ut;return h.push(sn,f,String(f)),{data:[{offset:0,data:h},...m],map:_}}let Co=4,Ao=p=>{let[u,f,..._]=p.params,m=p.meta[en];M(_,"Cannot generate code for function without body"),M(m,"Cannot generate code for function without metadata");let{locals:h,argumentsCount:x}=m,b={code:[],locals:Object.keys(h).slice(x).map(y=>_r(h[y])),debug:"Function ".concat(p.value)};return b.code=_.map(yt(b)).reduce(pt,[]),b};function pn(p,u){let f={Version:u.version,Types:[],Start:[],Element:[],Code:[],Exports:[],Imports:[],Globals:[],Functions:[],Memory:[],Table:[],Artifacts:[],Data:[],Name:{module:u.filename,functions:[],locals:[]}},{statics:_}=p.meta[tn];u.linker!=null&&(_=I({},u.linker.statics,_));let{map:m,data:h}=Mo(_,Co);Object.keys(_).length>0&&(f.Data=h);let x=w=>{let H=dr(w);return f.Types.findIndex(R=>{let F=R.params.length===H.params.length&&R.params.reduce((G,nt,tt)=>G&&nt===H.params[tt],!0),g=R.result===H.result;return F&&g})},b=w=>f.Element.findIndex(H=>H.functionIndex===w),y={},S=d({[E.Typedef]:(w,H)=>{let R=f.Types.findIndex(({id:g})=>g===w.value),F=f.Types[R];return F==null&&(R=f.Types.length,f.Types.push(So(w))),F=I({},w,{meta:I({},w.meta,{[pe]:R})}),y[w.value]={typeIndex:R,typeNode:F},F}})(d({[E.Import]:(w,H)=>w,[E.StringLiteral]:(w,H)=>{let{value:R}=w;return m[R]==null?w:I({},w,{value:String(m[R]),Type:E.Constant})},[E.StaticValueList]:w=>{let{value:H}=w;return I({},w,{value:String(m[H]),Type:E.Constant})}})(p)),v={[E.Typedef]:(w,H)=>w,[E.Export]:w=>{let[H]=w.params;f.Exports.push(To(H))},[E.ImmutableDeclaration]:w=>{switch(w.type){case"Memory":f.Memory.push(bo(w));break;case"Table":f.Table.push(Eo(w));break}},[E.Declaration]:w=>{w.meta[Ft]!=null&&f.Globals.push(vo(w))},[E.Import]:w=>{f.Imports.push(...wo(w))},[E.FunctionDeclaration]:w=>{let H=(()=>{let g=x(w);return g===-1?(f.Types.push(dr(w)),f.Types.length-1):g})(),R=d({FunctionPointer(g){let nt=g.meta[Bt],tt=b(nt);return tt<0&&(tt=f.Element.length,f.Element.push(yo(nt))),g}})(w),F=w.meta[Bt];if(M(F!=null,"Function index must be set"),f.Functions[F]=H,f.Code[F]=Ao(R),R.value==="start"&&f.Start.push(F),u.encodeNames){f.Name.functions.push({index:F,name:w.value});let g=w.meta[en];g!=null&&Object.keys(g.locals).length&&(f.Name.locals[F]={index:F,locals:Object.entries(g.locals).map(([G,nt])=>({name:G,index:Number(nt.meta["local/index"])}))})}}};return L(v)(S),f.Code=f.Code.filter(Boolean),f}let yr=1,Oo=1836278016;function Ho(p){return new ut().push(sn,Oo,"\\0asm").push(sn,p,"version ".concat(p))}let _n="varuint7",q="varuint32",he="varint7",ae="varint1",mn="varint32",xr="varint64";function qt(p,u,f){p.push(q,u.length,f);for(let _=0;_<u.length;_++)p.push(ct,u.charCodeAt(_),u[_]);return p}let jo=p=>{let u=new ut().push(q,p.length,"entry count");return p.forEach(f=>{switch(qt(u,f.module,"module"),qt(u,f.field,"field"),f.kind){case me:{u.push(ct,me,"Global"),u.push(ct,f.type,Fe(f.type)),u.push(ct,0,"immutable");break}case fn:{u.push(ct,f.kind,"Function"),u.push(q,f.typeIndex,"type index");break}case ke:{u.push(ct,f.kind,"Table"),u.push(ct,or,"function table types"),u.push(ae,0,"has max value"),u.push(q,0,"iniital table size");break}case ge:{u.push(ct,f.kind,"Memory"),u.push(ae,!!f.max,"has no max"),u.push(q,f.initial,"initial memory size(PAGES)"),f.max&&u.push(q,f.max,"max memory size(PAGES)");break}}}),u},$o=p=>{let u=new ut;return u.push(q,p.length,"count"),p.forEach(({field:f,kind:_,index:m})=>{qt(u,f,"field"),u.push(ct,_,"Global"),u.push(q,m,"index")}),u},No=(p,{type:u,init:f,mutable:_})=>{switch(p.push(ct,u,Fe(u)),p.push(ct,_,"mutable"),u){case ne:p.push(ct,k.i32Const.code,k.i32Const.text),p.push(mn,f,"value (".concat(f,")"));break;case se:p.push(ct,k.f32Const.code,k.f32Const.text),p.push(j,f,"value (".concat(f,")"));break;case ie:p.push(ct,k.f64Const.code,k.f64Const.text),p.push(ot,f,"value (".concat(f,")"));break;case re:p.push(ct,k.i64Const.code,k.i64Const.text),p.push(xr,f,"value (".concat(f,")"))}p.push(ct,k.End.code,"end")},Uo=p=>{let u=new ut;return u.push(q,p.length,"count"),p.forEach(f=>No(u,f)),u},Ro=p=>{p=p.filter(f=>f!==null);let u=new ut;return u.push(q,p.length,"count"),p.forEach(f=>u.push(q,f,"type index")),u};function Io(p){let u=new ut;return u.push(q,p[0],"start function"),u}let Bo=p=>({functionIndex:u},f)=>{p.push(q,0,"table index"),p.push(ct,k.i32Const.code,"offset"),p.push(q,f,f.toString()),p.push(ct,k.End.code,"end"),p.push(q,1,"number of elements"),p.push(q,u,"function index")},Fo=p=>{let u=new ut;return u.push(q,p.length,"count"),p.forEach(Bo(u)),u},Do=(p,{params:u,result:f},_)=>{p.push(he,ar,"func type (".concat(_,")")),p.push(q,u.length,"parameter count"),u.forEach(m=>p.push(he,m,"param")),f?(p.push(ae,1,"result count"),p.push(he,f,"result type ".concat(Fe(f)))):p.push(ae,0,"result count")},ko=p=>{let u=new ut;return u.push(q,p.length,"count"),p.forEach((f,_)=>Do(u,f,_)),u},go=(p,u)=>{p.push(q,1,"number of locals of following type"),p.push(he,u.type,"".concat(Fe(u.type)))},zo=(p,{locals:u,code:f,debug:_})=>{let m=new ut;f.forEach(({kind:x,params:b,debug:y})=>{M(typeof x<"u","Fatal error! Generated undefined opcode. debug code: ".concat(JSON.stringify(y))),m.push(ct,x.code,"".concat(x.text,"  ").concat(y||"")),b.filter(S=>typeof S<"u").forEach(S=>{let v=q,w="i32.literal";if(x.code>=40&&x.code<=64)v=q,w="memory_immediate";else switch(x.result){case ot:v=ot,w="f64.literal";break;case j:v=j,w="f32.literal";break;case A:v=mn,w="i32.literal";break;case U:v=xr,w="i64.literal";break;default:v=q}m.push(v,S,"".concat(w))})});let h=new ut;u.forEach(x=>go(h,x)),p.push(q,m.size+h.size+2,_),p.push(q,u.length,"locals count"),p.write(h),p.write(m),p.push(ct,k.End.code,"end")},Vo=p=>{let u=new ut;return u.push(q,p.length,"function count"),p.forEach(f=>zo(u,f)),u},Yo=(p,u)=>{p.push(ae,u.max?1:0,"has no max"),p.push(q,u.initial,"initial memory size(PAGES)"),u.max&&p.push(q,u.max,"max memory size(PAGES)")},Go=p=>{let u=new ut;return u.push(q,p.length,"count"),p.forEach(f=>Yo(u,f)),u},Wo={anyfunc:112},qo=(p,u)=>{p.push(he,Wo[u.type],u.type),p.push(ae,u.max?1:0,"has max"),p.push(q,u.initial,"initial table size"),u.max&&p.push(q,u.max,"max table size")};function Jo(p){let u=new ut;return u.push(q,p.length,"count"),p.forEach(f=>qo(u,f)),u}let Qo=(p,u)=>{p.push(q,0,"memory index");let{offset:f,data:_}=u;p.push(ct,k.i32Const.code,k.i32Const.text),p.push(mn,f,"segment offset (".concat(f,")")),p.push(ct,k.End.code,"end"),p.push(q,_.size,"segment size"),p.write(_)};function Xo(p){let u=new ut;u.push(q,p.length,"entries");for(let f=0,_=p.length;f<_;f++){let m=p[f];Qo(u,m)}return u}let Ko=p=>{let u=new ut;return qt(u,p,"name_len: ".concat(p)),u},Zo=p=>{let u=new ut;return u.push(q,p.length,"count: ".concat(String(p.length))),p.forEach(({index:f,name:_})=>{u.push(q,f,"index: ".concat(String(f))),qt(u,_,"name_len: ".concat(_))}),u},ta=p=>{let u=new ut;return u.push(q,p.length,"count: ".concat(String(p.length))),p.forEach(({index:f,locals:_})=>{u.push(q,f,"function index: ".concat(String(f))),u.push(q,_.length,"number of params and locals ".concat(_.length)),_.forEach(({index:m,name:h})=>{u.push(q,m,"index: ".concat(String(m))),qt(u,h,"name_len: ".concat(h))})}),u},ea=p=>{let u=new ut;qt(u,"name","name_len: name");let f=Ko(p.module);u.push(_n,0,"name_type: Module"),u.push(q,f.size,"name_payload_len"),u.write(f);let _=Zo(p.functions);u.push(_n,1,"name_type: Function"),u.push(q,_.size,"name_payload_len"),u.write(_);let m=ta(p.locals);return u.push(_n,2,"name_type: Locals"),u.push(q,m.size,"name_payload_len"),u.write(m),u},na=1,ra=2,sa=3,ia=4,oa=5,aa=6,la=7,ca=8,ua=9,fa=10,pa=11,_a=0,Ct=({type:p,label:u,emitter:f})=>_=>{let m=_[u];if(!m||Array.isArray(m)&&!m.length)return null;let h=new ut().push(ct,p,u+" section"),x=f(m);return h.push(q,x.size,"size"),h.write(x),h};var At={type:Ct({type:na,label:"Types",emitter:ko}),imports:Ct({type:ra,label:"Imports",emitter:jo}),function:Ct({type:sa,label:"Functions",emitter:Ro}),table:Ct({type:ia,label:"Table",emitter:Jo}),memory:Ct({type:oa,label:"Memory",emitter:Go}),exports:Ct({type:la,label:"Exports",emitter:$o}),globals:Ct({type:aa,label:"Globals",emitter:Uo}),start:Ct({type:ca,label:"Start",emitter:Io}),element:Ct({type:ua,label:"Element",emitter:Fo}),code:Ct({type:fa,label:"Code",emitter:Vo}),data:Ct({type:pa,label:"Data",emitter:Xo}),name:Ct({type:_a,label:"Name",emitter:ea})};function hn(p,u){let _=new ut().write(Ho(p.Version)).write(At.type(p)).write(At.imports(p)).write(At.function(p)).write(At.table(p)).write(At.memory(p)).write(At.globals(p)).write(At.exports(p)).write(At.start(p)).write(At.element(p)).write(At.code(p)).write(At.data(p));return u.encodeNames?_.write(At.name(p)):_}let ma=(p,u=0,f)=>{let _=0;return p.data.slice(u,f).map(({type:m,value:h,debug:x})=>{let b="".concat(_.toString()," 0x").concat(_.toString(16)).padStart(6," ").padEnd(p.data.length.toString().length+1),y;Array.isArray(h)?y=h.map(v=>v.toString(16)).join().padStart(16):y=h.toString(16).padStart(16);let S="".concat(b,": ").concat(y," ; ").concat(x);return _+=on[m]||h.length,S}).join("\n")+"\n ============ fin ============="},dn=p=>{let u=f=>{try{return p("function fragment() {\n        ".concat(f,"\n      }")).params[0].params[2].params[0]}catch(_){throw new Error("PANIC - Invalid fragment input:\n\n".concat(f,"\n\nParse Error: ").concat(_.stack))}};return(f,..._)=>{let m=!1,h=f.reduce((b,y,S)=>{let v=_[S];return v!=null&&typeof v!="object"?b+=y+String(v):v!=null?(m=!0,b+=y+"$$rep_".concat(S)):b+=y},""),x=u(h);return m?d({Identifier(b){let{value:y}=b;return y.indexOf("$$rep_")?b:_[Number(y.replace("$$rep_",""))]}})(x):x}},ha="0.21.0",da=(p,u)=>{let{version:f=yr,encodeNames:_=!1,lines:m=p.split("\n"),filename:h="unknown",extensions:x=[]}=u||{},b=Ke([]),y=dn(b),S={version:f,encodeNames:_,lines:m,filename:h,extensions:x},v=b(p),w=an(v,[],I({},S,{parser:b,stmt:y}));un(w,{lines:m,filename:h});let H=pn(w,S);return hn(H,{version:f,encodeNames:_,filename:h,lines:m})},ya=(p,u)=>{let{filename:f="unknown.walt",extensions:_=[],linker:m,encodeNames:h=!1}=u||{},x={filename:f,lines:p.split("\n"),version:yr,encodeNames:h},b=_.reduce((F,g)=>{let G=I({semantics:nt=>({}),grammar:()=>({ParserRules:[]})},g(x));return F.grammar.push(G.grammar),F.semantics.push(G.semantics),F},{grammar:[],semantics:[]}),y=Ke(b.grammar),S=dn(y),v=y(p),w=an(v,b.semantics,{parser:y,stmt:S});un(w,x);let H=pn(w,I({},x,{linker:m})),R=hn(H,x);return{wasm:R,buffer(){return R.buffer()},ast:v,semanticAST:w}};return l.makeParser=Ke,l.makeFragment=dn,l.semantics=an,l.validate=un,l.generator=pn,l.emitter=hn,l.prettyPrintNode=fr,l.debug=ma,l.stringEncoder=rr,l.stringDecoder=Mi,l.walkNode=L,l.mapNode=d,l.VERSION=ha,l.getIR=da,l.compile=ya,l}({}),bs=bl,El=l=>bs.compile(l).buffer(),vl=l=>l.trim().length?JSON.stringify([...new Uint8Array(bs.compile(l).buffer())]):"[]",Pl=l=>{let c={};return Object.getOwnPropertyNames(Object.getPrototypeOf(l)).filter(t=>!["constructor","nanoapp","initial_state","initial_component","css","__walt","__src","init"].includes(t)).map(t=>c[t]=l[t].bind(l)),c},Ll=(l,c)=>{if(l.length){let t=new WebAssembly.Table({initial:10,element:"anyfunc"}),e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(l).buffer),{tag:Pl(c),console,javascript:{table:t,setTimeout:(r,o)=>window.setTimeout(t.get(r),o),setInterval}}).exports,s={};return Object.keys(e).map(r=>s[r]=e[r]),s}return{}},wl={name:"Walt",uniqueBlock:"walt",compileWalt:vl,compile:El,initWalt:Ll};function Sl(l){return l;function c(r,o,a){var i;return a<0?a+=1:a>1&&(a-=1),6*a<1?i=r+(o-r)*a*6:2*a<1?i=o:3*a<2?i=r+(o-r)*(2/3-a)*6:i=r,255*i}function t(r,o,a){var i,n,d,T,L,N,M=Math;return o/=100,a/=100,o?(a<=.5?n=a*(o+1):n=a+o-a*o,i=a*2-n,d=r/360,T=M.ceil(c(i,n,d+1/3)),L=M.ceil(c(i,n,d)),N=M.ceil(c(i,n,d-1/3))):T=L=N=a*255,{r:T,g:L,b:N}}function e(r,o,a){return"#"+((1<<24)+(1*r<<16)+(1*o<<8)+1*a).toString(16).slice(1)}var s}var Ml=Sl,Cl={name:"min.css",processStyle:Ml},Al={walt:wl,mincss:Cl},Je=Al,gn=l=>class extends l{baseInit(){this.component=this.initial_component,Ts(this.component),this.animate=It.animate,this.Spring=Tl,this.window_events={},this.checkStateObjectChanges={},this.state=this.initial_state,this.__walt&&(this.walt=Je.walt.initWalt(this.__walt,this,this.state)),delete this.__proto__.baseInit}async connectedCallback(){if(this.renderer&&!this.__rendererHTML&&this.__rendererName!==this.parent.__rendererName)throw"ui.js diffferent renderers ".concat(this.__rendererName," and ").concat(this.parent.__rendererName);ve(this.document,this.component,{state:this.state}),this.is_connected=!0,this.connected&&this.connected()}async disconnectedCallback(){this.disconnected&&await this.disconnected(),Object.keys(this.window_events).forEach(t=>this.window_events[t].forEach(e=>window.removeEventListener(t,e.cb)))}render(){this.is_connected&&hs(this.document,this.component,{state:this.state})}attributeChangedCallback(t,e,s){if(typeof s=="object"){if(Array.isArray(this.state[t])&&Array.isArray(s)&&this.state[t].length==0&&s.length==0||this.checkStateObjectChanges[t]&&JSON.stringify(this.state[t])===JSON.stringify(s))return}else if(this.state[t]===s)return;this.state[t]=s,this.changed&&this.changed({[t]:s}),this.render()}hasEventHandler(t){return this._events?!!this._events[t]:!!this.getAttribute("on"+t)}get cookies(){return typeof document<"u"?Object.assign({},...document.cookie.split(";").filter(t=>t).map(t=>t.split("=")).map(([t,e])=>({[t.trim()]:(e+"").trim()}))):{}}get hash(){return typeof window<"u"?window.location.hash.substr(1).split("/"):[]}on(t,e,s){this.window_events[t]||(this.window_events[t]=[]);let r=this.window_events[t].find(a=>a.callback===e),o=(...a)=>e.call(this,...a);r||(this.window_events[t].push({callback:e,cb:o}),window.addEventListener(t,o,s))}off(t,e){if(!this.window_events[t])return;let s=this.window_events[t].findIndex(r=>r.callback===e);s!==-1&&(window.removeEventListener(t,this.window_events[t][s].cb),this.window_events[t].splice(s,1))}},Es=l=>class extends l{htmlInit(){if(this.animateCSS=(t,{element:e,unit:s,from:r,to:o,duration:a,easing:i,done:n})=>{e._styles[t]=It.animateCSS(e||this,t,s===void 0?"":s,r||0,o,a||1e3,i,()=>{e._styleV[t]=o+s,n&&n()})},this.css.length){let t=document.createElement("style");t.textContent=this.css,this.ShadowDOM?this.document.append(t):setTimeout(()=>{this.document.append(t)},0)}delete this.__proto__.htmlInit}setAttribute(t,e){this.attributeChangedCallback(t,void 0,e),this.AddAttributes&&typeof e!="object"&&super.setAttribute(t,e)}$(t){return this.document.querySelector(t)}$$(t){return this.document.querySelectorAll(t)}emitNative(t,e){console.warn('this.emitNative() is deprecated. Use this.emit(). "'.concat(this.__src,'"')),this.emit(t,e)}emit(t,e){this.dispatchEvent(new CustomEvent(t,{cancelable:!1,bubbles:!1,detail:e}))}},zn;if(typeof window<"u"){class l extends HTMLElement{constructor(){super(),this.AddAttributes=!1,this.ShadowDOM="open",this.MutationObserverOptions={childList:!0},this.baseInit(),this.init&&this.init(),this.document=["open","closed"].includes(this.ShadowDOM)?this.attachShadow({mode:this.ShadowDOM}):this,this.htmlInit(),this.slotChange&&(this._slot_observer=new MutationObserver(t=>this.slotChange(t)),this._slot_observer.observe(this,this.MutationObserverOptions))}get slotted(){let t=this.document.querySelector("slot");return t?t.assignedElements():[]}get element(){return this.ShadowDOM?this.document.host:this.document}}zn=class extends Es(gn(l)){}}var Ol=class{constructor(){if(this.document=document.querySelector(this.container),!this.document)throw'i.js: target container "'.concat(this.container,'" not found');this.baseInit(),this.htmlInit(),this.init&&this.init(),this.connectedCallback()}get element(){return this.document}},Hl=class extends Es(gn(Ol)){},jl=class{constructor(l,c){if(this._BASE_ELEMENT=!0,this.document={_childNodes:[],__rendererName:this.__rendererName},this._childNodes=[],this._eventListeners={},this.parent=l,this.baseInit(),this.renderer&&!this.__rendererHTML&&this.__rendererName!==this.parent.__rendererName)throw"ui.js diffferent renderers ".concat(this.__rendererName," and ").concat(this.parent.__rendererName);this.onReady=new Promise(async t=>{var e,s,r;(e=this.renderer)!=null&&e.onReady&&await this.renderer.onReady,(s=this.parent)!=null&&s.onReady&&await this.parent.onReady,(r=this.renderer)!=null&&r.onConnect&&await this.renderer.onConnect(this),this.document.renderer=this.renderer,this.document.parent=this.document,this.init&&await this.init(),ve(this.document,this.component,{state:this.state}),t(),this.is_connected=!0,this.connected&&await this.connected()})}setAttribute(l,c){this.attributeChangedCallback(l,void 0,c)}emit(l,c){this._eventListeners[l]&&this._eventListeners[l].forEach(t=>t.cb(new CustomEvent(l,{cancelable:!1,bubbles:!1,detail:c})))}addEventListener(l,c,t){this._eventListeners[l]||(this._eventListeners[l]=[]);let e=this._eventListeners[l].find(r=>r.callback===c),s=(...r)=>c.call(this,...r);e||this._eventListeners[l].push({callback:c,cb:s})}removeEventListener(l,c){if(!this._eventListeners[l])return;let t=this._eventListeners[l].findIndex(e=>e.callback===c);t!==-1&&this._eventListeners[l].splice(t,1)}async remove(){for(await this.disconnectedCallback();this.document._childNodes.length;)await this.document._childNodes[this.document._childNodes.length-1].remove();this.renderer.onDisconnect&&await this.renderer.onDisconnect(this);let l=this.parent._childNodes.findIndex(c=>c==this);if(l!==-1)this.parent._childNodes.splice(l,1);else throw"Element not found"}after(l){this.renderer.insertAfter(this,l)}before(l){this.renderer.insertBefore(this,l)}},$l=class extends gn(jl){},Vr=(l,c=0)=>{for(var t=3735928559^c,e=1103547991^c,s=0,r;s<l.length;s++)r=l.charCodeAt(s),t=Math.imul(t^r,2654435761),e=Math.imul(e^r,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(e^e>>>13,3266489909),e=Math.imul(e^e>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&e)+(t>>>0)};function Qe(l,c){return"ui-"+String(Vr(c||l.trim())).replaceAll("-","i")}var Rn={},Nl=l=>l.split("-").map(c=>c.slice(0,1).toUpperCase()+c.slice(1)).join(""),Ul=l=>((c,t)=>JSON.stringify(l,(e,s)=>typeof s=="function"?t.push(s)&&c:s).replace(new RegExp('"'+c+'"',"g"),e=>t.shift()))("____"+Ea(50)+"____",[]),Rl=(l,c)=>{if(Rn[l])return Rn[l];let t=URL.createObjectURL(new Blob([String.raw({raw:c})],{type:"text/javascript"}));return Rn[l]=t,t},In=(l,c,t,e)=>l.reduce((s,r)=>{let o=c?r.path[0]==="@"?r.path:"i.js:"+(r.path[0]==="/"?t:t+e)+"/"+r.path:Rl(r.path,r.src);return r.type==="*"?s+"const "+r.import+" = {...(await import(`"+o+"`))};\n":r.type==="object"?s+"const "+r.import+" =  (await import(`"+o+"`));\n":s+"const "+r.import+" =  (await import(`"+o+"`)).default;\n"},"");function Bn(l,c,{inFunc:t=!1,parent:e}){let s=Object.values(Je).filter(M=>M.processStyle).reduce((M,P)=>P.processStyle(M),l.style||""),r=l.walt?Je.walt.compileWalt(l.walt):"undefined",o="{".concat((l.state||"").trim(),"}"),a=c!=="customElement"?"":new Function("return 'static get observedAttributes() { return '+JSON.stringify(Object.keys(".concat(o,"))+' }'"))(),i=Nl(l.name),n=Ul(al(l.template,l.tag||[])),d=l.container?'get container()         { return "'.concat(l.container,'" }'):"";var T="";if(l.renderer){let M=l.renderer[0].split(" ");if(T='get __rendererName(){ return "'+M[0]+'" }',M.length==2){var L=!0;T+="\nget __rendererHTML(){ return true }"}else T+="\nget renderer(){ return this.parent?.renderer }"}let N="\n\n        ".concat(l.static||"",";\n        class ").concat(i," extends ").concat(c," {\n            ").concat(a,"\n            get nanoapp()           { return ").concat(JSON.stringify(l.nanoapp)," }\n            get initial_state()     { return ").concat(o," }\n            get initial_component() { return ").concat(n," }\n            get css()               { return `").concat(s,"`; }\n            get __walt()            { return ").concat(r,' }\n            get __src()             { return "').concat(l.src,'" }\n            ').concat(T,"\n            ").concat(d,"\n            ").concat(l.class||"","\n        };\n    ");switch(c){case"customElement":let M="\n                ".concat(l.import?In(l.import,l.nodePath,l.BASE_URL,l.path):"","\n                if(!customElements.get('").concat(l.name,"')) {\n                    ").concat(N,"\n                    customElements.define('").concat(l.name,"', ").concat(i,");\n                    window['UIjs'].tags['").concat(l.name,"'] = true;\n                };");return t?";(async () => {".concat(M,"})();"):M;case"uiElement":let P="\n                ".concat(l.import?In(l.import,l.nodePath,l.BASE_URL,l.path):"","\n                ").concat(N," return new ").concat(i,'("').concat("parentparentparent:"+e,'");');return t?";(async () => {".concat(P,"})();"):P;case"baseElement":let Y="\n                ".concat(l.import?In(l.import,l.nodePath,l.BASE_URL,l.path):"","\n                ").concat(N," ;window['UIjs'].tags['").concat(l.name,"'] = ").concat(i,";");return t?";(async () => {".concat(Y,"})();"):Y}}async function Il(l,c,t){let e=Qe(l.innerText);await Pe(l.innerText,{name:e,path:c,nanoapp:t}),l.replaceWith(document.createElement(e))}async function vs(l,c,t,e,s,r){await Pe(l,{name:c,path:t,nanoapp:e,src:r})}function Yr(l,c){return l.startsWith("/https://")&&(l=l.replace("/https://","https://")),typeof window<"u"&&window.nanoapp_base_path&&!l.startsWith(window.nanoapp_base_path)?window.nanoapp_base_path+"/app"+l:l}async function Ps(l,c){if(window.document.location.protocol=="file:"){console.error("WARNING!!! ui.js cannot fetch external resources from a 'local' filesystem: \"file://".concat(l,'"'));var t=await fetch(Yr(l,c),{mode:"no-cors"}).catch(e=>!1)}else var t=await fetch(Yr(l,c)).catch(s=>!1);return t}async function Gr(l,c,t){if(c)return await c(l);let e=await Ps(l,t);if(e===!1)throw"i.js  \u2764\uFE0F error loading "+l;return(await e.text()).trim()}async function Ls(l,c,t="",e){if(fe[l])return!0;let s=c.substr(-4)===".tag"?c:c+".tag",r=c[0]!=="/"?ce(t+s):s,o=await Ps(r,e);if(o===!1)throw"i.js  \u2764\uFE0F error loading "+s;let a=r.substring(0,r.lastIndexOf("/"))+"/";await vs(await o.text(),l,a,e,a,c)}async function Bl(l,c,t){await Pe(l.innerText,{name:Qe(l.innerText),path:t,container:c})}function ce(l){return typeof window>"u"?l:new URL(l,document.baseURI).pathname}async function ws({source:l,path:c,keepName:t,nodeFetch:e,nodePath:s,BASE_URL:r}){let o=t?c.split("/").pop().split(".")[0]:Qe(c);return{name:o,compiled:await Pe(l,{name:o,path:c.substring(0,c.lastIndexOf("/"))+"/",bundle:!0,nodeFetch:e,nodePath:s,BASE_URL:r})}}async function Pe(l,c={}){let t=await yl(l);if(!c.name)throw"name is undefined !!!";t.name=c.name||"i-component",t.path=c.path,t.src=c.src,t.container=c.container||"",t.nodePath=c.nodePath?c.nodePath:void 0,t.BASE_URL=c.BASE_URL,t.nanoapp=c.nanoapp||[];let e=c.nodeFetch||void 0;var s="";if(t.style&&(t.style=t.style.trim(),t.style.length&&(s=t.style)),t.css)for(let r of t.css){let o=r[0]!=="/"?ce(t.path+r):r,a=await Gr(o,e,t.nanoapp);a.length&&(s+="\n"+a)}if(t.style=s.replaceAll("`","`").trim(),t.tag)for(let r of t.tag){let o=r.path;o=o.substr(-4)===".tag"?o:o+".tag",e?o=ce(o[0]==="/"?o:t.path+o):o=ce(r.path[0]==="/"?o:t.path+o);let a=Qe(o);if(r.name=a,e)r.src=await e(o);else{let i=t.nanoapp&&t.nanoapp.children&&t.nanoapp.children.find(n=>"@"+n.alias===r.alias);i&&(o.startsWith("/!"+i.alias+".tag")&&o.split("/").length==2?o=window.nanoapp_base_path+o.replace("/!"+i.alias+".tag","/imports/"+i.child_release+"/index.tag"):o.startsWith("/!"+i.alias+"/")&&(o=window.nanoapp_base_path+o.replace("/!"+i.alias+"/","/imports/"+i.child_release+"/"))),await Ls(a,o,t.path,i||t.nanoapp)}}if(t.import&&!e)for(let r of t.import){let o=r.path[0]!=="/"?ce(t.path+r.path):r.path;r.path=o;let a=await Gr(o,e,t.nanoapp);r.src=a}if(fe[t.name]=!0,t.renderer&&t.renderer[0].split(" ").length==1){let r=Bn(t,"baseElement",{inFunc:!1});return await new Un("baseElement",r)($l)}else if(t.container){let r=Bn(t,"uiElement",{inFunc:!1});return await new Un("uiElement",r)(Hl)}else{let r=Bn(t,"customElement",{inFunc:!0});if(c.bundle){if(t.tag){let o="";for(let a of t.tag)if(fe[a.name])console.log("              <".concat(a.name,"> skipped"));else{let i=a.path.substr(-4)===".tag"?a.path:a.path+".tag";i[0]!=="/"&&(i=t.path+i);let{name:n,compiled:d}=await ws({source:a.src,path:i,name:a.name,nodePath:ce(t.nodePath+t.path),BASE_URL:t.BASE_URL,nodeFetch:e});o+=d}return o+r}return r}await new Un("customElement",r)(zn)}}function Fl(l,c){l.innerText.trim().length&&console.warn('ui.js warning: contents of "<script type=ui '.concat(c.map(t=>t.name).join(" "),'> will be ignored"'))}function Wr(l,c){l.innerText.trim().length||console.warn('ui.js warning: empty "<script type=ui '.concat(c.map(t=>t.name).join(" "),'>"'))}async function Dl(){let l=Array.from(document.querySelectorAll('script[type="ui"],script[type="i"]'));try{for(let c of l){let t=window.location.pathname,e=t.substring(0,t.lastIndexOf("/"))+"/",s=Array.prototype.slice.call(c.attributes).map(a=>({name:a.name,value:c.getAttribute(a.name).trim()})),r=s.find(a=>a.name==="target"&&a.value.length);if(r){s.length>2&&console.warn('ui.js warning: all other attributes for "<script type=ui target="'.concat(r.value,'"> will be ignored"')),await Bl(c,r.value,e),c.remove();continue}let o=s.filter(a=>a.name.includes("-"));if(o.length>1)throw'ui.js ERROR: more then one attribute with hyphens "<script '.concat(o.map(a=>a.name).join(" "),'>"');o.length===1?(o[0].value?(Fl(c,s),await Ls(o[0].name,o[0].value,e,typeof window<"u"&&window.nanoapp_dependencies)):(Wr(c,s),await vs(c.innerText,o[0].name,e,typeof window<"u"&&window.nanoapp_dependencies)),c.remove()):(Wr(c,s),await Il(c,e))}}catch(c){throw new Aa(c)}}var Fn="0.7.2-dev";!Fn.endsWith("-dev")&&console.log("ui.js \u2764\uFE0F ".concat(Fn," alpha experiment. Make user interfaces great again!"));var kl={VERSION:Fn,tags:fe,customElement:zn,createTag:Pe,compile:ws,plugins:Je};typeof window<"u"&&(window.UIjs=kl,document.addEventListener("DOMContentLoaded",Dl));var{customElement:Ot}=window.UIjs;(async()=>{if(!customElements.get("ui-2314403337414734")){class l extends Ot{static get observedAttributes(){return["category","selected","menu"]}get nanoapp(){return[]}get initial_state(){return{category:void 0,selected:void 0,menu:[]}}get initial_component(){return[{tag:"aside",children:[{tag:"ul",children:[{tag:"li",children:[{tag:"header",events:{click:async(t,{state:e,category:s},r)=>{e.category=e.category!==s.caption?s.caption:void 0,this.render()}},attrsR:{},context:["state","category"],text:({state:t,category:e})=>e.caption,enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"ul",children:[{tag:"li",key:t=>t.url,loop_fn:"category.items",loop_alias:"item",enterStyles:({state:t,category:e,item:s})=>({"padding-left":{to:"50px",ease:"easeOutBounce"}}),events:{click:async(t,{state:e,category:s,item:r},o)=>{e.selected=r,this.emit("select",r),this.render()}},attrs2:{class:({state:t,category:e,item:s})=>t.selected===s&&"active"},attrsB:{},attrsR:{},context:["state","category","item"],loop:({state:t,category:e})=>e.items,text:({state:t,category:e,item:s})=>s.caption,attrs3:{class:({state:t,category:e,item:s})=>t.selected===s&&"active"},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){Object.entries(e.enterStyles(s)).forEach(([o,a])=>{var i;if(Array.isArray(a))throw"not implemented";typeof a=="object"?(t._styleV[o]=a.to,r.animateCSS(t,o,a)):(t._styleV[o]=a,(i=t._styles[o])!=null&&i.cancel&&t._styles[o].cancel(),t.style.setProperty(o,a))})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n={},d=new Map,T=[],L=s;return a.forEach((N,M)=>{var P=i.createElement(t,e);P.key=t.key(N,M),n[P.key]=!0,T.push(P),r[t.loop_alias]=N,t.loop_key_alias&&(r[t.loop_key_alias]=M),t.enterProps&&t.enterProps(P,t,r,i),t.children?i.Enter_Children(P,t.children,r):(t.text&&(typeof t.text=="function"?P.textContent=P.__lastText=t.text(r):P.textContent=P.__lastText=t.text),t.html&&(typeof t.html=="function"?P.innerHTML=P.__lastHTML=t.html(r):P.innerHTML=P.__lastHTML=t.html)),M===0&&!L?i.prependElement(e,P):L.after(P),L=P}),e.__i__[o]={length:a.length,exit:d,elements:T,keys:n},L}}],if:({state:t,category:e})=>e.caption===t.category,attrsR:{},context:["state","category"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}}],key:t=>t.caption,loop_fn:"state.menu",loop_alias:"category",attrs2:{class:({state:t,category:e})=>t.category===e.caption&&"active"},attrsB:{},attrsR:{},context:["state","category"],loop:({state:t})=>t.menu,attrs3:{class:({state:t,category:e})=>t.category===e.caption&&"active"},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n={},d=new Map,T=[],L=s;return a.forEach((N,M)=>{var P=i.createElement(t,e);P.key=t.key(N,M),n[P.key]=!0,T.push(P),r[t.loop_alias]=N,t.loop_key_alias&&(r[t.loop_key_alias]=M),t.enterProps&&t.enterProps(P,t,r,i),t.children?i.Enter_Children(P,t.children,r):(t.text&&(typeof t.text=="function"?P.textContent=P.__lastText=t.text(r):P.textContent=P.__lastText=t.text),t.html&&(typeof t.html=="function"?P.innerHTML=P.__lastHTML=t.html(r):P.innerHTML=P.__lastHTML=t.html)),M===0&&!L?i.prependElement(e,P):L.after(P),L=P}),e.__i__[o]={length:a.length,exit:d,elements:T,keys:n},L}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}},{tag:"main",children:[{tag:"slot",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}}]}get css(){return":host {\n        font-family: sans-serif;\n        padding: 0;\n        margin: 0;\n        text-rendering: optimizeLegibility;\n        -webkit-font-smoothing: antialiased;\n    }\n    main {\n        position: absolute;\n        width: calc(100% - 240px);\n        height: 100%;\n        right:0;\n    }\n    aside {\n        color: white;\n        width: 240px;\n        height: 100%;\n        background: #558361;\n        position: absolute;\n        font-size: 14px;\n        user-select: none;\n        -webkit-user-select: none;\n    }\n    ul {\n        margin: 0;\n        padding: 0;\n    }\n    li {\n        margin-left: 0;\n        cursor: pointer;\n        list-style-type: none;\n        border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n    }\n    aside > ul > li > ul > li {\n        padding-left: 30px;\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-bottom: none;\n        opacity: 0.7;\n        background: #3b5943;\n    }\n    ul > li.active {\n        font-weight: bold;\n    }\n    aside > ul > li > ul > li.active {\n        opacity: 1;\n    }\n    aside > ul > li > ul > li:hover {\n        color: yellow;\n    }\n    header {\n        padding-top: 15px;\n        padding-bottom: 15px;\n        margin-left: 15px;\n    }"}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-2314403337414734",l),window.UIjs.tags["ui-2314403337414734"]=!0}})();(async()=>{if(!customElements.get("ui-3905478679869311")){class l extends Ot{static get observedAttributes(){return[]}get nanoapp(){return[]}get initial_state(){return{}}get initial_component(){return[{tag:"#text",content:"\nHello world",context:["state"],enter:function(e,s,r,o,a){return e.element=document.createTextNode(e.content),r?r.after(e.element):s.prepend(e.element),s.__i__[a]={exit:!1},e.element}}]}get css(){return""}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-3905478679869311",l),window.UIjs.tags["ui-3905478679869311"]=!0}})();(async()=>{if(!customElements.get("ui-858035447839795")){let t=function(a,i,n,d,T,L){var N=0;for(let M=n;M<n+L;M++){if(M>=a.length)return;for(let P=d;P<Math.min(i,d+T);P++)a[M][P]||N++}if(N==T*L){for(let M=n;M<n+L;M++)for(let P=d;P<d+T;P++)a[M][P]=!0;return!0}},e=function(a,i,n,d){for(let T=0;T<a.length;T++)for(let L=0;L<Math.min(i,a[T].length);L++)if(!a[T][L]&&t(a,i,T,L,n,d))return{row:T,col:L};return a.push(new Array(i).fill(!1)),e(a,i,n,d)};var l=t,c=e;let s=(a,i,n,d,T)=>{if(!a.state.animation)return i.style.setProperty(n,d+"px");i._spring||(i._spring={}),i._spring[n]?i._spring[n].set(d):(i._spring[n]=new a.Spring({target:d,current:T||d,stiffness:a.state.enter_stiffness,damping:a.state.enter_damping,mass:a.state.enter_mass,delta:1,callback:L=>i.style.setProperty(n,L+"px"),done:()=>{i._spring[n]&&(delete i._spring[n].done,i._spring[n].stiffness=a.state.stiffness,i._spring[n].mass=a.state.mass,i._spring[n].damping=a.state.damping)}}),i.style.setProperty(n,d+"px"))},r=a=>{a.sections.forEach((i,n)=>Object.keys(i._spring).forEach(d=>{i._spring[d].stiffness=a.state.stiffness,i._spring[d].mass=a.state.mass,i._spring[d].damping=a.state.damping}))};class o extends Ot{static get observedAttributes(){return["width","padding","animation","stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"]}get nanoapp(){return[]}get initial_state(){return{width:200,padding:10,animation:!1,stiffness:4,damping:.7,mass:.1,enter_stiffness:10,enter_damping:.8,enter_mass:.05}}get initial_component(){return[{tag:"slot",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(i,n,d,T){return i}],enter:(i,n,d,T,L,N,M)=>{var P=M.createElement(i,n);return i.enterProps&&i.enterProps(P,i,T,M),i.text&&(typeof i.text=="function"?P.textContent=P.__lastText=i.text(T):P.textContent=P.__lastText=i.text),i.html&&(typeof i.html=="function"?P.innerHTML=P.__lastHTML=i.html(T):P.innerHTML=P.__lastHTML=i.html),M.insertElement(n,P,d),n.__i__[L]={exit:!1},P}}]}get css(){return":host {\n        display: block;\n        position: relative;\n        width: 100%;\n        box-sizing: border-box;\n    }\n    ::slotted(section) {\n        position: absolute;\n        box-sizing: border-box;\n        background: white;\n        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.05), 0 6px 20px 0 rgba(0, 0, 0, 0.02);\n    }"}get __walt(){}get __src(){return"undefined"}redraw(){var M;if(!((M=this.sections)!=null&&M.length))return;let i=Number(this.state.width),n=Number(this.state.padding),d=this.element.offsetWidth-n,T=d>Number(this.state.width)?d/Math.floor(d/i):d,L=[],N=Math.floor(d/T);this.sections.forEach(P=>{var Y=Number(P.getAttribute("w"))||1;let W=Number(P.getAttribute("h"))||1;Y>N&&(Y=N);let{col:B,row:E}=e(L,N,Y,W),ft=Y*T,ht=W*T,St=B*T,mt=E*T,dt=St+n,bt=mt+n,vt=ft-n,Kt=ht-n,Ut=(ft-n)/2,Ht=(ht-n)/2;s(this,P,"left",dt,dt+Ut/2),s(this,P,"top",bt,bt+Ht/2),s(this,P,"width",vt,Ut),s(this,P,"height",Kt,Ht)}),this.lastColumnCount=N,this.element.style.setProperty("height",L.length*T+n+"px")}init(){this.MutationObserverOptions.attributes=!0}slotChange(){this.sections=this.slotted.filter(i=>i.nodeName==="SECTION"),this.sections.forEach((i,n)=>{let d=i.setAttribute;i.setAttribute=(T,L)=>{d.apply(i,[T,L]),(T==="h"||T==="w")&&this.redraw()}}),this.redraw()}changed(i){(i.width||i.padding)&&this.redraw(),["stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"].some(n=>i[n])&&r(this)}connected(){let i=(n,d)=>{let T,L=Date.now()-(d+1);return function(...N){let M=this;clearTimeout(T),T=setTimeout(()=>{n.apply(M,N),L=Date.now()},d-(Date.now()-L))}};this.on("resize",i(this.redraw,100)),this.slotChange()}}customElements.define("ui-858035447839795",o),window.UIjs.tags["ui-858035447839795"]=!0}})();(async()=>{if(!customElements.get("ui-513309451367658")){class l extends Ot{static get observedAttributes(){return["padding","width","animation","flag","size","mysec","stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"]}get nanoapp(){return[]}get initial_state(){return{padding:10,width:200,animation:!0,flag:!0,size:1,mysec:[{name:"Swap 1",width:10,color:"#4be96e"},{name:"Swap 2",width:20,color:"#d78d2f"},{name:"Swap 3",width:40,color:"#319dba"}],stiffness:4,damping:.7,mass:.1,enter_stiffness:10,enter_damping:.8,enter_mass:.05}}get initial_component(){return[{tag:"ui-858035447839795",children:[{tag:"section",children:[{tag:"button",events:{click:async(t,{state:e},s)=>{e.animation=!e.animation,this.render()}},attrsR:{},context:["state"],text:({state:t})=>"Animation: "+t.animation,enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"button",events:{click:async(t,{state:e},s)=>{e.flag=!e.flag,this.render()}},attrsR:{},text:"Toggle #3",context:["state"],enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"button",events:{click:async(t,{state:e},s)=>{[e.mysec[0],e.mysec[1]]=[e.mysec[1],e.mysec[0]],this.render()}},attrsR:{},text:"Swap sections 1",context:["state"],enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"button",events:{click:async(t,{state:e},s)=>{[e.mysec[0],e.mysec[2]]=[e.mysec[2],e.mysec[0]],this.render()}},attrsR:{},text:"Swap sections 2",context:["state"],enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"button",events:{click:async(t,{state:e},s)=>{e.width=e.width==200?250:200,this.render()}},attrsR:{},context:["state"],text:({state:t})=>"Width: "+t.width,enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>1,max:({state:t})=>4,value:({state:t})=>t.size},attrsB:{},attrsR:{value:"state.size"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.size=t.target.value}},attrs3:{min:({state:t})=>1,max:({state:t})=>4,value:({state:t})=>t.size},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"#2 height = "+t.size,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>0,max:({state:t})=>20,value:({state:t})=>t.padding,step:({state:t})=>10},attrsB:{},attrsR:{value:"state.padding"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.padding=t.target.value}},attrs3:{min:({state:t})=>0,max:({state:t})=>20,value:({state:t})=>t.padding,step:({state:t})=>10},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"padding = "+t.padding,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}},{tag:"section",children:[{tag:"b",text:"Update animation settings",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.stiffness},attrsB:{},attrsR:{value:"state.stiffness"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.stiffness=t.target.value}},attrs3:{min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.stiffness},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Stiffness = "+t.stiffness,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.damping},attrsB:{},attrsR:{value:"state.damping"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.damping=t.target.value}},attrs3:{min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.damping},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Damping = "+t.damping,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.mass},attrsB:{},attrsR:{value:"state.mass"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.mass=t.target.value}},attrs3:{min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.mass},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Mass = "+t.mass,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"b",text:"Enter animation settings",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"button",events:{click:async(t,{state:e},s)=>{e.flag=!e.flag,this.render()}},attrsR:{},text:"Enter/exit #3",context:["state"],enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.enter_stiffness},attrsB:{},attrsR:{value:"state.enter_stiffness"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.enter_stiffness=t.target.value}},attrs3:{min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.enter_stiffness},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Stiffness = "+t.enter_stiffness,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.enter_damping},attrsB:{},attrsR:{value:"state.enter_damping"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.enter_damping=t.target.value}},attrs3:{min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.enter_damping},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Damping = "+t.enter_damping,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.enter_mass},attrsB:{},attrsR:{value:"state.enter_mass"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.enter_mass=t.target.value}},attrs3:{min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.enter_mass},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Mass = "+t.enter_mass,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}}],style:({state:t})=>({"text-align":"left"}),attrs2:{w:({state:t})=>2,h:({state:t})=>t.size},attrsB:{},attrsR:{},context:["state"],attrs3:{w:({state:t})=>2,h:({state:t})=>t.size},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){Object.entries(e.style(s)).forEach(([o,a])=>{t._styleV[o]=a,t.style.setProperty(o,a)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){Object.entries(e.style(s)).forEach(([o,a])=>{t._styleV[o]!==a&&(t._styleV[o]=a,t.style.setProperty(o,a))})}],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){Object.entries(e.style(s)).forEach(([o,a])=>{t._styleV[o]!==a&&(t._styleV[o]=a,t.style.setProperty(o,a))})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}},{tag:"section",if:({state:t})=>t.flag,attrs2:{w:({state:t})=>3,h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #3\n    ",context:["state"],attrs3:{w:({state:t})=>3,h:({state:t})=>2},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",attrs2:{w:({state:t})=>4},attrsB:{},attrsR:{},text:"\n        #4\n    ",context:["state"],attrs3:{w:({state:t})=>4},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",attrs2:{w:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #5\n    ",context:["state"],attrs3:{w:({state:t})=>2},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",attrs2:{h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #6\n    ",context:["state"],attrs3:{h:({state:t})=>2},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",key:t=>t.name,loop_fn:"state.mysec",loop_alias:"item",loop_key_alias:"i",style:({state:t,item:e,i:s})=>({background:e.color,border:e.width+"px dashed #00000033"}),attrsR:{},context:["state","item","i"],loop:({state:t})=>t.mysec,text:({state:t,item:e,i:s})=>e.name,enterProps:[function(t,e,s,r){Object.entries(e.style(s)).forEach(([o,a])=>{t._styleV[o]=a,t.style.setProperty(o,a)})}],updateProps:[function(t,e,s,r){Object.entries(e.style(s)).forEach(([o,a])=>{t._styleV[o]!==a&&(t._styleV[o]=a,t.style.setProperty(o,a))})}],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){Object.entries(e.style(s)).forEach(([o,a])=>{t._styleV[o]!==a&&(t._styleV[o]=a,t.style.setProperty(o,a))})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n={},d=new Map,T=[],L=s;return a.forEach((N,M)=>{var P=i.createElement(t,e);P.key=t.key(N,M),n[P.key]=!0,T.push(P),r[t.loop_alias]=N,t.loop_key_alias&&(r[t.loop_key_alias]=M),t.enterProps&&t.enterProps(P,t,r,i),t.children?i.Enter_Children(P,t.children,r):(t.text&&(typeof t.text=="function"?P.textContent=P.__lastText=t.text(r):P.textContent=P.__lastText=t.text),t.html&&(typeof t.html=="function"?P.innerHTML=P.__lastHTML=t.html(r):P.innerHTML=P.__lastHTML=t.html)),M===0&&!L?i.prependElement(e,P):L.after(P),L=P}),e.__i__[o]={length:a.length,exit:d,elements:T,keys:n},L}},{tag:"section",attrs2:{h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #8\n    ",context:["state"],attrs3:{h:({state:t})=>2},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",attrs2:{w:({state:t})=>2,h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #9\n    ",context:["state"],attrs3:{w:({state:t})=>2,h:({state:t})=>2},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",text:"\n        #10\n    ",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",text:"\n        #11\n    ",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",attrs2:{h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #12\n    ",context:["state"],attrs3:{h:({state:t})=>2},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",text:"\n        #13\n    ",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}}],attrs2:{width:({state:t})=>t.width,animation:({state:t})=>t.animation,padding:({state:t})=>t.padding,stiffness:({state:t})=>t.stiffness,damping:({state:t})=>t.damping,mass:({state:t})=>t.mass,enter_stiffness:({state:t})=>t.enter_stiffness,enter_damping:({state:t})=>t.enter_damping,enter_mass:({state:t})=>t.enter_mass},attrsB:{},attrsR:{},context:["state"],attrs3:{width:({state:t})=>t.width,animation:({state:t})=>t.animation,padding:({state:t})=>t.padding,stiffness:({state:t})=>t.stiffness,damping:({state:t})=>t.damping,mass:({state:t})=>t.mass,enter_stiffness:({state:t})=>t.enter_stiffness,enter_damping:({state:t})=>t.enter_damping,enter_mass:({state:t})=>t.enter_mass},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}}]}get css(){return':host {\n        display: block;\n        position: relative;\n        width: 100%;\n        min-height: 100%;\n        height: fit-content;\n        box-sizing: border-box;\n        font: 12px arial;\n    }\n    section {\n        padding: 5px;\n        text-align: center;\n        border-color: #00000033;\n        border-style: solid;\n        border-width: 10px;\n    }\n    input[type="range"] {\n        width: 70px;\n    }\n    button {\n        width: 100%;\n    }\n    section:nth-child(8n+1) { background-color: #75c18177; }\n    section:nth-child(8n+2) { background-color: #B5222D77; }\n    section:nth-child(8n+3) { background-color: #F88C3077; }\n    section:nth-child(8n+4) { background-color: #58bbee77; }\n    section:nth-child(8n+5) { background-color: #8A40A777; }\n    section:nth-child(8n+6) { background-color: #D4953C77; }\n    section:nth-child(8n+7) { background-color: #94816077; }\n    section:nth-child(8n+8) { background-color: #33949677; }'}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-513309451367658",l),window.UIjs.tags["ui-513309451367658"]=!0}})();(async()=>{if(!customElements.get("ui-2217253415213956")){let t=function(s){for(let r=s.length-1;r>0;r--){let o=Math.floor(Math.random()*(r+1));[s[r],s[o]]=[s[o],s[r]]}return s};var c=t,l="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");class e extends Ot{static get observedAttributes(){return["alphabet"]}get nanoapp(){return[]}get initial_state(){return{alphabet:[]}}get initial_component(){return[{tag:"h1",enterStyles:({state:r})=>({color:{to:"white"}}),attrsR:{},text:"Enter / Update / Exit / Restore pattern demo",context:["state"],enterProps:[function(r,o,a,i){Object.entries(o.enterStyles(a)).forEach(([n,d])=>{var T;if(Array.isArray(d))throw"not implemented";typeof d=="object"?(r._styleV[n]=d.to,i.animateCSS(r,n,d)):(r._styleV[n]=d,(T=r._styles[n])!=null&&T.cancel&&r._styles[n].cancel(),r.style.setProperty(n,d))})}],updateProps:[],Update_Tag:[function(r,o,a,i){return r}],enter:(r,o,a,i,n,d,T)=>{var L=T.createElement(r,o);return r.enterProps&&r.enterProps(L,r,i,T),r.text&&(typeof r.text=="function"?L.textContent=L.__lastText=r.text(i):L.textContent=L.__lastText=r.text),r.html&&(typeof r.html=="function"?L.innerHTML=L.__lastHTML=r.html(i):L.innerHTML=L.__lastHTML=r.html),T.insertElement(o,L,a),o.__i__[n]={exit:!1},L}},{tag:"b",key:r=>r,loop_fn:"state.alphabet",loop_alias:"letter",loop_key_alias:"i",enterStyles:({state:r,letter:o,i:a})=>({"font-size":{default:"12px",to:"48px"},color:{to:"#FF0000",duration:1500},opacity:{default:0,to:1,duration:1500},left:{default:"400px",to:400-r.alphabet.length*15+a*30+"px",ease:"easeInOutQuint",duration:1300+a*30},top:{default:"0px",to:"280px",ease:"easeInOutQuint",duration:1300+a*30}}),updateStyles:({state:r,letter:o,i:a})=>({color:{to:"#0088FF"},left:{to:400-r.alphabet.length*15+a*30+"px",ease:"easeOutBounce"}}),exitStyles:({state:r,letter:o,i:a})=>({"font-size":{to:"12px",duration:1e3},color:{to:"#CCCCCC",duration:1e3},top:{to:"550px",duration:3e3+Math.random()*2e3,ease:"easeOutBounce"}}),events:{click:async(r,{state:o,letter:a,i},n)=>{o.alphabet.splice(i,1),this.render()},mouseover:async(r,{state:o,letter:a,i},n)=>{o.alphabet.splice(i,1),this.render()}},attrsR:{},context:["state","letter","i"],loop:({state:r})=>r.alphabet,text:({state:r,letter:o,i:a})=>o,enterProps:[function(r,o,a,i){Object.entries(o.enterStyles(a)).forEach(([n,d])=>{var T;if(Array.isArray(d))throw"not implemented";typeof d=="object"?(r._styleV[n]=d.to,i.animateCSS(r,n,d)):(r._styleV[n]=d,(T=r._styles[n])!=null&&T.cancel&&r._styles[n].cancel(),r.style.setProperty(n,d))})},function(r,o,a,i){r.__datum={...a},Object.entries(o.events).forEach(([n,d])=>{r._events[n]=T=>d(T,r.__datum,r),r.addEventListener(n,r._events[n])})}],updateProps:[function(r,o,a,i){Object.entries(o.updateStyles(a)).forEach(([n,d])=>{var T;typeof d=="object"?r._styleV[n]!==d.to&&(d!=null&&d.skip||(r._styleV[n]=d.to,d!=null&&d.disabled?((T=r._styles[n])!=null&&T.cancel&&r._styles[n].cancel(),r.style.setProperty(n,d.to)):i.animateCSS(r,n,d))):r._styleV[n]!==d&&(r._styleV[n]=d,r.style.setProperty(n,d))})},function(r,o,a,i){r.__datum={...a}}],Update_Tag:[function(r,o,a,i){var n=o.text(a);if(!r){console.log("NOT element.__lastText",r),console.trace();return}r.__lastText!==n&&(r.textContent=r.__lastText=n)},function(r,o,a,i){Object.entries(o.updateStyles(a)).forEach(([n,d])=>{var T;typeof d=="object"?r._styleV[n]!==d.to&&(d!=null&&d.skip||(r._styleV[n]=d.to,d!=null&&d.disabled?((T=r._styles[n])!=null&&T.cancel&&r._styles[n].cancel(),r.style.setProperty(n,d.to)):i.animateCSS(r,n,d))):r._styleV[n]!==d&&(r._styleV[n]=d,r.style.setProperty(n,d))})},function(r,o,a,i){r.__datum={...a}},function(r,o,a,i){return r}],enter:(r,o,a,i,n,d,T)=>{var L={},N=new Map,M=[],P=a;return d.forEach((Y,W)=>{var B=T.createElement(r,o);B.key=r.key(Y,W),L[B.key]=!0,M.push(B),i[r.loop_alias]=Y,r.loop_key_alias&&(i[r.loop_key_alias]=W),r.enterProps&&r.enterProps(B,r,i,T),r.children?T.Enter_Children(B,r.children,i):(r.text&&(typeof r.text=="function"?B.textContent=B.__lastText=r.text(i):B.textContent=B.__lastText=r.text),r.html&&(typeof r.html=="function"?B.innerHTML=B.__lastHTML=r.html(i):B.innerHTML=B.__lastHTML=r.html)),W===0&&!P?T.prependElement(o,B):P.after(B),P=B}),o.__i__[n]={length:d.length,exit:N,elements:M,keys:L},P}},{tag:"i",updateStyles:({state:r})=>({opacity:{from:0,to:1,duration:300,done:o=>{setTimeout(()=>{this.animateCSS("opacity",{element:o,from:1,to:0,duration:300})},1100)}}}),attrsR:{},context:["state"],text:({state:r})=>r.alphabet.join(""),enterProps:[],updateProps:[function(r,o,a,i){Object.entries(o.updateStyles(a)).forEach(([n,d])=>{var T;typeof d=="object"?r._styleV[n]!==d.to&&(d!=null&&d.skip||(r._styleV[n]=d.to,d!=null&&d.disabled?((T=r._styles[n])!=null&&T.cancel&&r._styles[n].cancel(),r.style.setProperty(n,d.to)):i.animateCSS(r,n,d))):r._styleV[n]!==d&&(r._styleV[n]=d,r.style.setProperty(n,d))})}],Update_Tag:[function(r,o,a,i){var n=o.text(a);if(!r){console.log("NOT element.__lastText",r),console.trace();return}r.__lastText!==n&&(r.textContent=r.__lastText=n)},function(r,o,a,i){Object.entries(o.updateStyles(a)).forEach(([n,d])=>{var T;typeof d=="object"?r._styleV[n]!==d.to&&(d!=null&&d.skip||(r._styleV[n]=d.to,d!=null&&d.disabled?((T=r._styles[n])!=null&&T.cancel&&r._styles[n].cancel(),r.style.setProperty(n,d.to)):i.animateCSS(r,n,d))):r._styleV[n]!==d&&(r._styleV[n]=d,r.style.setProperty(n,d))})},function(r,o,a,i){return r}],enter:(r,o,a,i,n,d,T)=>{var L=T.createElement(r,o);return r.enterProps&&r.enterProps(L,r,i,T),r.text&&(typeof r.text=="function"?L.textContent=L.__lastText=r.text(i):L.textContent=L.__lastText=r.text),r.html&&(typeof r.html=="function"?L.innerHTML=L.__lastHTML=r.html(i):L.innerHTML=L.__lastHTML=r.html),T.insertElement(o,L,a),o.__i__[n]={exit:!1},L}}]}get css(){return":host {\n        width:  100%;\n        height: 100%;\n        position: absolute;\n        top:  0;\n        left: 50%;\n        transform: translateX(-50%);\n        user-select: none;\n        -webkit-user-select: none;\n        background:black;\n    }\n    i {\n        position: absolute;\n        color: white;\n        top: 80px;\n        left: 50%;\n    }\n    b {\n        font-family: Courier New;\n        position: absolute;\n        text-align: center;\n        width: 30px;\n        display: block;\n        cursor: pointer;\n    }\n    h1 {\n        font-family: arial;\n        font-size: 12px;\n        opacity: 0.5;\n    }"}get __walt(){}get __src(){return"undefined"}connected(){this.state.alphabet=l,this.render(),setInterval(()=>{this.state.alphabet=t(l).slice(0,Math.floor(Math.random()*26)).sort(),this.render()},2e3)}}customElements.define("ui-2217253415213956",e),window.UIjs.tags["ui-2217253415213956"]=!0}})();(async()=>{if(!customElements.get("ui-js-app")){class l extends Ot{static get observedAttributes(){return["selected","menu"]}get nanoapp(){return[]}get initial_state(){return{selected:void 0,menu:[{caption:"Basics",items:[{caption:"Hello world",page:"hello-world"}]},{caption:"UI.js demo",items:[{caption:"Letters",page:"letters"},{caption:"Masonry",page:"masonry"}]}]}}get initial_component(){return[{tag:"ui-2314403337414734",children:[{tag:"ui-3905478679869311",if:({state:t})=>{var e;return((e=t.selected)==null?void 0:e.page)==="hello-world"},attrsR:{},context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"ui-2217253415213956",if:({state:t})=>{var e;return((e=t.selected)==null?void 0:e.page)==="letters"},attrsR:{},context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"ui-513309451367658",if:({state:t})=>{var e;return((e=t.selected)==null?void 0:e.page)==="masonry"},attrsR:{},context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}}],events:{select:async(t,{state:e},s)=>{e.selected=t.detail,this.render()}},attrs2:{menu:({state:t})=>t.menu},attrsB:{},attrsR:{},context:["state"],attrs3:{menu:({state:t})=>t.menu},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}}]}get css(){return""}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-js-app",l),window.UIjs.tags["ui-js-app"]=!0}})();(async()=>{if(!customElements.get("ui-985958650388124")){class l extends Ot{static get observedAttributes(){return[]}get nanoapp(){return[]}get initial_state(){return{}}get initial_component(){return[{tag:"#text",content:"\nHello world",context:["state"],enter:function(e,s,r,o,a){return e.element=document.createTextNode(e.content),r?r.after(e.element):s.prepend(e.element),s.__i__[a]={exit:!1},e.element}}]}get css(){return""}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-985958650388124",l),window.UIjs.tags["ui-985958650388124"]=!0}})();(async()=>{if(!customElements.get("ui-7065157845591649")){let t=function(s){for(let r=s.length-1;r>0;r--){let o=Math.floor(Math.random()*(r+1));[s[r],s[o]]=[s[o],s[r]]}return s};var c=t,l="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");class e extends Ot{static get observedAttributes(){return["alphabet"]}get nanoapp(){return[]}get initial_state(){return{alphabet:[]}}get initial_component(){return[{tag:"h1",enterStyles:({state:r})=>({color:{to:"white"}}),attrsR:{},text:"Enter / Update / Exit / Restore pattern demo",context:["state"],enterProps:[function(r,o,a,i){Object.entries(o.enterStyles(a)).forEach(([n,d])=>{var T;if(Array.isArray(d))throw"not implemented";typeof d=="object"?(r._styleV[n]=d.to,i.animateCSS(r,n,d)):(r._styleV[n]=d,(T=r._styles[n])!=null&&T.cancel&&r._styles[n].cancel(),r.style.setProperty(n,d))})}],updateProps:[],Update_Tag:[function(r,o,a,i){return r}],enter:(r,o,a,i,n,d,T)=>{var L=T.createElement(r,o);return r.enterProps&&r.enterProps(L,r,i,T),r.text&&(typeof r.text=="function"?L.textContent=L.__lastText=r.text(i):L.textContent=L.__lastText=r.text),r.html&&(typeof r.html=="function"?L.innerHTML=L.__lastHTML=r.html(i):L.innerHTML=L.__lastHTML=r.html),T.insertElement(o,L,a),o.__i__[n]={exit:!1},L}},{tag:"b",key:r=>r,loop_fn:"state.alphabet",loop_alias:"letter",loop_key_alias:"i",enterStyles:({state:r,letter:o,i:a})=>({"font-size":{default:"12px",to:"48px"},color:{to:"#FF0000",duration:1500},opacity:{default:0,to:1,duration:1500},left:{default:"400px",to:400-r.alphabet.length*15+a*30+"px",ease:"easeInOutQuint",duration:1300+a*30},top:{default:"0px",to:"280px",ease:"easeInOutQuint",duration:1300+a*30}}),updateStyles:({state:r,letter:o,i:a})=>({color:{to:"#0088FF"},left:{to:400-r.alphabet.length*15+a*30+"px",ease:"easeOutBounce"}}),exitStyles:({state:r,letter:o,i:a})=>({"font-size":{to:"12px",duration:1e3},color:{to:"#CCCCCC",duration:1e3},top:{to:"550px",duration:3e3+Math.random()*2e3,ease:"easeOutBounce"}}),events:{click:async(r,{state:o,letter:a,i},n)=>{o.alphabet.splice(i,1),this.render()},mouseover:async(r,{state:o,letter:a,i},n)=>{o.alphabet.splice(i,1),this.render()}},attrsR:{},context:["state","letter","i"],loop:({state:r})=>r.alphabet,text:({state:r,letter:o,i:a})=>o,enterProps:[function(r,o,a,i){Object.entries(o.enterStyles(a)).forEach(([n,d])=>{var T;if(Array.isArray(d))throw"not implemented";typeof d=="object"?(r._styleV[n]=d.to,i.animateCSS(r,n,d)):(r._styleV[n]=d,(T=r._styles[n])!=null&&T.cancel&&r._styles[n].cancel(),r.style.setProperty(n,d))})},function(r,o,a,i){r.__datum={...a},Object.entries(o.events).forEach(([n,d])=>{r._events[n]=T=>d(T,r.__datum,r),r.addEventListener(n,r._events[n])})}],updateProps:[function(r,o,a,i){Object.entries(o.updateStyles(a)).forEach(([n,d])=>{var T;typeof d=="object"?r._styleV[n]!==d.to&&(d!=null&&d.skip||(r._styleV[n]=d.to,d!=null&&d.disabled?((T=r._styles[n])!=null&&T.cancel&&r._styles[n].cancel(),r.style.setProperty(n,d.to)):i.animateCSS(r,n,d))):r._styleV[n]!==d&&(r._styleV[n]=d,r.style.setProperty(n,d))})},function(r,o,a,i){r.__datum={...a}}],Update_Tag:[function(r,o,a,i){var n=o.text(a);if(!r){console.log("NOT element.__lastText",r),console.trace();return}r.__lastText!==n&&(r.textContent=r.__lastText=n)},function(r,o,a,i){Object.entries(o.updateStyles(a)).forEach(([n,d])=>{var T;typeof d=="object"?r._styleV[n]!==d.to&&(d!=null&&d.skip||(r._styleV[n]=d.to,d!=null&&d.disabled?((T=r._styles[n])!=null&&T.cancel&&r._styles[n].cancel(),r.style.setProperty(n,d.to)):i.animateCSS(r,n,d))):r._styleV[n]!==d&&(r._styleV[n]=d,r.style.setProperty(n,d))})},function(r,o,a,i){r.__datum={...a}},function(r,o,a,i){return r}],enter:(r,o,a,i,n,d,T)=>{var L={},N=new Map,M=[],P=a;return d.forEach((Y,W)=>{var B=T.createElement(r,o);B.key=r.key(Y,W),L[B.key]=!0,M.push(B),i[r.loop_alias]=Y,r.loop_key_alias&&(i[r.loop_key_alias]=W),r.enterProps&&r.enterProps(B,r,i,T),r.children?T.Enter_Children(B,r.children,i):(r.text&&(typeof r.text=="function"?B.textContent=B.__lastText=r.text(i):B.textContent=B.__lastText=r.text),r.html&&(typeof r.html=="function"?B.innerHTML=B.__lastHTML=r.html(i):B.innerHTML=B.__lastHTML=r.html)),W===0&&!P?T.prependElement(o,B):P.after(B),P=B}),o.__i__[n]={length:d.length,exit:N,elements:M,keys:L},P}},{tag:"i",updateStyles:({state:r})=>({opacity:{from:0,to:1,duration:300,done:o=>{setTimeout(()=>{this.animateCSS("opacity",{element:o,from:1,to:0,duration:300})},1100)}}}),attrsR:{},context:["state"],text:({state:r})=>r.alphabet.join(""),enterProps:[],updateProps:[function(r,o,a,i){Object.entries(o.updateStyles(a)).forEach(([n,d])=>{var T;typeof d=="object"?r._styleV[n]!==d.to&&(d!=null&&d.skip||(r._styleV[n]=d.to,d!=null&&d.disabled?((T=r._styles[n])!=null&&T.cancel&&r._styles[n].cancel(),r.style.setProperty(n,d.to)):i.animateCSS(r,n,d))):r._styleV[n]!==d&&(r._styleV[n]=d,r.style.setProperty(n,d))})}],Update_Tag:[function(r,o,a,i){var n=o.text(a);if(!r){console.log("NOT element.__lastText",r),console.trace();return}r.__lastText!==n&&(r.textContent=r.__lastText=n)},function(r,o,a,i){Object.entries(o.updateStyles(a)).forEach(([n,d])=>{var T;typeof d=="object"?r._styleV[n]!==d.to&&(d!=null&&d.skip||(r._styleV[n]=d.to,d!=null&&d.disabled?((T=r._styles[n])!=null&&T.cancel&&r._styles[n].cancel(),r.style.setProperty(n,d.to)):i.animateCSS(r,n,d))):r._styleV[n]!==d&&(r._styleV[n]=d,r.style.setProperty(n,d))})},function(r,o,a,i){return r}],enter:(r,o,a,i,n,d,T)=>{var L=T.createElement(r,o);return r.enterProps&&r.enterProps(L,r,i,T),r.text&&(typeof r.text=="function"?L.textContent=L.__lastText=r.text(i):L.textContent=L.__lastText=r.text),r.html&&(typeof r.html=="function"?L.innerHTML=L.__lastHTML=r.html(i):L.innerHTML=L.__lastHTML=r.html),T.insertElement(o,L,a),o.__i__[n]={exit:!1},L}}]}get css(){return":host {\n        width:  100%;\n        height: 100%;\n        position: absolute;\n        top:  0;\n        left: 50%;\n        transform: translateX(-50%);\n        user-select: none;\n        -webkit-user-select: none;\n        background:black;\n    }\n    i {\n        position: absolute;\n        color: white;\n        top: 80px;\n        left: 50%;\n    }\n    b {\n        font-family: Courier New;\n        position: absolute;\n        text-align: center;\n        width: 30px;\n        display: block;\n        cursor: pointer;\n    }\n    h1 {\n        font-family: arial;\n        font-size: 12px;\n        opacity: 0.5;\n    }"}get __walt(){}get __src(){return"undefined"}connected(){this.state.alphabet=l,this.render(),setInterval(()=>{this.state.alphabet=t(l).slice(0,Math.floor(Math.random()*26)).sort(),this.render()},2e3)}}customElements.define("ui-7065157845591649",e),window.UIjs.tags["ui-7065157845591649"]=!0}})();(async()=>{if(!customElements.get("ui-6928163769489137")){let t=function(a,i,n,d,T,L){var N=0;for(let M=n;M<n+L;M++){if(M>=a.length)return;for(let P=d;P<Math.min(i,d+T);P++)a[M][P]||N++}if(N==T*L){for(let M=n;M<n+L;M++)for(let P=d;P<d+T;P++)a[M][P]=!0;return!0}},e=function(a,i,n,d){for(let T=0;T<a.length;T++)for(let L=0;L<Math.min(i,a[T].length);L++)if(!a[T][L]&&t(a,i,T,L,n,d))return{row:T,col:L};return a.push(new Array(i).fill(!1)),e(a,i,n,d)};var l=t,c=e;let s=(a,i,n,d,T)=>{if(!a.state.animation)return i.style.setProperty(n,d+"px");i._spring||(i._spring={}),i._spring[n]?i._spring[n].set(d):(i._spring[n]=new a.Spring({target:d,current:T||d,stiffness:a.state.enter_stiffness,damping:a.state.enter_damping,mass:a.state.enter_mass,delta:1,callback:L=>i.style.setProperty(n,L+"px"),done:()=>{i._spring[n]&&(delete i._spring[n].done,i._spring[n].stiffness=a.state.stiffness,i._spring[n].mass=a.state.mass,i._spring[n].damping=a.state.damping)}}),i.style.setProperty(n,d+"px"))},r=a=>{a.sections.forEach((i,n)=>Object.keys(i._spring).forEach(d=>{i._spring[d].stiffness=a.state.stiffness,i._spring[d].mass=a.state.mass,i._spring[d].damping=a.state.damping}))};class o extends Ot{static get observedAttributes(){return["width","padding","animation","stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"]}get nanoapp(){return[]}get initial_state(){return{width:200,padding:10,animation:!1,stiffness:4,damping:.7,mass:.1,enter_stiffness:10,enter_damping:.8,enter_mass:.05}}get initial_component(){return[{tag:"slot",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(i,n,d,T){return i}],enter:(i,n,d,T,L,N,M)=>{var P=M.createElement(i,n);return i.enterProps&&i.enterProps(P,i,T,M),i.text&&(typeof i.text=="function"?P.textContent=P.__lastText=i.text(T):P.textContent=P.__lastText=i.text),i.html&&(typeof i.html=="function"?P.innerHTML=P.__lastHTML=i.html(T):P.innerHTML=P.__lastHTML=i.html),M.insertElement(n,P,d),n.__i__[L]={exit:!1},P}}]}get css(){return":host {\n        display: block;\n        position: relative;\n        width: 100%;\n        box-sizing: border-box;\n    }\n    ::slotted(section) {\n        position: absolute;\n        box-sizing: border-box;\n        background: white;\n        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.05), 0 6px 20px 0 rgba(0, 0, 0, 0.02);\n    }"}get __walt(){}get __src(){return"undefined"}redraw(){var M;if(!((M=this.sections)!=null&&M.length))return;let i=Number(this.state.width),n=Number(this.state.padding),d=this.element.offsetWidth-n,T=d>Number(this.state.width)?d/Math.floor(d/i):d,L=[],N=Math.floor(d/T);this.sections.forEach(P=>{var Y=Number(P.getAttribute("w"))||1;let W=Number(P.getAttribute("h"))||1;Y>N&&(Y=N);let{col:B,row:E}=e(L,N,Y,W),ft=Y*T,ht=W*T,St=B*T,mt=E*T,dt=St+n,bt=mt+n,vt=ft-n,Kt=ht-n,Ut=(ft-n)/2,Ht=(ht-n)/2;s(this,P,"left",dt,dt+Ut/2),s(this,P,"top",bt,bt+Ht/2),s(this,P,"width",vt,Ut),s(this,P,"height",Kt,Ht)}),this.lastColumnCount=N,this.element.style.setProperty("height",L.length*T+n+"px")}init(){this.MutationObserverOptions.attributes=!0}slotChange(){this.sections=this.slotted.filter(i=>i.nodeName==="SECTION"),this.sections.forEach((i,n)=>{let d=i.setAttribute;i.setAttribute=(T,L)=>{d.apply(i,[T,L]),(T==="h"||T==="w")&&this.redraw()}}),this.redraw()}changed(i){(i.width||i.padding)&&this.redraw(),["stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"].some(n=>i[n])&&r(this)}connected(){let i=(n,d)=>{let T,L=Date.now()-(d+1);return function(...N){let M=this;clearTimeout(T),T=setTimeout(()=>{n.apply(M,N),L=Date.now()},d-(Date.now()-L))}};this.on("resize",i(this.redraw,100)),this.slotChange()}}customElements.define("ui-6928163769489137",o),window.UIjs.tags["ui-6928163769489137"]=!0}})();(async()=>{if(!customElements.get("ui-7246167392638071")){class l extends Ot{static get observedAttributes(){return["padding","width","animation","flag","size","mysec","stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"]}get nanoapp(){return[]}get initial_state(){return{padding:10,width:200,animation:!0,flag:!0,size:1,mysec:[{name:"Swap 1",width:10,color:"#4be96e"},{name:"Swap 2",width:20,color:"#d78d2f"},{name:"Swap 3",width:40,color:"#319dba"}],stiffness:4,damping:.7,mass:.1,enter_stiffness:10,enter_damping:.8,enter_mass:.05}}get initial_component(){return[{tag:"ui-6928163769489137",children:[{tag:"section",children:[{tag:"button",events:{click:async(t,{state:e},s)=>{e.animation=!e.animation,this.render()}},attrsR:{},context:["state"],text:({state:t})=>"Animation: "+t.animation,enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"button",events:{click:async(t,{state:e},s)=>{e.flag=!e.flag,this.render()}},attrsR:{},text:"Toggle #3",context:["state"],enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"button",events:{click:async(t,{state:e},s)=>{[e.mysec[0],e.mysec[1]]=[e.mysec[1],e.mysec[0]],this.render()}},attrsR:{},text:"Swap sections 1",context:["state"],enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"button",events:{click:async(t,{state:e},s)=>{[e.mysec[0],e.mysec[2]]=[e.mysec[2],e.mysec[0]],this.render()}},attrsR:{},text:"Swap sections 2",context:["state"],enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"button",events:{click:async(t,{state:e},s)=>{e.width=e.width==200?250:200,this.render()}},attrsR:{},context:["state"],text:({state:t})=>"Width: "+t.width,enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>1,max:({state:t})=>4,value:({state:t})=>t.size},attrsB:{},attrsR:{value:"state.size"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.size=t.target.value}},attrs3:{min:({state:t})=>1,max:({state:t})=>4,value:({state:t})=>t.size},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"#2 height = "+t.size,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>0,max:({state:t})=>20,value:({state:t})=>t.padding,step:({state:t})=>10},attrsB:{},attrsR:{value:"state.padding"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.padding=t.target.value}},attrs3:{min:({state:t})=>0,max:({state:t})=>20,value:({state:t})=>t.padding,step:({state:t})=>10},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"padding = "+t.padding,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}},{tag:"section",children:[{tag:"b",text:"Update animation settings",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.stiffness},attrsB:{},attrsR:{value:"state.stiffness"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.stiffness=t.target.value}},attrs3:{min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.stiffness},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Stiffness = "+t.stiffness,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.damping},attrsB:{},attrsR:{value:"state.damping"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.damping=t.target.value}},attrs3:{min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.damping},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Damping = "+t.damping,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.mass},attrsB:{},attrsR:{value:"state.mass"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.mass=t.target.value}},attrs3:{min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.mass},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Mass = "+t.mass,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"b",text:"Enter animation settings",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"button",events:{click:async(t,{state:e},s)=>{e.flag=!e.flag,this.render()}},attrsR:{},text:"Enter/exit #3",context:["state"],enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.enter_stiffness},attrsB:{},attrsR:{value:"state.enter_stiffness"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.enter_stiffness=t.target.value}},attrs3:{min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.enter_stiffness},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Stiffness = "+t.enter_stiffness,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.enter_damping},attrsB:{},attrsR:{value:"state.enter_damping"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.enter_damping=t.target.value}},attrs3:{min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.enter_damping},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Damping = "+t.enter_damping,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.enter_mass},attrsB:{},attrsR:{value:"state.enter_mass"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.enter_mass=t.target.value}},attrs3:{min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.enter_mass},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Mass = "+t.enter_mass,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}}],style:({state:t})=>({"text-align":"left"}),attrs2:{w:({state:t})=>2,h:({state:t})=>t.size},attrsB:{},attrsR:{},context:["state"],attrs3:{w:({state:t})=>2,h:({state:t})=>t.size},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){Object.entries(e.style(s)).forEach(([o,a])=>{t._styleV[o]=a,t.style.setProperty(o,a)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){Object.entries(e.style(s)).forEach(([o,a])=>{t._styleV[o]!==a&&(t._styleV[o]=a,t.style.setProperty(o,a))})}],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){Object.entries(e.style(s)).forEach(([o,a])=>{t._styleV[o]!==a&&(t._styleV[o]=a,t.style.setProperty(o,a))})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}},{tag:"section",if:({state:t})=>t.flag,attrs2:{w:({state:t})=>3,h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #3\n    ",context:["state"],attrs3:{w:({state:t})=>3,h:({state:t})=>2},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",attrs2:{w:({state:t})=>4},attrsB:{},attrsR:{},text:"\n        #4\n    ",context:["state"],attrs3:{w:({state:t})=>4},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",attrs2:{w:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #5\n    ",context:["state"],attrs3:{w:({state:t})=>2},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",attrs2:{h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #6\n    ",context:["state"],attrs3:{h:({state:t})=>2},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",key:t=>t.name,loop_fn:"state.mysec",loop_alias:"item",loop_key_alias:"i",style:({state:t,item:e,i:s})=>({background:e.color,border:e.width+"px dashed #00000033"}),attrsR:{},context:["state","item","i"],loop:({state:t})=>t.mysec,text:({state:t,item:e,i:s})=>e.name,enterProps:[function(t,e,s,r){Object.entries(e.style(s)).forEach(([o,a])=>{t._styleV[o]=a,t.style.setProperty(o,a)})}],updateProps:[function(t,e,s,r){Object.entries(e.style(s)).forEach(([o,a])=>{t._styleV[o]!==a&&(t._styleV[o]=a,t.style.setProperty(o,a))})}],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){Object.entries(e.style(s)).forEach(([o,a])=>{t._styleV[o]!==a&&(t._styleV[o]=a,t.style.setProperty(o,a))})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n={},d=new Map,T=[],L=s;return a.forEach((N,M)=>{var P=i.createElement(t,e);P.key=t.key(N,M),n[P.key]=!0,T.push(P),r[t.loop_alias]=N,t.loop_key_alias&&(r[t.loop_key_alias]=M),t.enterProps&&t.enterProps(P,t,r,i),t.children?i.Enter_Children(P,t.children,r):(t.text&&(typeof t.text=="function"?P.textContent=P.__lastText=t.text(r):P.textContent=P.__lastText=t.text),t.html&&(typeof t.html=="function"?P.innerHTML=P.__lastHTML=t.html(r):P.innerHTML=P.__lastHTML=t.html)),M===0&&!L?i.prependElement(e,P):L.after(P),L=P}),e.__i__[o]={length:a.length,exit:d,elements:T,keys:n},L}},{tag:"section",attrs2:{h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #8\n    ",context:["state"],attrs3:{h:({state:t})=>2},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",attrs2:{w:({state:t})=>2,h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #9\n    ",context:["state"],attrs3:{w:({state:t})=>2,h:({state:t})=>2},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",text:"\n        #10\n    ",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",text:"\n        #11\n    ",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",attrs2:{h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #12\n    ",context:["state"],attrs3:{h:({state:t})=>2},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"section",text:"\n        #13\n    ",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}}],attrs2:{width:({state:t})=>t.width,animation:({state:t})=>t.animation,padding:({state:t})=>t.padding,stiffness:({state:t})=>t.stiffness,damping:({state:t})=>t.damping,mass:({state:t})=>t.mass,enter_stiffness:({state:t})=>t.enter_stiffness,enter_damping:({state:t})=>t.enter_damping,enter_mass:({state:t})=>t.enter_mass},attrsB:{},attrsR:{},context:["state"],attrs3:{width:({state:t})=>t.width,animation:({state:t})=>t.animation,padding:({state:t})=>t.padding,stiffness:({state:t})=>t.stiffness,damping:({state:t})=>t.damping,mass:({state:t})=>t.mass,enter_stiffness:({state:t})=>t.enter_stiffness,enter_damping:({state:t})=>t.enter_damping,enter_mass:({state:t})=>t.enter_mass},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}}]}get css(){return':host {\n        display: block;\n        position: relative;\n        width: 100%;\n        min-height: 100%;\n        height: fit-content;\n        box-sizing: border-box;\n        font: 12px arial;\n    }\n    section {\n        padding: 5px;\n        text-align: center;\n        border-color: #00000033;\n        border-style: solid;\n        border-width: 10px;\n    }\n    input[type="range"] {\n        width: 70px;\n    }\n    button {\n        width: 100%;\n    }\n    section:nth-child(8n+1) { background-color: #75c18177; }\n    section:nth-child(8n+2) { background-color: #B5222D77; }\n    section:nth-child(8n+3) { background-color: #F88C3077; }\n    section:nth-child(8n+4) { background-color: #58bbee77; }\n    section:nth-child(8n+5) { background-color: #8A40A777; }\n    section:nth-child(8n+6) { background-color: #D4953C77; }\n    section:nth-child(8n+7) { background-color: #94816077; }\n    section:nth-child(8n+8) { background-color: #33949677; }'}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-7246167392638071",l),window.UIjs.tags["ui-7246167392638071"]=!0}})();(async()=>{if(!customElements.get("ui-303496780767565")){let t=function(a,i,n,d,T,L){var N=0;for(let M=n;M<n+L;M++){if(M>=a.length)return;for(let P=d;P<Math.min(i,d+T);P++)a[M][P]||N++}if(N==T*L){for(let M=n;M<n+L;M++)for(let P=d;P<d+T;P++)a[M][P]=!0;return!0}},e=function(a,i,n,d){for(let T=0;T<a.length;T++)for(let L=0;L<Math.min(i,a[T].length);L++)if(!a[T][L]&&t(a,i,T,L,n,d))return{row:T,col:L};return a.push(new Array(i).fill(!1)),e(a,i,n,d)};var l=t,c=e;let s=(a,i,n,d,T)=>{if(!a.state.animation)return i.style.setProperty(n,d+"px");i._spring||(i._spring={}),i._spring[n]?i._spring[n].set(d):(i._spring[n]=new a.Spring({target:d,current:T||d,stiffness:a.state.enter_stiffness,damping:a.state.enter_damping,mass:a.state.enter_mass,delta:1,callback:L=>i.style.setProperty(n,L+"px"),done:()=>{i._spring[n]&&(delete i._spring[n].done,i._spring[n].stiffness=a.state.stiffness,i._spring[n].mass=a.state.mass,i._spring[n].damping=a.state.damping)}}),i.style.setProperty(n,d+"px"))},r=a=>{a.sections.forEach((i,n)=>Object.keys(i._spring).forEach(d=>{i._spring[d].stiffness=a.state.stiffness,i._spring[d].mass=a.state.mass,i._spring[d].damping=a.state.damping}))};class o extends Ot{static get observedAttributes(){return["width","padding","animation","stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"]}get nanoapp(){return[]}get initial_state(){return{width:200,padding:10,animation:!1,stiffness:4,damping:.7,mass:.1,enter_stiffness:10,enter_damping:.8,enter_mass:.05}}get initial_component(){return[{tag:"slot",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(i,n,d,T){return i}],enter:(i,n,d,T,L,N,M)=>{var P=M.createElement(i,n);return i.enterProps&&i.enterProps(P,i,T,M),i.text&&(typeof i.text=="function"?P.textContent=P.__lastText=i.text(T):P.textContent=P.__lastText=i.text),i.html&&(typeof i.html=="function"?P.innerHTML=P.__lastHTML=i.html(T):P.innerHTML=P.__lastHTML=i.html),M.insertElement(n,P,d),n.__i__[L]={exit:!1},P}}]}get css(){return":host {\n        display: block;\n        position: relative;\n        width: 100%;\n        box-sizing: border-box;\n    }\n    ::slotted(section) {\n        position: absolute;\n        box-sizing: border-box;\n        background: white;\n        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.05), 0 6px 20px 0 rgba(0, 0, 0, 0.02);\n    }"}get __walt(){}get __src(){return"undefined"}redraw(){var M;if(!((M=this.sections)!=null&&M.length))return;let i=Number(this.state.width),n=Number(this.state.padding),d=this.element.offsetWidth-n,T=d>Number(this.state.width)?d/Math.floor(d/i):d,L=[],N=Math.floor(d/T);this.sections.forEach(P=>{var Y=Number(P.getAttribute("w"))||1;let W=Number(P.getAttribute("h"))||1;Y>N&&(Y=N);let{col:B,row:E}=e(L,N,Y,W),ft=Y*T,ht=W*T,St=B*T,mt=E*T,dt=St+n,bt=mt+n,vt=ft-n,Kt=ht-n,Ut=(ft-n)/2,Ht=(ht-n)/2;s(this,P,"left",dt,dt+Ut/2),s(this,P,"top",bt,bt+Ht/2),s(this,P,"width",vt,Ut),s(this,P,"height",Kt,Ht)}),this.lastColumnCount=N,this.element.style.setProperty("height",L.length*T+n+"px")}init(){this.MutationObserverOptions.attributes=!0}slotChange(){this.sections=this.slotted.filter(i=>i.nodeName==="SECTION"),this.sections.forEach((i,n)=>{let d=i.setAttribute;i.setAttribute=(T,L)=>{d.apply(i,[T,L]),(T==="h"||T==="w")&&this.redraw()}}),this.redraw()}changed(i){(i.width||i.padding)&&this.redraw(),["stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"].some(n=>i[n])&&r(this)}connected(){let i=(n,d)=>{let T,L=Date.now()-(d+1);return function(...N){let M=this;clearTimeout(T),T=setTimeout(()=>{n.apply(M,N),L=Date.now()},d-(Date.now()-L))}};this.on("resize",i(this.redraw,100)),this.slotChange()}}customElements.define("ui-303496780767565",o),window.UIjs.tags["ui-303496780767565"]=!0}})();(async()=>{if(!customElements.get("ui-7740377049529222")){class l extends Ot{static get observedAttributes(){return["category","selected","menu"]}get nanoapp(){return[]}get initial_state(){return{category:void 0,selected:void 0,menu:[]}}get initial_component(){return[{tag:"aside",children:[{tag:"ul",children:[{tag:"li",children:[{tag:"header",events:{click:async(t,{state:e,category:s},r)=>{e.category=e.category!==s.caption?s.caption:void 0,this.render()}},attrsR:{},context:["state","category"],text:({state:t,category:e})=>e.caption,enterProps:[function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}},{tag:"ul",children:[{tag:"li",key:t=>t.url,loop_fn:"category.items",loop_alias:"item",enterStyles:({state:t,category:e,item:s})=>({"padding-left":{to:"50px",ease:"easeOutBounce"}}),events:{click:async(t,{state:e,category:s,item:r},o)=>{e.selected=r,this.emit("select",r),this.render()}},attrs2:{class:({state:t,category:e,item:s})=>t.selected===s&&"active"},attrsB:{},attrsR:{},context:["state","category","item"],loop:({state:t,category:e})=>e.items,text:({state:t,category:e,item:s})=>s.caption,attrs3:{class:({state:t,category:e,item:s})=>t.selected===s&&"active"},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})},function(t,e,s,r){Object.entries(e.enterStyles(s)).forEach(([o,a])=>{var i;if(Array.isArray(a))throw"not implemented";typeof a=="object"?(t._styleV[o]=a.to,r.animateCSS(t,o,a)):(t._styleV[o]=a,(i=t._styles[o])!=null&&i.cancel&&t._styles[o].cancel(),t.style.setProperty(o,a))})},function(t,e,s,r){t.__datum={...s},Object.entries(e.events).forEach(([o,a])=>{t._events[o]=i=>a(i,t.__datum,t),t.addEventListener(o,t._events[o])})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}}],Update_Tag:[function(t,e,s,r){var o=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==o&&(t.textContent=t.__lastText=o)},function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){t.__datum={...s}},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n={},d=new Map,T=[],L=s;return a.forEach((N,M)=>{var P=i.createElement(t,e);P.key=t.key(N,M),n[P.key]=!0,T.push(P),r[t.loop_alias]=N,t.loop_key_alias&&(r[t.loop_key_alias]=M),t.enterProps&&t.enterProps(P,t,r,i),t.children?i.Enter_Children(P,t.children,r):(t.text&&(typeof t.text=="function"?P.textContent=P.__lastText=t.text(r):P.textContent=P.__lastText=t.text),t.html&&(typeof t.html=="function"?P.innerHTML=P.__lastHTML=t.html(r):P.innerHTML=P.__lastHTML=t.html)),M===0&&!L?i.prependElement(e,P):L.after(P),L=P}),e.__i__[o]={length:a.length,exit:d,elements:T,keys:n},L}}],if:({state:t,category:e})=>e.caption===t.category,attrsR:{},context:["state","category"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}}],key:t=>t.caption,loop_fn:"state.menu",loop_alias:"category",attrs2:{class:({state:t,category:e})=>t.category===e.caption&&"active"},attrsB:{},attrsR:{},context:["state","category"],loop:({state:t})=>t.menu,attrs3:{class:({state:t,category:e})=>t.category===e.caption&&"active"},enterProps:[function(t,e,s,r){var o=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([a,i])=>{o[a]=typeof i=="function"?i(s):i}),Object.entries(o).forEach(([a,i])=>{r.enterAttribute(e,t,a,i)})}],updateProps:[function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})}],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){Object.entries(e.attrs3).forEach(([o,a])=>{r.updateAttribute(e,t,o,typeof a=="function"?a(s):a)})},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n={},d=new Map,T=[],L=s;return a.forEach((N,M)=>{var P=i.createElement(t,e);P.key=t.key(N,M),n[P.key]=!0,T.push(P),r[t.loop_alias]=N,t.loop_key_alias&&(r[t.loop_key_alias]=M),t.enterProps&&t.enterProps(P,t,r,i),t.children?i.Enter_Children(P,t.children,r):(t.text&&(typeof t.text=="function"?P.textContent=P.__lastText=t.text(r):P.textContent=P.__lastText=t.text),t.html&&(typeof t.html=="function"?P.innerHTML=P.__lastHTML=t.html(r):P.innerHTML=P.__lastHTML=t.html)),M===0&&!L?i.prependElement(e,P):L.after(P),L=P}),e.__i__[o]={length:a.length,exit:d,elements:T,keys:n},L}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}},{tag:"main",children:[{tag:"slot",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),t.text&&(typeof t.text=="function"?n.textContent=n.__lastText=t.text(r):n.textContent=n.__lastText=t.text),t.html&&(typeof t.html=="function"?n.innerHTML=n.__lastHTML=t.html(r):n.innerHTML=n.__lastHTML=t.html),i.insertElement(e,n,s),e.__i__[o]={exit:!1},n}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,r){r.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,r){return t}],enter:(t,e,s,r,o,a,i)=>{var n=i.createElement(t,e);return t.enterProps&&t.enterProps(n,t,r,i),i.insertElement(e,n,s),i.Enter_Children(n,t.children,r),e.__i__[o]={exit:!1},n}}]}get css(){return":host {\n        font-family: sans-serif;\n        padding: 0;\n        margin: 0;\n        text-rendering: optimizeLegibility;\n        -webkit-font-smoothing: antialiased;\n    }\n    main {\n        position: absolute;\n        width: calc(100% - 240px);\n        height: 100%;\n        right:0;\n    }\n    aside {\n        color: white;\n        width: 240px;\n        height: 100%;\n        background: #558361;\n        position: absolute;\n        font-size: 14px;\n        user-select: none;\n        -webkit-user-select: none;\n    }\n    ul {\n        margin: 0;\n        padding: 0;\n    }\n    li {\n        margin-left: 0;\n        cursor: pointer;\n        list-style-type: none;\n        border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n    }\n    aside > ul > li > ul > li {\n        padding-left: 30px;\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-bottom: none;\n        opacity: 0.7;\n        background: #3b5943;\n    }\n    ul > li.active {\n        font-weight: bold;\n    }\n    aside > ul > li > ul > li.active {\n        opacity: 1;\n    }\n    aside > ul > li > ul > li:hover {\n        color: yellow;\n    }\n    header {\n        padding-top: 15px;\n        padding-bottom: 15px;\n        margin-left: 15px;\n    }"}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-7740377049529222",l),window.UIjs.tags["ui-7740377049529222"]=!0}})();console.log("Hi \u{1F642}");
/*! Bundled license information:

@ui.js.org/ui/dist/ui.esm.js:
  (**
   * WASM types
   *
   * https://github.com/WebAssembly/spec/tree/master/interpreter#s-expression-syntax
   *
   * Plus some extra C type mappings
   *
   * @author arthrubuldauskas@gmail.com
   * @license MIT
   *)
  (**
   * min.css
   *
   * min.css is a tiny, fast and efficient JavaScript library for minifying CSS
   * files that really makes your website faster
   *
   * Site: https://github.com/w3core/min.css/
   * Online: https://w3core.github.io/min.css/
   *
   * @version 1.3.1
   *
   * @license BSD License
   * @author Max Chuhryaev
   *)
*/
